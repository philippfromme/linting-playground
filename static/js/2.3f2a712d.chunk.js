/*! For license information please see 2.3f2a712d.chunk.js.LICENSE.txt */
(this["webpackJsonpproperties-panel-test"]=this["webpackJsonpproperties-panel-test"]||[]).push([[2],[function(e,t,n){"use strict";function r(e){return Array.prototype.concat.apply([],e)}n.r(t),n.d(t,"assign",(function(){return q})),n.d(t,"bind",(function(){return z})),n.d(t,"debounce",(function(){return L})),n.d(t,"ensureArray",(function(){return h})),n.d(t,"every",(function(){return E})),n.d(t,"filter",(function(){return g})),n.d(t,"find",(function(){return y})),n.d(t,"findIndex",(function(){return v})),n.d(t,"flatten",(function(){return r})),n.d(t,"forEach",(function(){return b})),n.d(t,"get",(function(){return V})),n.d(t,"groupBy",(function(){return k})),n.d(t,"has",(function(){return m})),n.d(t,"isArray",(function(){return c})),n.d(t,"isDefined",(function(){return s})),n.d(t,"isFunction",(function(){return d})),n.d(t,"isNil",(function(){return p})),n.d(t,"isNumber",(function(){return u})),n.d(t,"isObject",(function(){return l})),n.d(t,"isString",(function(){return f})),n.d(t,"isUndefined",(function(){return a})),n.d(t,"keys",(function(){return P})),n.d(t,"map",(function(){return _})),n.d(t,"matchPattern",(function(){return R})),n.d(t,"merge",(function(){return G})),n.d(t,"omit",(function(){return W})),n.d(t,"pick",(function(){return H})),n.d(t,"reduce",(function(){return w})),n.d(t,"set",(function(){return U})),n.d(t,"size",(function(){return j})),n.d(t,"some",(function(){return O})),n.d(t,"sortBy",(function(){return T})),n.d(t,"throttle",(function(){return I})),n.d(t,"unionBy",(function(){return C})),n.d(t,"uniqueBy",(function(){return A})),n.d(t,"values",(function(){return S})),n.d(t,"without",(function(){return x}));var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function s(e){return void 0!==e}function p(e){return null==e}function c(e){return"[object Array]"===i.call(e)}function l(e){return"[object Object]"===i.call(e)}function u(e){return"[object Number]"===i.call(e)}function d(e){var t=i.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function f(e){return"[object String]"===i.call(e)}function h(e){if(!c(e))throw new Error("must supply array")}function m(e,t){return o.call(e,t)}function y(e,t){var n;return t=D(t),b(e,(function(e,r){if(t(e,r))return n=e,!1})),n}function v(e,t){t=D(t);var n=c(e)?-1:void 0;return b(e,(function(e,r){if(t(e,r))return n=r,!1})),n}function g(e,t){var n=[];return b(e,(function(e,r){t(e,r)&&n.push(e)})),n}function b(e,t){var n;if(!a(e)){var r=c(e)?B:N;for(var i in e)if(m(e,i)&&!1===t(n=e[i],r(i)))return n}}function x(e,t){return a(e)?[]:(h(e),t=D(t),e.filter((function(e,n){return!t(e,n)})))}function w(e,t,n){return b(e,(function(e,r){n=t(n,e,r)})),n}function E(e,t){return!!w(e,(function(e,n,r){return e&&t(n,r)}),!0)}function O(e,t){return!!y(e,t)}function _(e,t){var n=[];return b(e,(function(e,r){n.push(t(e,r))})),n}function P(e){return e&&Object.keys(e)||[]}function j(e){return P(e).length}function S(e){return _(e,(function(e){return e}))}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=M(t),b(e,(function(e){var r=t(e)||"_",i=n[r];i||(i=n[r]=[]),i.push(e)})),n}function A(e){e=M(e);for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];b(r,(function(n){return k(n,e,t)}));var o=_(t,(function(e,t){return e[0]}));return o}var C=A;function T(e,t){t=M(t);var n=[];return b(e,(function(e,r){for(var i=t(e,r),o={d:i,v:e},a=0;a<n.length;a++){if(i<n[a].d)return void n.splice(a,0,o)}n.push(o)})),_(n,(function(e){return e.v}))}function R(e){return function(t){return E(e,(function(e,n){return t[n]===e}))}}function M(e){return d(e)?e:function(t){return t[e]}}function D(e){return d(e)?e:function(t){return t===e}}function N(e){return e}function B(e){return Number(e)}function L(e,t){var n,r,i,o;function a(n){var a=Date.now(),c=n?0:o+t-a;if(c>0)return s(c);e.apply(i,r),p()}function s(e){n=setTimeout(a,e)}function p(){n&&clearTimeout(n),n=o=r=i=void 0}function c(){o=Date.now();for(var e=arguments.length,a=new Array(e),p=0;p<e;p++)a[p]=arguments[p];r=a,i=this,n||s(t)}return c.flush=function(){n&&a(!0),p()},c.cancel=p,c}function I(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),t))}}function z(e,t){return e.bind(t)}function $(e){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}function q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F.apply(void 0,[e].concat(n))}function U(e,t,n){var r=e;return b(t,(function(e,i){if("number"!==typeof e&&"string"!==typeof e)throw new Error("illegal key type: "+$(e)+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");var o=t[i+1],c=r[e];s(o)&&p(c)&&(c=r[e]=isNaN(+o)?{}:[]),a(o)?a(n)?delete r[e]:r[e]=n:r=c})),e}function V(e,t,n){var r=e;return b(t,(function(e){if(p(r))return r=void 0,!1;r=r[e]})),a(r)?n:r}function H(e,t){var n={},r=Object(e);return b(t,(function(t){t in r&&(n[t]=e[t])})),n}function W(e,t){var n={};return b(Object(e),(function(e,r){-1===t.indexOf(r)&&(n[r]=e)})),n}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?(b(n,(function(t){t&&l(t)&&b(t,(function(t,n){if("__proto__"!==n){var r=e[n];l(t)?(l(r)||(r={}),e[n]=G(r,t)):e[n]=t}}))})),e):e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(5);function i(e,t){var n=a(e);return n&&"function"===typeof n.$instanceOf&&n.$instanceOf(t)}function o(e,t){return Object(r.v)(t,(function(t){return i(e,t)}))}function a(e){return e&&e.businessObject||e}function s(e){return e&&e.di}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return ne})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return Se})),n.d(t,"f",(function(){return V})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return W})),n.d(t,"i",(function(){return oe})),n.d(t,"j",(function(){return X})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return pe})),n.d(t,"m",(function(){return ue})),n.d(t,"n",(function(){return me})),n.d(t,"o",(function(){return be})),n.d(t,"p",(function(){return Oe})),n.d(t,"q",(function(){return re})),n.d(t,"r",(function(){return ce})),n.d(t,"s",(function(){return ye})),n.d(t,"t",(function(){return xe})),n.d(t,"u",(function(){return _e})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return D}));var r=n(23),i=n(28),o=n(9),a=n(12),s=n(7),p=n(14),c=n(8),l=n(11),u=n(5),d=n(20),f=n.n(d),h=(n(6),n(3)),m=n(24),y=n(10),v=["children","class","onClick"],g=["id","element","items","component","label","open","onAdd","onRemove","autoFocusEntry","compareFn"],b=["autoFocusEntry","component","element","id","items","newItems","onRemove","open"],x=function(e){return Object(h.a)("svg",Object(c.a)(Object(c.a)({},e),{},{children:Object(h.a)("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8z"})}))};x.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var w=function(e){return Object(h.a)("svg",Object(c.a)(Object(c.a)({},e),{},{children:Object(h.a)("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0z"})}))};w.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var E=function(e){return Object(h.a)("svg",Object(c.a)(Object(c.a)({},e),{},{children:Object(h.a)("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5zM13 3h-2l-1-1H6L5 3H3v1.5h10V3z"})}))};E.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var O=function(e){return Object(h.a)("svg",Object(c.a)(Object(c.a)({},e),{},{children:Object(h.a)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274zM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2z",fill:"#818798"})}))};O.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var _=function(e){return Object(h.b)("svg",Object(c.a)(Object(c.a)({},e),{},{children:[Object(h.a)("path",{d:"M5.8 7.06V5.95h4.307v1.11H5.8zm0 3.071v-1.11h4.307v1.11H5.8z",fill:"#505562"}),Object(h.a)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3.268A4.732 4.732 0 1 0 12.732 8H14a6 6 0 1 1-6-6v1.268z",fill:"#505562"}),Object(h.a)("path",{d:"m11.28 6.072-.832-.56 1.016-1.224L10 3.848l.312-.912 1.392.584L11.632 2h1.032l-.072 1.52 1.392-.584.312.912-1.464.44 1.008 1.224-.832.552-.864-1.296-.864 1.304z",fill:"#505562"})]}))};_.defaultProps={viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var P=function(e){return Object(h.b)("svg",Object(c.a)(Object(c.a)({},e),{},{children:[Object(h.a)("path",{d:"M5.845 7.04V5.93h4.307v1.11H5.845zm0 3.07V9h4.307v1.11H5.845z",fill:"#505562"}),Object(h.a)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.286 8a4.714 4.714 0 1 0 9.428 0 4.714 4.714 0 0 0-9.428 0zM8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2z",fill:"#505562"})]}))};function j(e){var t=e.element,n=e.headerProvider,r=n.getElementIcon,i=n.getDocumentationRef,o=n.getElementLabel,a=n.getTypeLabel,s=o(t),p=a(t),c=i&&i(t),l=r(t);return Object(h.b)("div",{class:"bio-properties-panel-header",children:[Object(h.a)("div",{class:"bio-properties-panel-header-icon",children:l&&Object(h.a)(l,{width:"32",height:"32",viewBox:"0 0 32 32"})}),Object(h.b)("div",{class:"bio-properties-panel-header-labels",children:[Object(h.a)("div",{title:p,class:"bio-properties-panel-header-type",children:p}),s?Object(h.a)("div",{title:s,class:"bio-properties-panel-header-label",children:s}):null]}),Object(h.a)("div",{class:"bio-properties-panel-header-actions",children:c?Object(h.a)("a",{rel:"noopener",class:"bio-properties-panel-header-link",href:c,title:"Open documentation",target:"_blank",children:Object(h.a)(O,{})}):null})]})}P.defaultProps={viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var S=Object(y.d)({description:{},getDescriptionForId:function(){}}),k=Object(y.d)({errors:{}}),A=Object(y.d)({eventBus:null}),C=Object(y.d)({layout:{},setLayout:function(){},getLayoutForKey:function(){},setLayoutForKey:function(){}});function T(e){return Object(l.b)(k).errors[e]}function R(e,t,n){var r=Object(l.b)(A);n||(n=r.eventBus);var i=Object(l.i)(!1);n&&!i.current&&n.on(e,t),Object(l.d)((function(){return n&&i.current&&n.on(e,t),i.current=!0,function(){n&&n.off(e,t)}}),[t,e,n])}function M(e,t){var n=Object(l.b)(C),r=n.getLayoutForKey,i=n.setLayoutForKey,o=r(e,t),a=Object(l.j)(o),s=Object(p.a)(a,2),c=s[0],u=s[1];return[c,function(t){u(t),i(e,t)}]}function D(e){var t=Object(l.i)();return Object(l.d)((function(){t.current=e})),t.current}function N(e){var t=Object(l.b)(C).onShow,n=Object(l.i)(),r=Object(l.i)(!1),i=Object(l.a)((function(n){n.id===e&&(t(),r.current||(r.current=!0))}),[e]);return Object(l.d)((function(){r.current&&n.current&&(Object(u.m)(n.current.focus)&&n.current.focus(),Object(u.m)(n.current.select)&&n.current.select(),r.current=!1)})),R("propertiesPanel.showEntry",i),n}function B(e,t,n){Object(l.d)((function(){if(IntersectionObserver){var r;if(e.current){var i=Object(m.b)(t);(r=new IntersectionObserver((function(e){e[0].intersectionRatio<1?n(!0):1===e[0].intersectionRatio&&n(!1)}),{root:i,rootMargin:"0px 0px 999999% 0px",threshold:[1]})).observe(e.current)}return function(){e.current&&r&&r.unobserve(e.current)}}}),[e])}function L(e){var t=e.element,n=e.entries,r=void 0===n?[]:n,i=e.id,o=e.label,a=e.shouldOpen,s=void 0!==a&&a,d=Object(l.i)(null),v=M(["groups",i,"open"],s),g=Object(p.a)(v,2),b=g[0],w=g[1],E=Object(l.a)((function(){return w(!0)}),[w]),O=Object(l.j)(!1),_=Object(p.a)(O,2),P=_[0],j=_[1],S=Object(l.j)(!1),k=Object(p.a)(S,2),A=k[0],T=k[1];Object(l.d)((function(){var e=r.find((function(e){var t=e.id,n=e.isEdited,r=Object(m.b)('[data-entry-id="'.concat(t,'"]'));return!(!Object(u.m)(n)||!r)&&n(Object(m.b)(".bio-properties-panel-input",r))}));j(e)}),[r]),B(d,"div.bio-properties-panel-scroll-container",T);var R=Object(c.a)(Object(c.a)({},Object(l.b)(C)),{},{onShow:E});return Object(h.b)("div",{class:"bio-properties-panel-group","data-group-id":"group-"+i,ref:d,children:[Object(h.b)("div",{class:f()("bio-properties-panel-group-header",P?"":"empty",b?"open":"",A&&b?"sticky":""),onClick:function(){return w(!b)},children:[Object(h.a)("div",{title:o,class:"bio-properties-panel-group-header-title",children:o}),Object(h.b)("div",{class:"bio-properties-panel-group-header-buttons",children:[P&&Object(h.a)(I,{}),Object(h.a)("button",{title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:Object(h.a)(x,{class:b?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),Object(h.a)("div",{class:f()("bio-properties-panel-group-entries",b?"open":""),children:Object(h.a)(C.Provider,{value:R,children:r.map((function(e){var n=e.component,r=e.id;return Object(y.e)(n,Object(c.a)(Object(c.a)({},e),{},{element:t,key:r}))}))})})]})}function I(){return Object(h.a)("div",{title:"Section contains data",class:"bio-properties-panel-dot"})}function z(e){var t=e.text,n=e.icon;return Object(h.a)("div",{class:"bio-properties-panel open",children:Object(h.b)("section",{class:"bio-properties-panel-placeholder",children:[n&&Object(h.a)(n,{class:"bio-properties-panel-placeholder-icon"}),Object(h.a)("p",{class:"bio-properties-panel-placeholder-text",children:t})]})})}var $={open:!0},F={},q=["propertiesPanel.showEntry","propertiesPanel.setErrors"];function U(e){var t,n=e.element,r=e.headerProvider,i=e.placeholderProvider,o=e.groups,a=e.layoutConfig,s=void 0===a?{}:a,d=e.layoutChanged,m=e.descriptionConfig,v=void 0===m?{}:m,g=e.descriptionLoaded,b=e.eventBus,x=Object(l.j)((t=s,Object(c.a)(Object(c.a)({},$),t))),w=Object(p.a)(x,2),E=w[0],O=w[1];Object(l.d)((function(){"function"===typeof d&&d(E)}),[E,d]);var _={layout:E,setLayout:O,getLayoutForKey:function(e,t){return Object(u.h)(E,e,t)},setLayoutForKey:function(e,t){var n=Object(u.a)({},E);Object(u.u)(n,e,t),O(n)}},P=function(e){return Object(c.a)(Object(c.a)({},F),e)}(v);"function"===typeof g&&g(P);var T={description:P,getDescriptionForId:function(e,t){return P[e]&&P[e](t)}};!function(e,t){var n=Object(l.i)([]),r=Object(l.i)(!0),i=function(e){return function(t){!0===r.current&&n.current.unshift([e,t])}};Object(l.d)((function(){if(t){var n=e.map((function(e){return[e,i(e)]}));return n.forEach((function(e){var n=Object(p.a)(e,2),r=n[0],i=n[1];t.on(r,1e4,i)})),function(){n.forEach((function(e){var n=Object(p.a)(e,2),r=n[0],i=n[1];t.off(r,i)}))}}}),[e,t]),Object(l.d)((function(){if(t){for(r.current=!1;n.current.length;){var e=n.current.pop(),i=Object(p.a)(e,2),o=i[0],a=i[1];t.fire(o,a)}r.current=!0}}))}(q,b);var M=Object(l.j)({}),D=Object(p.a)(M,2),N=D[0],B=D[1];R("propertiesPanel.setErrors",(function(e){var t=e.errors;return B(t)}),b);var I={errors:N},U={eventBus:b},V={element:n};return i&&!n?Object(h.a)(z,Object(c.a)({},i.getEmpty())):i&&Object(u.k)(n)?Object(h.a)(z,Object(c.a)({},i.getMultiple())):Object(h.a)(C.Provider,{value:V,children:Object(h.a)(k.Provider,{value:I,children:Object(h.a)(S.Provider,{value:T,children:Object(h.a)(C.Provider,{value:_,children:Object(h.a)(A.Provider,{value:U,children:Object(h.b)("div",{class:f()("bio-properties-panel",E.open?"open":""),children:[Object(h.a)(j,{element:n,headerProvider:r}),Object(h.a)("div",{class:"bio-properties-panel-scroll-container",children:o.map((function(e){var t=e.component,r=void 0===t?L:t,i=e.id;return Object(y.e)(r,Object(c.a)(Object(c.a)({},e),{},{key:i,element:n}))}))})]})})})})})})}function V(e){var t,n,r=e.class,i=e.children,o=e.menuItems,a=void 0===o?[]:o,c=Object(l.i)(null),u=Object(l.i)(null),d=Object(l.j)(!1),m=Object(p.a)(d,2),y=m[0],v=m[1],g=function(){return v(!1)};function b(e,t){e.stopPropagation(),g(),t()}return t=[c.current],n=function(){return g()},Object(l.d)((function(){function e(e){t.some((function(t){return t&&t.contains(e.target)}))||n()}return document.addEventListener("click",e,{capture:!0}),function(){return document.removeEventListener("click",e,{capture:!0})}}),[].concat(Object(s.a)(t),[n])),Object(h.b)("div",{class:f()("bio-properties-panel-dropdown-button",{open:y},r),onClick:function(e){u.current&&u.current.contains(e.target)||(e.stopPropagation(),v((function(e){return!e})))},ref:c,children:[i,Object(h.a)("div",{class:"bio-properties-panel-dropdown-button__menu",ref:u,children:a.map((function(e,t){return Object(h.a)(H,{onClick:b,item:e},t)}))})]})}function H(e){var t=e.item,n=e.onClick;return t.separator?Object(h.a)("div",{class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--separator"}):t.action?Object(h.a)("button",{class:"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--actionable",onClick:function(e){return n(e,t.action)},children:t.entry}):Object(h.a)("div",{class:"bio-properties-panel-dropdown-button__menu-item",children:t.entry})}function W(e){var t=e.children,n=void 0===t?null:t,r=e.class,i=e.onClick,o=void 0===i?function(){}:i,s=Object(a.a)(e,v);return Object(h.a)("button",Object(c.a)(Object(c.a)({},s),{},{onClick:o,class:f()("bio-properties-panel-group-header-button",r),children:n}))}function G(e){var t=e.element,n=e.entries,r=void 0===n?[]:n,i=e.id,o=e.label,a=e.open,s=e.remove,d=Object(l.j)(a),m=Object(p.a)(d,2),v=m[0],g=m[1],b=Object(l.b)(C).onShow,w=Object(c.a)(Object(c.a)({},Object(l.b)(C)),{},{onShow:Object(l.a)((function(){g(!0),Object(u.m)(b)&&b()}),[b,g])}),O="<empty>";return Object(h.b)("div",{"data-entry-id":i,class:f()("bio-properties-panel-collapsible-entry",v?"open":""),children:[Object(h.b)("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:function(){return g(!v)},children:[Object(h.a)("div",{title:o||O,class:f()("bio-properties-panel-collapsible-entry-header-title",!o&&"empty"),children:o||O}),Object(h.a)("button",{title:"Toggle list item",class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:Object(h.a)(x,{class:v?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),s?Object(h.a)("button",{title:"Delete item",class:"bio-properties-panel-remove-entry",onClick:s,children:Object(h.a)(E,{})}):null]}),Object(h.a)("div",{class:f()("bio-properties-panel-collapsible-entry-entries",v?"open":""),children:Object(h.a)(C.Provider,{value:w,children:r.map((function(e){var n=e.component,r=e.id;return Object(y.e)(n,Object(c.a)(Object(c.a)({},e),{},{element:t,key:r}))}))})})]})}function K(e){var t=e.autoFocusEntry,n=e.autoOpen;return Object(l.d)((function(){if(n&&t){var e=Object(m.b)('[data-entry-id="'.concat(t,'"]')),r=Object(m.b)(".bio-properties-panel-input",e);r&&(Object(u.m)(r.select)?r.select():Object(u.m)(r.focus)&&r.focus())}}),[n,t]),Object(h.a)("div",{class:"bio-properties-panel-list-item",children:Object(h.a)(G,Object(c.a)(Object(c.a)({},e),{},{open:n}))})}var Y=function(){};function X(e){var t=e.add,n=e.element,r=e.id,i=e.items,o=e.label,a=e.shouldOpen,s=void 0===a||a,u=e.shouldSort,d=void 0===u||u,m=Object(l.i)(null),v=M(["groups",r,"open"],!1),g=Object(p.a)(v,2),b=g[0],E=g[1],O=Object(l.j)(!1),_=Object(p.a)(O,2),P=_[0],j=_[1],S=Object(l.a)((function(){return E(!0)}),[E]),k=Object(l.j)([]),A=Object(p.a)(k,2),T=A[0],R=A[1],N=Object(l.j)(!1),L=Object(p.a)(N,2),I=L[0],z=L[1],$=D(i),F=D(n),q=n!==F,U=!q&&(d||s);q&&R(Z(d?Q(i):i)),Object(l.d)((function(){$&&d||R(Z(i))}),[i,n]),Object(l.d)((function(){if(U&&$&&i.length>$.length){var e=[];i.forEach((function(t){T.includes(t.id)||e.push(t.id)}));var t,n,r=T;if(!b&&s&&(V(),d&&(r=Z(Q(i)))),r=r.filter((function(t){return!e.includes(t)})),d)(t=r).unshift.apply(t,e);else(n=r).push.apply(n,e);R(r),z(!0)}else z(!1)}),[i,b,U]),Object(l.d)((function(){d&&b&&!I&&R(Z(Q(i)))}),[b,d]),Object(l.d)((function(){if(U&&$&&i.length<$.length){var e=[];T.forEach((function(t){J(i,t)&&e.push(t)})),R(e)}}),[i,U]),B(m,"div.bio-properties-panel-scroll-container",j);var V=function(){return E(!b)},H=!!i.length,W=Object(c.a)(Object(c.a)({},Object(l.b)(C)),{},{onShow:S});return Object(h.b)("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:m,children:[Object(h.b)("div",{class:f()("bio-properties-panel-group-header",H?"":"empty",H&&b?"open":"",P&&b?"sticky":""),onClick:H?V:Y,children:[Object(h.a)("div",{title:o,class:"bio-properties-panel-group-header-title",children:o}),Object(h.b)("div",{class:"bio-properties-panel-group-header-buttons",children:[t?Object(h.b)("button",{title:"Create new list item",class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:t,children:[Object(h.a)(w,{}),H?null:Object(h.a)("span",{class:"bio-properties-panel-add-entry-label",children:"Create"})]}):null,H?Object(h.a)("div",{title:"List contains ".concat(i.length," item").concat(1!=i.length?"s":""),class:"bio-properties-panel-list-badge",children:i.length}):null,H?Object(h.a)("button",{title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:Object(h.a)(x,{class:b?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),Object(h.a)("div",{class:f()("bio-properties-panel-list",b&&H?"open":""),children:Object(h.a)(C.Provider,{value:W,children:T.map((function(e,t){var r=J(i,e);if(r){var o=r.id,a=I&&(d?0===t:t===T.length-1);return Object(y.e)(K,Object(c.a)(Object(c.a)({},r),{},{autoOpen:a,element:n,index:t,key:o}))}}))})})]})}function Q(e){return Object(u.w)(e,(function(e){return e.label.toLowerCase()}))}function J(e,t){return Object(u.d)(e,(function(e){return e.id===t}))}function Z(e){return e.map((function(e){return e.id}))}function ee(e){var t=e.element,n=e.forId,r=e.value,i=function(e,t){return(0,Object(l.b)(S).getDescriptionForId)(e,t)}(n,t),o=r||i;if(o)return Object(h.a)("div",{class:"bio-properties-panel-description",children:o})}function te(e){var t=e.id,n=e.label,r=e.onChange,i=e.disabled,o=e.value,a=void 0!==o&&o,s=Object(l.j)(a),c=Object(p.a)(s,2),u=c[0],d=c[1];Object(l.d)((function(){a!==u&&d(a)}),[a]);var f=N(t);return Object(h.b)("div",{class:"bio-properties-panel-checkbox",children:[Object(h.a)("input",{ref:f,id:ie(t),name:t,type:"checkbox",class:"bio-properties-panel-input",onChange:function(e){!function(e){var t=e.target;r(t.checked)}(e),d(e.target.value)},checked:u,disabled:i}),Object(h.a)("label",{for:ie(t),class:"bio-properties-panel-label",children:n})]})}function ne(e){var t=e.element,n=e.id,r=e.description,i=e.label,o=e.getValue,a=e.setValue,s=e.disabled,p=o(t),c=T(n);return Object(h.b)("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":n,children:[Object(h.a)(te,{disabled:s,id:n,label:i,onChange:a,value:p}),c&&Object(h.a)("div",{class:"bio-properties-panel-error",children:c}),Object(h.a)(ee,{forId:n,element:t,value:r})]})}function re(e){return e&&!!e.checked}function ie(e){return"bio-properties-panel-".concat(e)}function oe(e){var t=e.id,n=e.element,r=e.items,i=void 0===r?[]:r,s=e.component,u=e.label,d=void 0===u?"<empty>":u,m=e.open,y=e.onAdd,v=e.onRemove,b=e.autoFocusEntry,E=e.compareFn,O=Object(a.a)(e,g),_=Object(l.j)(!!m),P=Object(p.a)(_,2),j=P[0],S=P[1],k=!!i.length,A=!D(j)&&j,C=D(n)!==n,T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(l.i)(e.slice());if(n)r.current=e.slice(),t&&r.current.sort(t);else{var i,a=r.current,s=Object(o.a)(e);try{for(s.s();!(i=s.n()).done;){var p=i.value;a.includes(p)||(t?a.unshift(p):a.push(p))}}catch(c){s.e(c)}finally{s.f()}r.current=a.filter((function(t){return e.includes(t)}))}return r.current}(i,E,A||C),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=D(e.slice())||[];if(t)return[];return n?e.filter((function(e){return!n.includes(e)})):[]}(i,C);return Object(l.d)((function(){j&&!k&&S(!1)}),[j,k]),Object(h.b)("div",{"data-entry-id":t,class:f()("bio-properties-panel-entry","bio-properties-panel-list-entry",k?"":"empty",j?"open":""),children:[Object(h.b)("div",{class:"bio-properties-panel-list-entry-header",onClick:function(){return k&&S(!j)},children:[Object(h.a)("div",{title:d,class:f()("bio-properties-panel-list-entry-header-title",j&&"open"),children:d}),Object(h.b)("div",{class:"bio-properties-panel-list-entry-header-buttons",children:[Object(h.b)("button",{title:"Create new list item",onClick:function(e){e.stopPropagation(),y(),j||S(!0)},class:"bio-properties-panel-add-entry",children:[Object(h.a)(w,{}),k?null:Object(h.a)("span",{class:"bio-properties-panel-add-entry-label",children:"Create"})]}),k&&Object(h.a)("div",{title:"List contains ".concat(i.length," item").concat(1!=i.length?"s":""),class:"bio-properties-panel-list-badge",children:i.length}),k&&Object(h.a)("button",{title:"Toggle list item",class:"bio-properties-panel-arrow",children:Object(h.a)(x,{class:j?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),k&&Object(h.a)(ae,Object(c.a)(Object(c.a)({},O),{},{autoFocusEntry:b,component:s,element:n,id:t,items:T,newItems:R,onRemove:v,open:j}))]})}function ae(e){var t=e.autoFocusEntry,n=e.component,r=e.element,i=e.id,o=e.items,s=e.newItems,p=e.onRemove,d=e.open,y=Object(a.a)(e,b),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(l.g)((function(){return new Map}),e);return function(e){var n=t.get(e);return n||(n=Math.random().toString().slice(-6),t.set(e,n)),n}}(),g=s[0];return Object(l.d)((function(){if(g&&t){var e=Object(m.b)('[data-entry-id="'.concat(i,'"]')),n="boolean"===typeof t?".bio-properties-panel-input":t,r=Object(m.b)(n,e);r&&(Object(u.m)(r.select)?r.select():Object(u.m)(r.focus)&&r.focus())}}),[g,t,i]),Object(h.a)("ol",{class:f()("bio-properties-panel-list-entry-items",d?"open":""),children:o.map((function(e,t){var o=v(e);return Object(h.b)("li",{class:"bio-properties-panel-list-entry-item",children:[Object(h.a)(n,Object(c.a)(Object(c.a)({},y),{},{element:r,id:i,index:t,item:e,open:e===g})),p&&Object(h.a)("button",{type:"button",title:"Delete item",class:"bio-properties-panel-remove-entry bio-properties-panel-remove-list-entry",onClick:function(){return p&&p(e)},children:Object(h.a)(E,{})})]},o)}))})}function se(e){var t=e.id,n=e.label,r=e.onChange,i=e.options,o=void 0===i?[]:i,a=e.value,s=e.disabled,c=N(t),u=Object(l.j)(a),d=Object(p.a)(u,2),f=d[0],m=d[1];return Object(l.d)((function(){a!==f&&m(a)}),[a]),Object(h.b)("div",{class:"bio-properties-panel-select",children:[Object(h.a)("label",{for:le(t),class:"bio-properties-panel-label",children:n}),Object(h.a)("select",{ref:c,id:le(t),name:t,class:"bio-properties-panel-input",onInput:function(e){!function(e){var t=e.target;r(t.value)}(e),m(e.target.value)},value:f,disabled:s,children:o.map((function(e,t){return Object(h.a)("option",{value:e.value,disabled:e.disabled,children:e.label},t)}))})]})}function pe(e){var t=e.element,n=e.id,r=e.description,i=e.label,o=e.getValue,a=e.setValue,s=e.getOptions,p=e.disabled,c=o(t),l=s(t),u=T(n);return Object(h.b)("div",{class:f()("bio-properties-panel-entry",u?"has-error":""),"data-entry-id":n,children:[Object(h.a)(se,{id:n,label:i,value:c,onChange:a,options:l,disabled:p}),u&&Object(h.a)("div",{class:"bio-properties-panel-error",children:u}),Object(h.a)(ee,{forId:n,element:t,value:r})]})}function ce(e){return e&&!!e.value}function le(e){return"bio-properties-panel-".concat(e)}function ue(e){var t=e.debounce,n=e.disabled,r=e.element,i=e.getValue,o=e.id,a=e.onBlur,s=e.onFocus,c=e.setValue,u=i(r),d=Object(l.j)(u),f=Object(p.a)(d,2),m=f[0],y=f[1],v=Object(l.g)((function(){return t((function(e){var t=e.target;return c(t.value.length?t.value:void 0)}))}),[c,t]);return Object(l.d)((function(){u!==m&&y(u)}),[u]),Object(h.a)("div",{class:"bio-properties-panel-simple",children:Object(h.a)("input",{id:de(o),type:"text",name:o,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",onInput:function(e){v(e),y(e.target.value)},"aria-label":m||"<empty>",onFocus:s,onBlur:a,value:m})})}function de(e){return"bio-properties-panel-".concat(e)}function fe(e){var t=e.label,n=e.feel,r=void 0!==n&&n;return Object(h.a)("i",{class:"bio-properties-panel-feel-icon",title:t+("required"===r?" must be a FEEL expression":" can optionally be a FEEL expression"),children:"required"===r?Object(h.a)(_,{}):Object(h.a)(P,{})})}function he(e){var t=e.id,n=e.label,r=e.rows,i=void 0===r?2:r,o=e.debounce,a=e.feel,s=e.onInput,c=e.value,u=void 0===c?"":c,d=e.disabled,m=e.monospace,y=Object(l.j)(u),v=Object(p.a)(y,2),g=v[0],b=v[1],x=N(t),w=Object(l.g)((function(){return o((function(e){var t=e.target;return s(t.value.length?t.value:void 0)}))}),[s,o]);return Object(l.d)((function(){u!==g&&b(u)}),[u]),Object(h.b)("div",{class:"bio-properties-panel-textarea",children:[Object(h.b)("label",{for:ve(t),class:"bio-properties-panel-label",children:[n,a&&Object(h.a)(fe,{feel:a,label:n})]}),Object(h.a)("textarea",{ref:x,id:ve(t),name:t,spellCheck:"false",class:f()("bio-properties-panel-input",m?"bio-properties-panel-input-monospace":""),onInput:function(e){w(e),b(e.target.value)},onFocus:e.onFocus,onBlur:e.onBlur,rows:i,value:g,disabled:d})]})}function me(e){var t=e.element,n=e.id,r=e.description,i=e.debounce,o=e.feel,a=e.label,s=e.getValue,p=e.setValue,c=e.rows,l=e.monospace,u=e.disabled,d=s(t),f=T(n);return Object(h.b)("div",{class:"bio-properties-panel-entry","data-entry-id":n,children:[Object(h.a)(he,{id:n,label:a,value:d,onInput:p,rows:c,debounce:i,monospace:l,feel:o,disabled:u}),f&&Object(h.a)("div",{class:"bio-properties-panel-error",children:f}),Object(h.a)(ee,{forId:n,element:t,value:r})]})}function ye(e){return e&&!!e.value}function ve(e){return"bio-properties-panel-".concat(e)}function ge(e){var t=e.debounce,n=e.disabled,r=void 0!==n&&n,i=e.id,o=e.label,a=e.onInput,s=e.feel,c=void 0!==s&&s,u=e.value,d=void 0===u?"":u,f=Object(l.j)(d||""),m=Object(p.a)(f,2),y=m[0],v=m[1],g=N(i),b=Object(l.g)((function(){return t((function(e){var t=e.target;return a(t.value.length?t.value:void 0)}))}),[a,t]);return Object(l.d)((function(){d!==y&&v(d)}),[d]),Object(h.b)("div",{class:"bio-properties-panel-textfield",children:[Object(h.b)("label",{for:we(i),class:"bio-properties-panel-label",children:[o,c&&Object(h.a)(fe,{feel:c,label:o})]}),Object(h.a)("input",{ref:g,id:we(i),type:"text",name:i,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:function(e){b(e),v(e.target.value)},onFocus:e.onFocus,onBlur:e.onBlur,value:y})]})}function be(e){var t=e.element,n=e.id,r=e.description,i=e.debounce,o=e.disabled,a=e.feel,s=e.label,c=e.getValue,d=e.setValue,m=e.validate,y=Object(l.j)(null),v=Object(p.a)(y,2),g=v[0],b=v[1],x=T(n),w=Object(l.j)(null),E=Object(p.a)(w,2),O=E[0],_=E[1],P=c(t),j=D(P);Object(l.d)((function(){if(Object(u.m)(m)){var e=m(P)||null;_(e)}}),[P]);j===P&&O&&(P=g);var S=x||O;return Object(h.b)("div",{class:f()("bio-properties-panel-entry",S?"has-error":""),"data-entry-id":n,children:[Object(h.a)(ge,{debounce:i,disabled:o,feel:a,id:n,label:s,onInput:function(e){var t=null;Object(u.m)(m)&&(t=m(e)||null),t?b(e):d(e),_(t)},value:P}),S&&Object(h.a)("div",{class:"bio-properties-panel-error",children:S}),Object(h.a)(ee,{forId:n,element:t,value:r})]})}function xe(e){return e&&!!e.value}function we(e){return"bio-properties-panel-".concat(e)}function Ee(e){var t=e.id,n=e.label,o=e.onInput,a=e.value,s=e.switcherLabel,c=Object(l.j)(a),u=Object(p.a)(c,2),d=u[0],f=u[1],m=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.d)((function(){a!==d&&f(a)}),[a]),Object(h.b)("div",{class:"bio-properties-panel-toggle-switch",children:[Object(h.a)("label",{class:"bio-properties-panel-label",for:Pe(t),children:n}),Object(h.b)("div",{class:"bio-properties-panel-field-wrapper",children:[Object(h.b)("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[Object(h.a)("input",{id:Pe(t),class:"bio-properties-panel-input",type:"checkbox",name:t,onInput:function(e){m(),f(e.target.value)},checked:d}),Object(h.a)("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),Object(h.a)("p",{class:"bio-properties-panel-toggle-switch__label",children:s})]})]})}function Oe(e){var t=e.element,n=e.id,r=e.description,i=e.label,o=e.switcherLabel,a=e.getValue,s=e.setValue,p=a(t);return Object(h.b)("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":n,children:[Object(h.a)(Ee,{id:n,label:i,value:p,onInput:s,switcherLabel:o}),Object(h.a)(ee,{forId:n,element:t,value:r})]})}function _e(e){return e&&!!e.checked}function Pe(e){return"bio-properties-panel-".concat(e)}function je(e){return function(t){if(!1!==e){var n=Object(u.n)(e)?e:300;return Object(u.b)(t,n)}return t}}je.$inject=["config.debounceInput"];var Se={debounceInput:["factory",je]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return i}));var r=n(10);function i(e,t,n,i,o){var a={};for(var s in t)"ref"!=s&&(a[s]=t[s]);var p,c,l={type:e,props:a,key:n,ref:t&&t.ref,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:++r.i.__v,__source:i,__self:o};if("function"==typeof e&&(p=e.defaultProps))for(c in p)void 0===a[c]&&(a[c]=p[c]);return r.i.vnode&&r.i.vnode(l),l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return D}));var r=Object.prototype.toString,i=Object.prototype.hasOwnProperty;function o(e,t){return i.call(e,t)}function a(e,t){var n;if(void 0!==e){var i=function(e){return"[object Array]"===r.call(e)}(e)?p:s;for(var a in e)if(o(e,a)&&!1===t(n=e[a],i(a)))return n}}function s(e){return e}function p(e){return Number(e)}function c(e){for(var t=e.style,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a(r,(function(e){e&&a(e,(function(e,n){t[n]=e}))})),e}function l(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}var u=[].indexOf,d=function(e,t){if(u)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},f=/\s+/,h=Object.prototype.toString;function m(e){return new y(e)}function y(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function v(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}y.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~d(t,e)||t.push(e),this.el.className=t.join(" "),this},y.prototype.remove=function(e){if("[object RegExp]"==h.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=d(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},y.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},y.prototype.toggle=function(e,t){return this.list?("undefined"!==typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!==typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},y.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(f);return""===e[0]&&e.shift(),e},y.prototype.has=y.prototype.contains=function(e){return this.list?this.list.contains(e):!!~d(this.array(),e)};var g="undefined"!==typeof Element?Element.prototype:{},b=g.matches||g.matchesSelector||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector,x=function(e,t){if(!e||1!==e.nodeType)return!1;if(b)return b.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1};function w(e,t,n){for(var r=n?e:e.parentNode;r&&r.nodeType!==document.DOCUMENT_NODE&&r.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(x(r,t))return r;r=r.parentNode}return x(r,t)?r:null}var E=window.addEventListener?"addEventListener":"attachEvent",O=window.removeEventListener?"removeEventListener":"detachEvent",_="addEventListener"!==E?"on":"",P={bind:function(e,t,n,r){return e[E](_+t,n,r||!1),n},unbind:function(e,t,n,r){return e[O](_+t,n,r||!1),n}},j=["focus","blur"];var S,k={bind:function(e,t,n,r,i){return-1!==j.indexOf(n)&&(i=!0),P.bind(e,n,(function(n){var i=n.target||n.srcElement;n.delegateTarget=w(i,t,!0),n.delegateTarget&&r.call(e,n)}),i)},unbind:function(e,t,n,r){return-1!==j.indexOf(t)&&(r=!0),P.unbind(e,t,n,r)}},A=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild)}var i,o=T[r]||T._default,a=o[0],s=o[1],p=o[2];(i=t.createElement("div")).innerHTML=s+e+p;for(;a--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var c=t.createDocumentFragment();for(;i.firstChild;)c.appendChild(i.removeChild(i.firstChild));return c},C=!1;"undefined"!==typeof document&&((S=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',C=!S.getElementsByTagName("link").length,S=void 0);var T={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:C?[1,"X<div>","</div>"]:[0,"",""]};function R(e,t){return(t=t||document).querySelector(e)}function M(e,t){return(t=t||document).querySelectorAll(e)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}T.td=T.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],T.option=T.optgroup=[1,'<select multiple="multiple">',"</select>"],T.thead=T.tbody=T.colgroup=T.caption=T.tfoot=[1,"<table>","</table>"],T.polyline=T.ellipse=T.polygon=T.circle=T.text=T.line=T.path=T.rect=T.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},function(e,t,n){"use strict";function r(e){return Array.prototype.concat.apply([],e)}n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return B})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return a})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return N})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return b}));var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function s(e){return void 0!==e}function p(e){return null==e}function c(e){return"[object Array]"===i.call(e)}function l(e){return"[object Object]"===i.call(e)}function u(e){return"[object Number]"===i.call(e)}function d(e){var t=i.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function f(e){return"[object String]"===i.call(e)}function h(e,t){return o.call(e,t)}function m(e,t){var n;return t=k(t),g(e,(function(e,r){if(t(e,r))return n=e,!1})),n}function y(e,t){t=k(t);var n=c(e)?-1:void 0;return g(e,(function(e,r){if(t(e,r))return n=r,!1})),n}function v(e,t){var n=[];return g(e,(function(e,r){t(e,r)&&n.push(e)})),n}function g(e,t){var n;if(!a(e)){var r=c(e)?C:A;for(var i in e)if(h(e,i)&&!1===t(n=e[i],r(i)))return n}}function b(e,t){return a(e)?[]:(function(e){if(!c(e))throw new Error("must supply array")}(e),t=k(t),e.filter((function(e,n){return!t(e,n)})))}function x(e,t,n){return g(e,(function(e,r){n=t(n,e,r)})),n}function w(e,t){return!!m(e,t)}function E(e,t){var n=[];return g(e,(function(e,r){n.push(t(e,r))})),n}function O(e){return e&&Object.keys(e)||[]}function _(e){return E(e,(function(e){return e}))}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=S(t),g(e,(function(e){var r=t(e)||"_",i=n[r];i||(i=n[r]=[]),i.push(e)})),n}function j(e,t){t=S(t);var n=[];return g(e,(function(e,r){for(var i=t(e,r),o={d:i,v:e},a=0;a<n.length;a++){if(i<n[a].d)return void n.splice(a,0,o)}n.push(o)})),E(n,(function(e){return e.v}))}function S(e){return d(e)?e:function(t){return t[e]}}function k(e){return d(e)?e:function(t){return t===e}}function A(e){return e}function C(e){return Number(e)}function T(e,t){var n,r,i,o;function a(n){var a=Date.now(),c=n?0:o+t-a;if(c>0)return s(c);e.apply(i,r),p()}function s(e){n=setTimeout(a,e)}function p(){n&&clearTimeout(n),n=o=r=i=void 0}function c(){o=Date.now();for(var e=arguments.length,a=new Array(e),p=0;p<e;p++)a[p]=arguments[p];r=a,i=this,n||s(t)}return c.flush=function(){n&&a(!0),p()},c.cancel=p,c}function R(e){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return M.apply(void 0,[e].concat(n))}function N(e,t,n){var r=e;return g(t,(function(e,i){if("number"!==typeof e&&"string"!==typeof e)throw new Error("illegal key type: "+R(e)+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");var o=t[i+1],c=r[e];s(o)&&p(c)&&(c=r[e]=isNaN(+o)?{}:[]),a(o)?a(n)?delete r[e]:r[e]=n:r=c})),e}function B(e,t,n){var r=e;return g(t,(function(e){if(p(r))return r=void 0,!1;r=r[e]})),a(r)?n:r}},function(e,t,n){"use strict";var r=n(11),i=n(10);function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e){this.props=e}(s.prototype=new i.a).isPureReactComponent=!0,s.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var p=i.i.__b;i.i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),p&&p(e)};var c="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var l=function(e,t){return null==e?null:Object(i.k)(Object(i.k)(e).map(t))},u={map:l,forEach:l,count:function(e){return e?Object(i.k)(e).length:0},only:function(e){var t=Object(i.k)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:i.k},d=i.i.__e;i.i.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);d(e,t,n)};var f=i.i.unmount;function h(){this.__u=0,this.t=null,this.__b=null}function m(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function y(){this.u=null,this.o=null}i.i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),f&&f(e)},(h.prototype=new i.a).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=m(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},p=!0===t.__h;r.__u++||p||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},h.prototype.componentWillUnmount=function(){this.t=[]},h.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=o({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var a=t.__e&&Object(i.e)(i.b,null,e.fallback);return a&&(a.__h=null),[Object(i.e)(i.b,null,t.__e?null:e.children),a]};var v=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function g(e){return this.getChildContext=function(){return e.context},e.children}function b(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(i.j)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(i.j)(Object(i.e)(g,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(y.prototype=new i.a).__e=function(e){var t=this,n=m(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),v(t,e,r)):i()};n?n(o):o()}},y.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(i.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},y.prototype.componentDidUpdate=y.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){v(e,n,t)}))};var x="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,w=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,E=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};i.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(i.a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var O=i.i.event;function _(){}function P(){return this.cancelBubble}function j(){return this.defaultPrevented}i.i.event=function(e){return O&&(e=O(e)),e.persist=_,e.isPropagationStopped=P,e.isDefaultPrevented=j,e.nativeEvent=e};var S,k={configurable:!0,get:function(){return this.class}},A=i.i.vnode;i.i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var a=n[o];"value"===o&&"defaultValue"in n&&null==a||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===a?a="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!E(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():w.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),r[o]=a)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(i.k)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Object(i.k)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r}t&&n.class!=n.className&&(k.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",k)),e.$$typeof=x,A&&A(e)};var C=i.i.__r;i.i.__r=function(e){C&&C(e),S=e.__c};var T={ReactCurrentDispatcher:{current:{readContext:function(e){return S.__n[e.__c].props.value}}}};"object"==typeof performance&&"function"==typeof performance.now&&performance.now.bind(performance);function R(e){return!!e&&e.$$typeof===x}i.b;t.a={useState:r.j,useReducer:r.h,useEffect:r.d,useLayoutEffect:r.f,useRef:r.i,useImperativeHandle:r.e,useMemo:r.g,useCallback:r.a,useContext:r.b,useDebugValue:r.c,version:"16.8.0",Children:u,render:function(e,t,n){return null==t.__k&&(t.textContent=""),Object(i.j)(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return Object(i.h)(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(Object(i.j)(null,e),!0)},createPortal:function(e,t){return Object(i.e)(b,{__v:e,i:t})},createElement:i.e,createContext:i.d,createFactory:function(e){return i.e.bind(null,e)},cloneElement:function(e){return R(e)?i.c.apply(null,arguments):e},createRef:i.f,Fragment:i.b,isValidElement:R,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:i.a,PureComponent:s,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(i.e)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:function(e){function t(t,n){var r=o({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=c,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:i.b,Suspense:h,SuspenseList:y,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(i.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:T}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(36);var i=n(32);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(32);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){p=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(p)throw a}}}}},function(e,t,n){"use strict";n.d(t,"j",(function(){return B})),n.d(t,"h",(function(){return L})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return z})),n.d(t,"k",(function(){return _})),n.d(t,"i",(function(){return r}));var r,i,o,a,s,p={},c=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function u(e,t){for(var n in t)e[n]=t[n];return e}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t,n){var r,i,o,a=arguments,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return h(e,s,r,i,null)}function h(e,t,n,i,o){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++r.__v:o};return null!=r.vnode&&r.vnode(a),a}function m(){return{current:null}}function y(e){return e.children}function v(e,t){this.props=e,this.context=t}function g(e,t){if(null==t)return e.__?g(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?g(e):null}function b(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return b(e)}}function x(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!w.__r++||a!==r.debounceRendering)&&((a=r.debounceRendering)||o)(w)}function w(){for(var e;w.__r=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=u({},i)).__v=i.__v+1,C(a,i,r,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?g(i):o,i.__h),T(n,i),i.__e!=o&&b(i)))}))}function E(e,t,n,r,i,o,a,s,l,u){var d,f,m,v,b,x,w,E=r&&r.__k||c,_=E.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(v=n.__k[d]=null==(v=t[d])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?h(null,v,null,null,v):Array.isArray(v)?h(y,{children:v},null,null,null):v.__b>0?h(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(m=E[d])||m&&v.key==m.key&&v.type===m.type)E[d]=void 0;else for(f=0;f<_;f++){if((m=E[f])&&v.key==m.key&&v.type===m.type){E[f]=void 0;break}m=null}C(e,v,m=m||p,i,o,a,s,l,u),b=v.__e,(f=v.ref)&&m.ref!=f&&(w||(w=[]),m.ref&&w.push(m.ref,null,v),w.push(f,v.__c||b,v)),null!=b?(null==x&&(x=b),"function"==typeof v.type&&null!=v.__k&&v.__k===m.__k?v.__d=l=O(v,l,e):l=P(e,v,m,E,b,l),u||"option"!==n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&m.__e==l&&l.parentNode!=e&&(l=g(m))}for(n.__e=x,d=_;d--;)null!=E[d]&&("function"==typeof n.type&&null!=E[d].__e&&E[d].__e==n.__d&&(n.__d=g(r,d+1)),D(E[d],E[d]));if(w)for(d=0;d<w.length;d++)M(w[d],w[++d],w[++d])}function O(e,t,n){var r,i;for(r=0;r<e.__k.length;r++)(i=e.__k[r])&&(i.__=e,t="function"==typeof i.type?O(i,t,n):P(n,i,i,e.__k,i.__e,t));return t}function _(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){_(e,t)})):t.push(e)),t}function P(e,t,n,r,i,o){var a,s,p;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,p=0;(s=s.nextSibling)&&p<r.length;p+=2)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function j(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||l.test(t)?n:n+"px"}function S(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||j(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||j(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?A:k,o):e.removeEventListener(t,o?A:k,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function k(e){this.l[e.type+!1](r.event?r.event(e):e)}function A(e){this.l[e.type+!0](r.event?r.event(e):e)}function C(e,t,n,i,o,a,s,p,c){var l,d,f,h,m,g,b,x,w,O,_,P=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,p=t.__e=n.__e,t.__h=null,a=[p]),(l=r.__b)&&l(t);try{e:if("function"==typeof P){if(x=t.props,w=(l=P.contextType)&&i[l.__c],O=l?w?w.props.value:l.__:i,n.__c?b=(d=t.__c=n.__c).__=d.__E:("prototype"in P&&P.prototype.render?t.__c=d=new P(x,O):(t.__c=d=new v(x,O),d.constructor=P,d.render=N),w&&w.sub(d),d.props=x,d.state||(d.state={}),d.context=O,d.__n=i,f=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=P.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=u({},d.__s)),u(d.__s,P.getDerivedStateFromProps(x,d.__s))),h=d.props,m=d.state,f)null==P.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==P.getDerivedStateFromProps&&x!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(x,O),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(x,d.__s,O)||t.__v===n.__v){d.props=x,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(x,d.__s,O),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,m,g)}))}d.context=O,d.props=x,d.state=d.__s,(l=r.__r)&&l(t),d.__d=!1,d.__v=t,d.__P=e,l=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(i=u(u({},i),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(h,m)),_=null!=l&&l.type===y&&null==l.key?l.props.children:l,E(e,Array.isArray(_)?_:[_],t,n,i,o,a,s,p,c),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),b&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=R(n.__e,t,n,i,o,a,s,c);(l=r.diffed)&&l(t)}catch(e){t.__v=null,(c||null!=a)&&(t.__e=p,t.__h=!!c,a[a.indexOf(p)]=null),r.__e(e,t,n)}}function T(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function R(e,t,n,r,i,o,a,s){var l,u,f,h,m=n.props,y=t.props,v=t.type,g=0;if("svg"===v&&(i=!0),null!=o)for(;g<o.length;g++)if((l=o[g])&&(l===e||(v?l.localName==v:3==l.nodeType))){e=l,o[g]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),o=null,s=!1}if(null===v)m===y||s&&e.data===y||(e.data=y);else{if(o=o&&c.slice.call(e.childNodes),u=(m=n.props||p).dangerouslySetInnerHTML,f=y.dangerouslySetInnerHTML,!s){if(null!=o)for(m={},h=0;h<e.attributes.length;h++)m[e.attributes[h].name]=e.attributes[h].value;(f||u)&&(f&&(u&&f.__html==u.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||S(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||S(e,o,t[o],n[o],r)}(e,y,m,i,s),f)t.__k=[];else if(g=t.props.children,E(e,Array.isArray(g)?g:[g],t,n,r,i&&"foreignObject"!==v,o,a,e.firstChild,s),null!=o)for(g=o.length;g--;)null!=o[g]&&d(o[g]);s||("value"in y&&void 0!==(g=y.value)&&(g!==e.value||"progress"===v&&!g)&&S(e,"value",g,m.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==e.checked&&S(e,"checked",g,m.checked,!1))}return e}function M(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function D(e,t,n){var i,o,a;if(r.unmount&&r.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||M(i,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){r.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&D(i[a],t,n);null!=o&&d(o)}function N(e,t,n){return this.constructor(e,n)}function B(e,t,n){var i,o,a;r.__&&r.__(e,t),o=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],C(t,e=(!i&&n||t).__k=f(y,null,[e]),o||p,p,void 0!==t.ownerSVGElement,!i&&n?[n]:o?null:t.firstChild?c.slice.call(t.childNodes):null,a,!i&&n?n:o?o.__e:t.firstChild,i),T(a,e)}function L(e,t){B(e,t,L)}function I(e,t,n){var r,i,o,a=arguments,s=u({},e.props);for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);return null!=n&&(s.children=n),h(e.type,s,r||e.key,i||e.ref,null)}function z(e,t){var n={__c:t="__cC"+s++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(x)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(t){e=t}throw e},__v:0},v.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=u({},this.state),"function"==typeof e&&(e=e(u({},n),this.props)),e&&u(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},v.prototype.render=y,i=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,s=0},function(e,t,n){"use strict";n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"e",(function(){return x})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return _}));var r,i,o,a=n(10),s=0,p=[],c=a.i.__b,l=a.i.__r,u=a.i.diffed,d=a.i.__c,f=a.i.unmount;function h(e,t){a.i.__h&&a.i.__h(i,e,s||t),s=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function m(e){return s=1,y(C,e)}function y(e,t,n){var o=h(r++,2);return o.t=e,o.__c||(o.__=[n?n(t):C(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=i),o.__}function v(e,t){var n=h(r++,3);!a.i.__s&&A(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))}function g(e,t){var n=h(r++,4);!a.i.__s&&A(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function b(e){return s=5,w((function(){return{current:e}}),[])}function x(e,t,n){s=6,g((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function w(e,t){var n=h(r++,7);return A(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function E(e,t){return s=8,w((function(){return e}),t)}function O(e){var t=i.context[e.__c],n=h(r++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function _(e,t){a.i.useDebugValue&&a.i.useDebugValue(t?t(e):e)}function P(){p.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(S),e.__H.__h.forEach(k),e.__H.__h=[]}catch(i){e.__H.__h=[],a.i.__e(i,e.__v)}})),p=[]}a.i.__b=function(e){i=null,c&&c(e)},a.i.__r=function(e){l&&l(e),r=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(S),t.__h.forEach(k),t.__h=[])},a.i.diffed=function(e){u&&u(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==p.push(t)&&o===a.i.requestAnimationFrame||((o=a.i.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),j&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);j&&(t=requestAnimationFrame(n))})(P)),i=void 0},a.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(S),e.__h=e.__h.filter((function(e){return!e.__||k(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.i.__e(o,e.__v)}})),d&&d(e,t)},a.i.unmount=function(e){f&&f(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(S)}catch(e){a.i.__e(e,t.__v)}};var j="function"==typeof requestAnimationFrame;function S(e){var t=i;"function"==typeof e.__c&&e.__c(),i=t}function k(e){var t=i;e.__c=e.__(),i=t}function A(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function C(e,t){return"function"==typeof t?t(e):t}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return Array.prototype.concat.apply([],e)}n.r(t),n.d(t,"assign",(function(){return q})),n.d(t,"bind",(function(){return z})),n.d(t,"debounce",(function(){return L})),n.d(t,"ensureArray",(function(){return h})),n.d(t,"every",(function(){return E})),n.d(t,"filter",(function(){return g})),n.d(t,"find",(function(){return y})),n.d(t,"findIndex",(function(){return v})),n.d(t,"flatten",(function(){return r})),n.d(t,"forEach",(function(){return b})),n.d(t,"get",(function(){return V})),n.d(t,"groupBy",(function(){return k})),n.d(t,"has",(function(){return m})),n.d(t,"isArray",(function(){return c})),n.d(t,"isDefined",(function(){return s})),n.d(t,"isFunction",(function(){return d})),n.d(t,"isNil",(function(){return p})),n.d(t,"isNumber",(function(){return u})),n.d(t,"isObject",(function(){return l})),n.d(t,"isString",(function(){return f})),n.d(t,"isUndefined",(function(){return a})),n.d(t,"keys",(function(){return P})),n.d(t,"map",(function(){return _})),n.d(t,"matchPattern",(function(){return R})),n.d(t,"merge",(function(){return G})),n.d(t,"omit",(function(){return W})),n.d(t,"pick",(function(){return H})),n.d(t,"reduce",(function(){return w})),n.d(t,"set",(function(){return U})),n.d(t,"size",(function(){return j})),n.d(t,"some",(function(){return O})),n.d(t,"sortBy",(function(){return T})),n.d(t,"throttle",(function(){return I})),n.d(t,"unionBy",(function(){return C})),n.d(t,"uniqueBy",(function(){return A})),n.d(t,"values",(function(){return S})),n.d(t,"without",(function(){return x}));var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function s(e){return void 0!==e}function p(e){return null==e}function c(e){return"[object Array]"===i.call(e)}function l(e){return"[object Object]"===i.call(e)}function u(e){return"[object Number]"===i.call(e)}function d(e){var t=i.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function f(e){return"[object String]"===i.call(e)}function h(e){if(!c(e))throw new Error("must supply array")}function m(e,t){return o.call(e,t)}function y(e,t){var n;return t=D(t),b(e,(function(e,r){if(t(e,r))return n=e,!1})),n}function v(e,t){t=D(t);var n=c(e)?-1:void 0;return b(e,(function(e,r){if(t(e,r))return n=r,!1})),n}function g(e,t){var n=[];return b(e,(function(e,r){t(e,r)&&n.push(e)})),n}function b(e,t){var n;if(!a(e)){var r=c(e)?B:N;for(var i in e)if(m(e,i)&&!1===t(n=e[i],r(i)))return n}}function x(e,t){return a(e)?[]:(h(e),t=D(t),e.filter((function(e,n){return!t(e,n)})))}function w(e,t,n){return b(e,(function(e,r){n=t(n,e,r)})),n}function E(e,t){return!!w(e,(function(e,n,r){return e&&t(n,r)}),!0)}function O(e,t){return!!y(e,t)}function _(e,t){var n=[];return b(e,(function(e,r){n.push(t(e,r))})),n}function P(e){return e&&Object.keys(e)||[]}function j(e){return P(e).length}function S(e){return _(e,(function(e){return e}))}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=M(t),b(e,(function(e){var r=t(e)||"_",i=n[r];i||(i=n[r]=[]),i.push(e)})),n}function A(e){e=M(e);for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];b(r,(function(n){return k(n,e,t)}));var o=_(t,(function(e,t){return e[0]}));return o}var C=A;function T(e,t){t=M(t);var n=[];return b(e,(function(e,r){for(var i=t(e,r),o={d:i,v:e},a=0;a<n.length;a++){if(i<n[a].d)return void n.splice(a,0,o)}n.push(o)})),_(n,(function(e){return e.v}))}function R(e){return function(t){return E(e,(function(e,n){return t[n]===e}))}}function M(e){return d(e)?e:function(t){return t[e]}}function D(e){return d(e)?e:function(t){return t===e}}function N(e){return e}function B(e){return Number(e)}function L(e,t){var n,r,i,o;function a(n){var a=Date.now(),c=n?0:o+t-a;if(c>0)return s(c);e.apply(i,r),p()}function s(e){n=setTimeout(a,e)}function p(){n&&clearTimeout(n),n=o=r=i=void 0}function c(){o=Date.now();for(var e=arguments.length,a=new Array(e),p=0;p<e;p++)a[p]=arguments[p];r=a,i=this,n||s(t)}return c.flush=function(){n&&a(!0),p()},c.cancel=p,c}function I(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),t))}}function z(e,t){return e.bind(t)}function $(e){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}function q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F.apply(void 0,[e].concat(n))}function U(e,t,n){var r=e;return b(t,(function(e,i){if("number"!==typeof e&&"string"!==typeof e)throw new Error("illegal key type: "+$(e)+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");var o=t[i+1],c=r[e];s(o)&&p(c)&&(c=r[e]=isNaN(+o)?{}:[]),a(o)?a(n)?delete r[e]:r[e]=n:r=c})),e}function V(e,t,n){var r=e;return b(t,(function(e){if(p(r))return r=void 0,!1;r=r[e]})),a(r)?n:r}function H(e,t){var n={},r=Object(e);return b(t,(function(t){t in r&&(n[t]=e[t])})),n}function W(e,t){var n={};return b(Object(e),(function(e,r){-1===t.indexOf(r)&&(n[r]=e)})),n}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?(b(n,(function(t){t&&l(t)&&b(t,(function(t,n){if("__proto__"!==n){var r=e[n];l(t)?(l(r)||(r={}),e[n]=G(r,t)):e[n]=t}}))})),e):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(32);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(p){s=!0,i=p}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t){return-1===t.indexOf(":")&&(t="bpmn:"+t),"function"===typeof e.$instanceOf?e.$instanceOf(t):e.$type===t}function i(e,t){return t.some((function(t){return r(e,t)}))}n.r(t),n.d(t,"is",(function(){return r})),n.d(t,"isAny",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";e.exports=n(105)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(39).default,i=n(47).default,o=n(13),a=o.isArray,s=o.isDefined,p=o.some,c=n(15).isAny,l=n(55).getPath,u=n(27).ERROR_TYPES;function d(e,t){var n=e.get("extensionElements");if(n){var r=n.get("values");if(r&&r.length)return a(t)||(t=[t]),r.filter((function(e){return c(e,t)}))}}function f(e,t){var n=d(e,t);if(n&&n.length)return n[0]}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.reduce((function(n,r,i){return 0===i?"<".concat(r,">"):i===e.length-1?"".concat(n," ").concat(t?"or":"and"," <").concat(r,">"):"".concat(n,", <").concat(r,">")}),"")}function m(e,t){var n=e.$model;return n.getType(e.$type)===n.getType(t)}e.exports.ERROR_TYPES=u,e.exports.getEventDefinition=function(e){var t=e.get("eventDefinitions");if(t)return t[0]},e.exports.findExtensionElements=d,e.exports.findExtensionElement=f,e.exports.formatTypes=h,e.exports.hasProperties=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.entries(t).reduce((function(t,o){var c=i(o,2),d=c[0],f=c[1],h=l(e,n),m=e.get(d);if(f.required&&!m)return[].concat(r(t),[{message:"Element of type <".concat(e.$type,"> must have property <").concat(d,">"),path:h?[].concat(r(h),[d]):[d],error:{type:u.PROPERTY_REQUIRED,node:e,parentNode:n==e?null:n,requiredProperty:d}}]);if(f.dependendRequired&&(e.get(f.dependendRequired)&&!m))return[].concat(r(t),[{message:"Element of type <".concat(e.$type,"> must have property <").concat(d,"> if it has property <").concat(f.dependendRequired,">"),path:h?[].concat(r(h),[d]):[d],error:{type:u.PROPERTY_DEPENDEND_REQUIRED,node:e,parentNode:n==e?null:n,property:f.dependendRequired,dependendRequiredProperty:d}}]);return f.type&&m&&(!m.$instanceOf||!a(f.type)&&!m.$instanceOf(f.type)||a(f.type)&&!p(f.type,(function(e){return m.$instanceOf(e)})))?[].concat(r(t),[{message:"Property <".concat(d,"> of type <").concat(m.$type,"> not allowed"),path:h?[].concat(r(h),[d]):[d],error:{type:u.PROPERTY_TYPE_NOT_ALLOWED,node:e,parentNode:n==e?null:n,property:d,allowedPropertyType:f.type}}]):!1===f.allowed&&s(m)?[].concat(r(t),[{message:"Property <".concat(d,"> not allowed"),path:h?[].concat(r(h),[d]):[d],error:{type:u.PROPERTY_NOT_ALLOWED,node:e,parentNode:n==e?null:n,property:d}}]):t}),[])},e.exports.hasExtensionElementsOfTypes=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=d(e,t);return i&&i.length?r&&i.length>1?[{message:"Element of type <".concat(e.$type,"> must have one extension element of type ").concat(h(t,!0)),path:l(e,n),error:{type:u.EXTENSION_ELEMENT_REQUIRED,node:e,parentNode:n==e?null:n,requiredExtensionElement:t,exclusive:r}}]:[]:[{message:r?"Element of type <".concat(e.$type,"> must have one extension element of type ").concat(h(t,!0)):"Element of type <".concat(e.$type,"> must have one or many extension elements of type ").concat(h(t,!0)),path:l(e,n),error:{type:u.EXTENSION_ELEMENT_REQUIRED,node:e,parentNode:n==e?null:n,requiredExtensionElement:t,exclusive:r}}]},e.exports.hasExtensionElementOfType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=f(e,t);return r?[]:[{message:"Element of type <".concat(e.$type,"> must have extension element of type <").concat(t,">"),path:l(e,n),error:{type:u.EXTENSION_ELEMENT_REQUIRED,node:e,parentNode:n==e?null:n,requiredExtensionElement:t}}]},e.exports.isExactly=m,e.exports.isAnyExactly=function(e,t){return p(t,(function(t){return m(e,t)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"Moddle",(function(){return v})),n.d(t,"coerceType",(function(){return p})),n.d(t,"isBuiltInType",(function(){return c})),n.d(t,"isSimpleType",(function(){return l})),n.d(t,"parseNameNS",(function(){return u}));var r=n(13);function i(){}function o(e,t){this.model=e,this.properties=t}i.prototype.get=function(e){return this.$model.properties.get(this,e)},i.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},o.prototype.createType=function(e){var t=this.model,n=this.properties,o=Object.create(i.prototype);Object(r.forEach)(e.properties,(function(e){e.isMany||void 0===e.default||(o[e.name]=e.default)})),n.defineModel(o,t),n.defineDescriptor(o,e);var a=e.ns.name;function s(e){n.define(this,"$type",{value:a,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),Object(r.forEach)(e,Object(r.bind)((function(e,t){this.set(t,e)}),this))}return s.prototype=o,s.hasType=o.$instanceOf=this.model.hasType,n.defineModel(s,t),n.defineDescriptor(s,e),s};var a={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},s={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function p(e,t){var n=s[e];return n?n(t):t}function c(e){return!!a[e]}function l(e){return!!s[e]}function u(e,t){var n,r,i=e.split(/:/);if(1===i.length)n=e,r=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=i[1],r=i[0]}return{name:e=(r?r+":":"")+n,prefix:r,localName:n}}function d(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function f(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Object(r.forEach)(e,Object(r.bind)(this.registerPackage,this))}function h(e,t,n){var r=t[n];if(r in e)throw new Error("package with "+n+" <"+r+"> already defined")}function m(e){this.model=e}function y(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function v(e){this.properties=new m(this),this.factory=new o(this,this.properties),this.registry=new f(e,this.properties),this.typeCache={}}d.prototype.build=function(){return Object(r.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},d.prototype.addProperty=function(e,t,n){"boolean"===typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var r=this.properties;void 0!==t?r.splice(t,0,e):r.push(e)},d.prototype.replaceProperty=function(e,t,n){var r=e.ns,i=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=i.indexOf(e);if(-1===s)throw new Error("property <"+r.name+"> not found in property list");i.splice(s,1),this.addProperty(t,n?void 0:s,a),o[r.name]=o[r.localName]=t},d.prototype.redefineProperty=function(e,t,n){var r=e.ns.prefix,i=t.split("#"),o=u(i[0],r),a=u(i[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},d.prototype.addNamedProperty=function(e,t){var n=e.ns,r=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),r[n.name]=r[n.localName]=e},d.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},d.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},d.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},d.prototype.assertNotDefined=function(e,t){var n=e.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},d.prototype.hasProperty=function(e){return this.propertiesByName[e]},d.prototype.addTrait=function(e,t){var n=this.allTypesByName,i=this.allTypes,o=e.name;o in n||(Object(r.forEach)(e.properties,Object(r.bind)((function(n){n=Object(r.assign)({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var i=n.replaces,o=n.redefines;i||o?this.redefineProperty(n,i||o,i):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),i.push(e),n[o]=e)},f.prototype.getPackage=function(e){return this.packageMap[e]},f.prototype.getPackages=function(){return this.packages},f.prototype.registerPackage=function(e){e=Object(r.assign)({},e);var t=this.packageMap;h(t,e,"prefix"),h(t,e,"uri"),Object(r.forEach)(e.types,Object(r.bind)((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},f.prototype.registerType=function(e,t){var n=u((e=Object(r.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Object(r.assign)(e.meta||{})})).name,t.prefix),i=n.name,o={};Object(r.forEach)(e.properties,Object(r.bind)((function(e){var t=u(e.name,n.prefix),i=t.name;c(e.type)||(e.type=u(e.type,t.prefix).name),Object(r.assign)(e,{ns:t,name:i}),o[i]=e}),this)),Object(r.assign)(e,{ns:n,name:i,propertiesByName:o}),Object(r.forEach)(e.extends,Object(r.bind)((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)}),this)),this.definePackage(e,t),this.typeMap[i]=e},f.prototype.mapTypes=function(e,t,n){var i=c(e.name)?{name:e.name}:this.typeMap[e.name],o=this;function a(e){return s(e,!0)}function s(n,r){var i=u(n,c(n)?"":e.prefix);o.mapTypes(i,t,r)}if(!i)throw new Error("unknown type <"+e.name+">");Object(r.forEach)(i.superClass,n?a:s),t(i,!n),Object(r.forEach)(i.traits,a)},f.prototype.getEffectiveDescriptor=function(e){var t=u(e),n=new d(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},f.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},m.prototype.set=function(e,t,n){var r=this.model.getPropertyDescriptor(e,t),i=r&&r.name;"undefined"===typeof n?r?delete e[i]:delete e.$attrs[t]:r?i in e?e[i]=n:y(e,r,n):e.$attrs[t]=n},m.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var r=n.name;return!e[r]&&n.isMany&&y(e,n,[]),e[r]},m.prototype.define=function(e,t,n){if(!n.writable){var i=n.value;delete(n=Object(r.assign)({},n,{get:function(){return i}})).value}Object.defineProperty(e,t,n)},m.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},m.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},v.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},v.prototype.getType=function(e){var t=this.typeCache,n=Object(r.isString)(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},v.prototype.createAny=function(e,t,n){var i=u(e),o={$type:e,$instanceOf:function(e){return e===this.$type}},a={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(o,a),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),Object(r.forEach)(n,(function(e,t){Object(r.isObject)(e)&&void 0!==e.value?o[e.name]=e.value:o[t]=e})),o},v.prototype.getPackage=function(e){return this.registry.getPackage(e)},v.prototype.getPackages=function(){return this.registry.getPackages()},v.prototype.getElementDescriptor=function(e){return e.$descriptor},v.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},v.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},v.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(42);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var p=u(e,t,n);if("normal"===p.type){if(r=n.done?"completed":"suspendedYield",p.arg===d)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r="completed",n.method="throw",n.arg=p.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var d={};function f(){}function h(){}function m(){}var y={};c(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,a)&&(y=g);var b=m.prototype=f.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(o,a,s,p){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Object(r.a)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,p)}),(function(e){i("throw",e,s,p)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,p)}))}p(c.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,c(b,"constructor",m),c(m,"constructor",h),h.displayName=c(m,p,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,p,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(b),c(b,p,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),p=n.call(o,"finallyLoc");if(s&&p){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=[].indexOf,i=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},o=/\s+/,a=Object.prototype.toString;function s(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}s.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~i(t,e)||t.push(e),this.el.className=t.join(" "),this},s.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},s.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},s.prototype.toggle=function(e,t){return this.list?("undefined"!==typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!==typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},s.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},s.prototype.has=s.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)};var p="undefined"!==typeof Element?Element.prototype:{};p.matches||p.matchesSelector||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector;window.addEventListener,window.removeEventListener;var c,l=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild)}var i,o=d[r]||d._default,a=o[0],s=o[1],p=o[2];(i=t.createElement("div")).innerHTML=s+e+p;for(;a--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var c=t.createDocumentFragment();for(;i.firstChild;)c.appendChild(i.removeChild(i.firstChild));return c},u=!1;"undefined"!==typeof document&&((c=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',u=!c.getElementsByTagName("link").length,c=void 0);var d={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:u?[1,"X<div>","</div>"]:[0,"",""]};function f(e,t){return(t=t||document).querySelector(e)}d.td=d.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],d.option=d.optgroup=[1,'<select multiple="multiple">',"</select>"],d.thead=d.tbody=d.colgroup=d.caption=d.tfoot=[1,"<table>","</table>"],d.polyline=d.ellipse=d.polygon=d.circle=d.text=d.line=d.path=d.rect=d.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},function(e,t,n){var r=n(48).default,i=n(97).default,o=["message"],a=n(15).is,s=n(13).isArray;function p(e){if(a(e,"bpmn:TextAnnotation"))return e.get("text");if(a(e,"bpmn:Group")){var t=e.get("categoryValueRef");return t&&t.get("value")}return e.get("name")}e.exports.reportErrors=function(e,t,n){s(n)||(n=[n]),n.forEach((function(n){var a=n.message,s=i(n,o),c=p(e);c&&(s=r(r({},s),{},{name:c})),t.report(e.get("id"),a,s)}))},e.exports.getName=p},function(e,t,n){"use strict";e.exports=n(81)},function(e,t){e.exports.ERROR_TYPES=Object.freeze({ELEMENT_TYPE_NOT_ALLOWED:"elementTypeNotAllowed",EXTENSION_ELEMENT_NOT_ALLOWED:"extensionElementNotAllowed",EXTENSION_ELEMENT_REQUIRED:"extensionElementRequired",PROPERTY_DEPENDEND_REQUIRED:"propertyDependendRequired",PROPERTY_NOT_ALLOWED:"propertyNotAllowed",PROPERTY_REQUIRED:"propertyRequired",PROPERTY_TYPE_NOT_ALLOWED:"propertyTypeNotAllowed"})},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),p=s.value}catch(c){return void n(c)}s.done?t(p):Promise.resolve(p).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,p,"next",e)}function p(e){r(a,i,o,s,p,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){var r;!function(i,o,a,s){"use strict";var p,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),u=Math.round,d=Math.abs,f=Date.now;function h(e,t,n){return setTimeout(w(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}p="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var g=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=v((function(e,t){return g(e,t,!0)}),"merge","Use `assign`.");function x(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&p(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function O(e,t){return e===s?t:e}function _(e,t,n){y(k(t),(function(t){e.addEventListener(t,n,!1)}))}function P(e,t,n){y(k(t),(function(t){e.removeEventListener(t,n,!1)}))}function j(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function k(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function C(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];A(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function R(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}return s}var M=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,B=R(i,"PointerEvent")!==s,L=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),I="touch",z="mouse",$=24,F=["x","y"],q=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function V(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=H(t));i>1&&!n.firstMultiple?n.firstMultiple=H(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,p=a?a.center:o.center,c=t.center=W(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=X(p,c),t.distance=Y(p,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=K(t.deltaX,t.deltaY);var l=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=d(l.x)>d(l.y)?l.x:l.y,t.scale=a?(u=a.pointers,h=r,Y(h[0],h[1],q)/Y(u[0],u[1],q)):1,t.rotation=a?function(e,t){return X(t[1],t[0],q)+X(e[1],e[0],q)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,p=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(p>25||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,u=G(p,c,l);r=u.x,i=u.y,n=d(u.x)>d(u.y)?u.x:u.y,o=K(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var u,h;var m=e.element;j(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:u(e[0].clientX),y:u(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:u(n/t),y:u(r/t)}}function G(e,t,n){return{x:t/e||0,y:n/e||0}}function K(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function X(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(D(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4},J="mousedown",Z="mousemove mouseup";function ee(){this.evEl=J,this.evWin=Z,this.pressed=!1,U.apply(this,arguments)}x(ee,U,{handler:function(e){var t=Q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:z,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:I,3:"pen",4:z,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),x(oe,U,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==I,s=A(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",pe="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=se,this.evWin=pe,this.started=!1,U.apply(this,arguments)}function le(e,t){var n=C(e.touches),r=C(e.changedTouches);return 12&t&&(n=T(n.concat(r),"identifier",!0)),[n,r]}x(ce,U,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=le.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:I,srcEvent:e})}}});var ue={touchstart:1,touchmove:2,touchend:4,touchcancel:8},de="touchstart touchmove touchend touchcancel";function fe(){this.evTarget=de,this.targetIds={},U.apply(this,arguments)}function he(e,t){var n=C(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=C(e.changedTouches),s=[],p=this.target;if(o=n.filter((function(e){return j(e.target,p)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[T(o.concat(s),"identifier",!0),s]:void 0}x(fe,U,{handler:function(e){var t=ue[e.type],n=he.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:I,srcEvent:e})}});function me(){U.apply(this,arguments);var e=w(this.handler,this);this.touch=new fe(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ye(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}x(me,U,{handler:function(e,t,n){var r=n.pointerType==I,i=n.pointerType==z;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ye.call(this,t,n);else if(i&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=R(l.style,"touchAction"),xe=be!==s,we="compute",Ee="auto",Oe="manipulation",_e="none",Pe="pan-x",je="pan-y",Se=function(){if(!xe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function ke(e,t){this.manager=e,this.set(t)}ke.prototype={set:function(e){e==we&&(e=this.compute()),xe&&this.manager.element.style&&Se[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(S(e,_e))return _e;var t=S(e,Pe),n=S(e,je);if(t&&n)return _e;if(t||n)return t?Pe:je;if(S(e,Oe))return Oe;return Ee}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=S(r,_e)&&!Se.none,o=S(r,je)&&!Se["pan-y"],a=S(r,Pe)&&!Se["pan-x"];if(i){var s=1===e.pointers.length,p=e.distance<2,c=e.deltaTime<250;if(s&&p&&c)return}if(!a||!o)return i||o&&6&n||a&&n&$?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ae=32;function Ce(e){this.options=p({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Te(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Re(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Me(e,t){var n=t.manager;return n?n.get(e):e}function De(){Ce.apply(this,arguments)}function Ne(){De.apply(this,arguments),this.pX=null,this.pY=null}function Be(){De.apply(this,arguments)}function Le(){Ce.apply(this,arguments),this._timer=null,this._input=null}function Ie(){De.apply(this,arguments)}function ze(){De.apply(this,arguments)}function $e(){Ce.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Fe(e,t){return(t=t||{}).recognizers=O(t.recognizers,Fe.defaults.preset),new qe(e,t)}Ce.prototype={defaults:{},set:function(e){return p(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Me(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Me(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=Me(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Me(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Te(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Te(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ae},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=p({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=Ae);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(De,Ce,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Ae}}),x(Ne,De,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(je),e&$&&t.push(Pe),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return De.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Re(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Be,De,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(Le,Ce,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ee]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=h((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Ae},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),x(Ie,De,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),x(ze,De,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&$&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Re(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x($e,Ce,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=h((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ae},failTimeout:function(){return this._timer=h((function(){this.state=Ae}),this.options.interval,this),Ae},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Fe.VERSION="2.0.7",Fe.defaults={domEvents:!1,touchAction:we,enable:!0,inputTarget:null,inputClass:null,preset:[[Ie,{enable:!1}],[Be,{enable:!1},["rotate"]],[ze,{direction:6}],[Ne,{direction:6},["swipe"]],[$e],[$e,{event:"doubletap",taps:2},["tap"]],[Le]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function qe(e,t){var n;this.options=p({},Fe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(B?oe:L?fe:N?me:ee))(n,V),this.touchAction=new ke(this,this.options.touchAction),Ue(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ue(e,t){var n,r=e.element;r.style&&(y(e.options.cssProps,(function(i,o){n=R(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}qe.prototype={set:function(e){return p(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ce)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return y(k(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return y(k(e),(function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(Fe,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ae,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:$,DIRECTION_ALL:30,Manager:qe,Input:U,TouchAction:ke,TouchInput:fe,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:me,SingleTouchInput:ce,Recognizer:Ce,AttrRecognizer:De,Tap:$e,Pan:Ne,Swipe:ze,Pinch:Be,Rotate:Ie,Press:Le,on:_,off:P,each:y,merge:b,extend:g,assign:p,inherit:x,bindFn:w,prefixed:R}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Fe,(r=function(){return Fe}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return s}));var i=n(42),o=n(37);function a(e,t){if(t&&("object"===Object(i.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o.a)(e)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(36);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return H})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return W}));var r=n(9),i=n(5),o=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},a=y,s=y,p={type:"object",allOf:[{required:["name","id","appliesTo","properties"],properties:{name:{$id:"#/name",type:"string",description:"The name of the element template."},id:{$id:"#/id",type:"string",description:"The identifier of the element template."},description:{$id:"#/description",type:"string",description:"The description of the element template."},version:{$id:"#/version",type:"number",description:"Optional version of the template. If you add a version to a template it will be considered unique based on its ID and version. Two templates can have the same ID if their version is different."},isDefault:{$id:"#/isDefault",type:"boolean",description:"Indicates whether the element template is a default template."},appliesTo:{$id:"#/appliesTo",type:"array",description:"List of BPMN types the template can be applied to.",default:[],items:{$id:"#/appliesTo/items",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:Task","bpmn:ServiceTask","bpmn:SequenceFlow","bpmn:Process","bpmn:StartEvent","bpmn:Gateway"]}],errorMessage:{pattern:'invalid item for "appliesTo", should contain namespaced property, example: "bpmn:Task"'}}},elementType:{$id:"#/elementType",type:"object",description:"The BPMN type the element will be transformed into.",default:{},required:["value"],properties:{value:{$id:"#/elementType/value",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:ServiceTask","bpmn:UserTask","bpmn:StartEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway"]}],errorMessage:{pattern:'invalid item for "elementType", should contain namespaced property, example: "bpmn:Task"'}}},errorMessage:{required:{value:"missing elementType value"}}},metadata:{$id:"#/metadata",type:"object",description:"Some custom properties for further configuration.",default:{}},entriesVisible:{$id:"#/entriesVisible",type:"boolean",description:"Select whether non-template entries are visible in the properties panel."},groups:{$id:"#/groups",type:"array",description:"Custom fields can be ordered together via groups.",allOf:[{examples:[[{id:"group-1",label:"My Group"}]]}],items:{$id:"#/groups/group",type:"object",default:{},required:["id","label"],properties:{id:{$id:"#/groups/group/id",type:"string",description:"The id of the custom group"},label:{$id:"#/groups/group/label",type:"string",description:"The label of the custom group"}},errorMessage:{required:{id:'missing id for group "${0#}"',label:'missing label for group "${0#}"'}}}},documentationRef:{$id:"#/documentationRef",type:"string",pattern:"^(https|http)://.*",errorMessage:{pattern:'Malformed documentation URL, must match "^(https|http)://.*"'}}},errorMessage:{required:{name:"missing template name",id:"missing template id",appliesTo:"missing appliesTo=[]",properties:"missing properties=[]"}}}],properties:{properties:{$ref:"#/definitions/properties",$id:"#/properties"},scopes:{$id:"#/scopes",type:"array",description:"Special scoped bindings that allow you to configure nested elements.",allOf:[{examples:[[{type:"bpmn:Error",id:"Error_1",properties:[{value:"error-code",binding:{type:"property",name:"errorCode"}},{value:"error-message",binding:{type:"property",name:"camunda:errorMessage"}},{value:"error-name",binding:{type:"property",name:"name"}}]}]]}],items:{$id:"#/scopes/item",type:"object",default:{},properties:{type:{$id:"#scopes/item/type",type:"string",description:"The type of a scope.",enum:["camunda:Connector","bpmn:Error"],errorMessage:"invalid scope type ${0}; must be any of { camunda:Connector, bpmn:Error }"},properties:{$id:"#/scopes/properties",description:"List of properties of a scope.",default:[],allOf:[{$ref:"#/definitions/properties/allOf/0"},{$ref:"#/definitions/properties/allOf/1"}]}},required:["type","properties"],allOf:[{if:{properties:{type:{enum:["bpmn:Error"]}},required:["type"]},then:{required:["id"],errorMessage:"invalid scope ${0/type}, missing id"}}],errorMessage:{required:{type:"invalid scope, missing type",properties:"invalid scope ${0/type}, missing properties=[]"}}}}}},c={allOf:[{type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}}],properties:{id:{type:"string",description:"Unique identifier of the property."},value:{$id:"#/properties/property/value",type:["string","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."},condition:{$id:"#/condition",type:"object",description:"Condition to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}],required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]}],errorMessage:{required:{property:"missing property name for condition"}}}}}},{$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{const:"camunda:executionListener"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["Hidden"],errorMessage:'invalid property type ${1/type} for binding type "camunda:executionListener"; must be "Hidden"'}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:property","camunda:outputParameter","camunda:in","camunda:in:businessKey","camunda:out","camunda:errorEventDefinition"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Hidden, Dropdown }"}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:inputParameter","camunda:field"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Camunda extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","camunda:property","camunda:inputParameter","camunda:field"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"camunda:outputParameter"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"camunda:in"}},required:["type"]},then:{anyOf:[{required:["variables"]},{required:["target"]}],errorMessage:"property.binding ${0/type} requires variables, target, or both"}},{if:{properties:{type:{const:"camunda:out"}},required:["type"]},then:{oneOf:[{required:["variables"],not:{anyOf:[{required:["source"]},{required:["sourceExpression"]}]}},{required:["source"],not:{anyOf:[{required:["variables"]},{required:["sourceExpression"]}]}},{required:["sourceExpression"],not:{anyOf:[{required:["variables"]},{required:["source"]}]}},{required:["variables","sourceExpression"],not:{required:["source"]}},{required:["variables","source"],not:{required:["sourceExpression"]}}],errorMessage:"property.binding ${0/type} requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"}},{if:{properties:{type:{const:"camunda:errorEventDefinition"}},required:["type"]},then:{oneOf:[{required:["errorRef"]}],errorMessage:"property.binding ${0/type} requires errorRef"}},{examples:[{type:"property",name:"name"},{type:"camunda:property",name:"property"},{type:"camunda:inputParameter",name:"input"},{type:"camunda:outputParameter",source:"output"},{type:"camunda:in",target:"target"},{type:"camunda:in:businessKey"},{type:"camunda:out",source:"output"},{type:"camunda:executionListener",event:"start"},{type:"camunda:field",name:"field"},{type:"camunda:errorEventDefinition",errorRef:"error"},{type:"camunda:errorEventDefinition",errorRef:"error"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",enum:["property","camunda:property","camunda:inputParameter","camunda:outputParameter","camunda:in","camunda:out","camunda:in:businessKey","camunda:executionListener","camunda:field","camunda:errorEventDefinition"],description:"The type of a property binding.",errorMessage:"invalid property.binding type ${0}; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},event:{$id:"#/properties/property/binding/event",type:"string",description:"The event type of a property binding (camunda:executionListener)."},scriptFormat:{$id:"#/properties/property/binding/scriptFormat",type:"string",description:"The script format of a property binding (camunda:outputParameter, camunda:inputParameter)."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (camunda:outputParameter, camunda:out)."},target:{$id:"#/properties/property/binding/target",type:"string",description:"The target value of a property binding (camunda:in)."},expression:{$id:"#/properties/property/binding/expression",type:"boolean",description:"Indicates whether the control field value is an expression (camunda:in, camunda:field)."},variables:{$id:"#/properties/property/binding/variables",type:"string",enum:["all","local"],description:"The variable mapping of a property binding (camunda:in)."},sourceExpression:{$id:"#/properties/property/binding/sourceExpression",type:"string",description:"The string containing the expression for the source attribute (camunda:out)."}}}},errorMessage:{required:'missing binding for property "${0#}"'}}}]},l={type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}}],properties:{id:{type:"string",description:"Unique identifier of the property."},value:{$id:"#/properties/property/value",type:["string","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."},condition:{$id:"#/condition",type:"object",description:"Condition to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}],required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]}],errorMessage:{required:{property:"missing property name for condition"}}}}}},u={$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{const:"camunda:executionListener"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["Hidden"],errorMessage:'invalid property type ${1/type} for binding type "camunda:executionListener"; must be "Hidden"'}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:property","camunda:outputParameter","camunda:in","camunda:in:businessKey","camunda:out","camunda:errorEventDefinition"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Hidden, Dropdown }"}}}},{if:{properties:{binding:{properties:{type:{enum:["camunda:inputParameter","camunda:field"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Camunda extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","camunda:property","camunda:inputParameter","camunda:field"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"camunda:outputParameter"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"camunda:in"}},required:["type"]},then:{anyOf:[{required:["variables"]},{required:["target"]}],errorMessage:"property.binding ${0/type} requires variables, target, or both"}},{if:{properties:{type:{const:"camunda:out"}},required:["type"]},then:{oneOf:[{required:["variables"],not:{anyOf:[{required:["source"]},{required:["sourceExpression"]}]}},{required:["source"],not:{anyOf:[{required:["variables"]},{required:["sourceExpression"]}]}},{required:["sourceExpression"],not:{anyOf:[{required:["variables"]},{required:["source"]}]}},{required:["variables","sourceExpression"],not:{required:["source"]}},{required:["variables","source"],not:{required:["sourceExpression"]}}],errorMessage:"property.binding ${0/type} requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"}},{if:{properties:{type:{const:"camunda:errorEventDefinition"}},required:["type"]},then:{oneOf:[{required:["errorRef"]}],errorMessage:"property.binding ${0/type} requires errorRef"}},{examples:[{type:"property",name:"name"},{type:"camunda:property",name:"property"},{type:"camunda:inputParameter",name:"input"},{type:"camunda:outputParameter",source:"output"},{type:"camunda:in",target:"target"},{type:"camunda:in:businessKey"},{type:"camunda:out",source:"output"},{type:"camunda:executionListener",event:"start"},{type:"camunda:field",name:"field"},{type:"camunda:errorEventDefinition",errorRef:"error"},{type:"camunda:errorEventDefinition",errorRef:"error"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",enum:["property","camunda:property","camunda:inputParameter","camunda:outputParameter","camunda:in","camunda:out","camunda:in:businessKey","camunda:executionListener","camunda:field","camunda:errorEventDefinition"],description:"The type of a property binding.",errorMessage:"invalid property.binding type ${0}; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},event:{$id:"#/properties/property/binding/event",type:"string",description:"The event type of a property binding (camunda:executionListener)."},scriptFormat:{$id:"#/properties/property/binding/scriptFormat",type:"string",description:"The script format of a property binding (camunda:outputParameter, camunda:inputParameter)."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (camunda:outputParameter, camunda:out)."},target:{$id:"#/properties/property/binding/target",type:"string",description:"The target value of a property binding (camunda:in)."},expression:{$id:"#/properties/property/binding/expression",type:"boolean",description:"Indicates whether the control field value is an expression (camunda:in, camunda:field)."},variables:{$id:"#/properties/property/binding/variables",type:"string",enum:["all","local"],description:"The variable mapping of a property binding (camunda:in)."},sourceExpression:{$id:"#/properties/property/binding/sourceExpression",type:"string",description:"The string containing the expression for the source attribute (camunda:out)."}}}},errorMessage:{required:'missing binding for property "${0#}"'}}},d=new RegExp("^[\\w\\d]+:[\\w\\d]+$","u"),f=new RegExp("^(https|http)://.*","u"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dataPath,i=void 0===n?"":n,a=(t.parentData,t.parentDataProperty,t.rootData,null),s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){var y={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[y]:a.push(y),s++}if(void 0===e.id){var v={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"id"},message:"should have required property 'id'"};null===a?a=[v]:a.push(v),s++}if(void 0===e.appliesTo){var g={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"appliesTo"},message:"should have required property 'appliesTo'"};null===a?a=[g]:a.push(g),s++}if(void 0===e.properties){var b={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"properties"},message:"should have required property 'properties'"};null===a?a=[b]:a.push(b),s++}if(void 0!==e.name&&"string"!==typeof e.name){var x={keyword:"type",dataPath:i+"/name",schemaPath:"#/allOf/0/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[x]:a.push(x),s++}if(void 0!==e.id&&"string"!==typeof e.id){var w={keyword:"type",dataPath:i+"/id",schemaPath:"#/allOf/0/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[w]:a.push(w),s++}if(void 0!==e.description&&"string"!==typeof e.description){var E={keyword:"type",dataPath:i+"/description",schemaPath:"#/allOf/0/properties/description/type",params:{type:"string"},message:"should be string"};null===a?a=[E]:a.push(E),s++}if(void 0!==e.version&&"number"!=typeof e.version){var O={keyword:"type",dataPath:i+"/version",schemaPath:"#/allOf/0/properties/version/type",params:{type:"number"},message:"should be number"};null===a?a=[O]:a.push(O),s++}if(void 0!==e.isDefault&&"boolean"!==typeof e.isDefault){var _={keyword:"type",dataPath:i+"/isDefault",schemaPath:"#/allOf/0/properties/isDefault/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[_]:a.push(_),s++}if(void 0!==e.appliesTo){var P=e.appliesTo;if(Array.isArray(P))for(var j=P.length,S=0;S<j;S++){var k=P[S];if("string"===typeof k){if(!d.test(k)){var A={keyword:"pattern",dataPath:i+"/appliesTo/"+S,schemaPath:"#/allOf/0/properties/appliesTo/items/pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'should match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[A]:a.push(A),s++}}else{var C={keyword:"type",dataPath:i+"/appliesTo/"+S,schemaPath:"#/allOf/0/properties/appliesTo/items/type",params:{type:"string"},message:"should be string"};null===a?a=[C]:a.push(C),s++}if(s>0){var T,R={pattern:[]},M={},D=Object(r.a)(a);try{for(D.s();!(T=D.n()).done;){var N=T.value;"errorMessage"!==N.keyword&&!N.emUsed&&N.dataPath===i+"/appliesTo/"+S&&N.keyword in R&&0===N.schemaPath.indexOf("#/allOf/0/properties/appliesTo/items")&&/^\/[^\/]*$/.test(N.schemaPath.slice(36))&&(R[N.keyword].push(N),N.emUsed=!0)}}catch(Wr){D.e(Wr)}finally{D.f()}for(var B in R)if(R[B].length){var L={keyword:"errorMessage",dataPath:i+"/appliesTo/"+S,schemaPath:"#/allOf/0/properties/appliesTo/items/errorMessage",params:{errors:R[B]},message:B in M?M[B]():p.allOf[0].properties.appliesTo.items.errorMessage[B]};null===a?a=[L]:a.push(L),s++}var I,z=[],$=Object(r.a)(a);try{for($.s();!(I=$.n()).done;){var F=I.value;F.emUsed||z.push(F)}}catch(Wr){$.e(Wr)}finally{$.f()}a=z,s=z.length}}else{var q={keyword:"type",dataPath:i+"/appliesTo",schemaPath:"#/allOf/0/properties/appliesTo/type",params:{type:"array"},message:"should be array"};null===a?a=[q]:a.push(q),s++}}if(void 0!==e.elementType){var U=e.elementType;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.value){var V={keyword:"required",dataPath:i+"/elementType",schemaPath:"#/allOf/0/properties/elementType/required",params:{missingProperty:"value"},message:"should have required property 'value'"};null===a?a=[V]:a.push(V),s++}if(void 0!==U.value){var H=U.value;if("string"===typeof H){if(!d.test(H)){var W={keyword:"pattern",dataPath:i+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'should match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[W]:a.push(W),s++}}else{var G={keyword:"type",dataPath:i+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[G]:a.push(G),s++}if(s>0){var K,Y={pattern:[]},X={},Q=Object(r.a)(a);try{for(Q.s();!(K=Q.n()).done;){var J=K.value;"errorMessage"!==J.keyword&&!J.emUsed&&J.dataPath===i+"/elementType/value"&&J.keyword in Y&&0===J.schemaPath.indexOf("#/allOf/0/properties/elementType/properties/value")&&/^\/[^\/]*$/.test(J.schemaPath.slice(49))&&(Y[J.keyword].push(J),J.emUsed=!0)}}catch(Wr){Q.e(Wr)}finally{Q.f()}for(var Z in Y)if(Y[Z].length){var ee={keyword:"errorMessage",dataPath:i+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/errorMessage",params:{errors:Y[Z]},message:Z in X?X[Z]():p.allOf[0].properties.elementType.properties.value.errorMessage[Z]};null===a?a=[ee]:a.push(ee),s++}var te,ne=[],re=Object(r.a)(a);try{for(re.s();!(te=re.n()).done;){var ie=te.value;ie.emUsed||ne.push(ie)}}catch(Wr){re.e(Wr)}finally{re.f()}a=ne,s=ne.length}}}else{var oe={keyword:"type",dataPath:i+"/elementType",schemaPath:"#/allOf/0/properties/elementType/type",params:{type:"object"},message:"should be object"};null===a?a=[oe]:a.push(oe),s++}if(s>0){var ae,se,pe,ce={required:{value:[]}},le={required:{}},ue=Object(r.a)(a);try{for(ue.s();!(pe=ue.n()).done;){var de=pe.value;"errorMessage"!==de.keyword&&!de.emUsed&&de.dataPath===i+"/elementType"&&de.keyword in ce&&0===de.schemaPath.indexOf("#/allOf/0/properties/elementType")&&/^\/[^\/]*$/.test(de.schemaPath.slice(32))&&(ae=h[de.keyword],(se=ce[de.keyword][de.params[ae]])&&(se.push(de),de.emUsed=!0))}}catch(Wr){ue.e(Wr)}finally{ue.f()}for(var fe in ce)for(var he in ce[fe])if((se=ce[fe][he]).length){var me=le[fe]&&le[fe][he],ye={keyword:"errorMessage",dataPath:i+"/elementType",schemaPath:"#/allOf/0/properties/elementType/errorMessage",params:{errors:se},message:me?me():p.allOf[0].properties.elementType.errorMessage[fe][he]};null===a?a=[ye]:a.push(ye),s++}var ve,ge=[],be=Object(r.a)(a);try{for(be.s();!(ve=be.n()).done;){var xe=ve.value;xe.emUsed||ge.push(xe)}}catch(Wr){be.e(Wr)}finally{be.f()}a=ge,s=ge.length}}if(void 0!==e.metadata){var we=e.metadata;if(!we||"object"!=typeof we||Array.isArray(we)){var Ee={keyword:"type",dataPath:i+"/metadata",schemaPath:"#/allOf/0/properties/metadata/type",params:{type:"object"},message:"should be object"};null===a?a=[Ee]:a.push(Ee),s++}}if(void 0!==e.entriesVisible&&"boolean"!==typeof e.entriesVisible){var Oe={keyword:"type",dataPath:i+"/entriesVisible",schemaPath:"#/allOf/0/properties/entriesVisible/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[Oe]:a.push(Oe),s++}if(void 0!==e.groups){var _e=e.groups;if(Array.isArray(_e))for(var Pe=_e.length,je=function(e){var t=_e[e];if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.id){var n={keyword:"required",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/required",params:{missingProperty:"id"},message:"should have required property 'id'"};null===a?a=[n]:a.push(n),s++}if(void 0===t.label){var o={keyword:"required",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/required",params:{missingProperty:"label"},message:"should have required property 'label'"};null===a?a=[o]:a.push(o),s++}if(void 0!==t.id&&"string"!==typeof t.id){var c={keyword:"type",dataPath:i+"/groups/"+e+"/id",schemaPath:"#/allOf/0/properties/groups/items/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[c]:a.push(c),s++}if(void 0!==t.label&&"string"!==typeof t.label){var l={keyword:"type",dataPath:i+"/groups/"+e+"/label",schemaPath:"#/allOf/0/properties/groups/items/properties/label/type",params:{type:"string"},message:"should be string"};null===a?a=[l]:a.push(l),s++}}else{var u={keyword:"type",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/type",params:{type:"object"},message:"should be object"};null===a?a=[u]:a.push(u),s++}if(s>0){var d,f,m,y={required:{id:[],label:[]}},v={required:{id:function(){return'missing id for group "'+JSON.stringify(e)+'"'},label:function(){return'missing label for group "'+JSON.stringify(e)+'"'}}},g=Object(r.a)(a);try{for(g.s();!(m=g.n()).done;){var b=m.value;"errorMessage"!==b.keyword&&!b.emUsed&&b.dataPath===i+"/groups/"+e&&b.keyword in y&&0===b.schemaPath.indexOf("#/allOf/0/properties/groups/items")&&/^\/[^\/]*$/.test(b.schemaPath.slice(33))&&(d=h[b.keyword],(f=y[b.keyword][b.params[d]])&&(f.push(b),b.emUsed=!0))}}catch(Wr){g.e(Wr)}finally{g.f()}for(var x in y)for(var w in y[x])if((f=y[x][w]).length){var E=v[x]&&v[x][w],O={keyword:"errorMessage",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/errorMessage",params:{errors:f},message:E?E():p.allOf[0].properties.groups.items.errorMessage[x][w]};null===a?a=[O]:a.push(O),s++}var _,P=[],j=Object(r.a)(a);try{for(j.s();!(_=j.n()).done;){var S=_.value;S.emUsed||P.push(S)}}catch(Wr){j.e(Wr)}finally{j.f()}a=P,s=P.length}},Se=0;Se<Pe;Se++)je(Se);else{var ke={keyword:"type",dataPath:i+"/groups",schemaPath:"#/allOf/0/properties/groups/type",params:{type:"array"},message:"should be array"};null===a?a=[ke]:a.push(ke),s++}}if(void 0!==e.documentationRef){var Ae=e.documentationRef;if("string"===typeof Ae){if(!f.test(Ae)){var Ce={keyword:"pattern",dataPath:i+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/pattern",params:{pattern:"^(https|http)://.*"},message:'should match pattern "^(https|http)://.*"'};null===a?a=[Ce]:a.push(Ce),s++}}else{var Te={keyword:"type",dataPath:i+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/type",params:{type:"string"},message:"should be string"};null===a?a=[Te]:a.push(Te),s++}if(s>0){var Re,Me={pattern:[]},De={},Ne=Object(r.a)(a);try{for(Ne.s();!(Re=Ne.n()).done;){var Be=Re.value;"errorMessage"!==Be.keyword&&!Be.emUsed&&Be.dataPath===i+"/documentationRef"&&Be.keyword in Me&&0===Be.schemaPath.indexOf("#/allOf/0/properties/documentationRef")&&/^\/[^\/]*$/.test(Be.schemaPath.slice(37))&&(Me[Be.keyword].push(Be),Be.emUsed=!0)}}catch(Wr){Ne.e(Wr)}finally{Ne.f()}for(var Le in Me)if(Me[Le].length){var Ie={keyword:"errorMessage",dataPath:i+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/errorMessage",params:{errors:Me[Le]},message:Le in De?De[Le]():p.allOf[0].properties.documentationRef.errorMessage[Le]};null===a?a=[Ie]:a.push(Ie),s++}var ze,$e=[],Fe=Object(r.a)(a);try{for(Fe.s();!(ze=Fe.n()).done;){var qe=ze.value;qe.emUsed||$e.push(qe)}}catch(Wr){Fe.e(Wr)}finally{Fe.f()}a=$e,s=$e.length}}}if(s>0){var Ue,Ve,He,We={required:{name:[],id:[],appliesTo:[],properties:[]}},Ge={required:{}},Ke=Object(r.a)(a);try{for(Ke.s();!(He=Ke.n()).done;){var Ye=He.value;"errorMessage"!==Ye.keyword&&!Ye.emUsed&&Ye.dataPath===i&&Ye.keyword in We&&0===Ye.schemaPath.indexOf("#/allOf/0")&&/^\/[^\/]*$/.test(Ye.schemaPath.slice(9))&&(Ue=h[Ye.keyword],(Ve=We[Ye.keyword][Ye.params[Ue]])&&(Ve.push(Ye),Ye.emUsed=!0))}}catch(Wr){Ke.e(Wr)}finally{Ke.f()}for(var Xe in We)for(var Qe in We[Xe])if((Ve=We[Xe][Qe]).length){var Je=Ge[Xe]&&Ge[Xe][Qe],Ze={keyword:"errorMessage",dataPath:i,schemaPath:"#/allOf/0/errorMessage",params:{errors:Ve},message:Je?Je():p.allOf[0].errorMessage[Xe][Qe]};null===a?a=[Ze]:a.push(Ze),s++}var et,tt=[],nt=Object(r.a)(a);try{for(nt.s();!(et=nt.n()).done;){var rt=et.value;rt.emUsed||tt.push(rt)}}catch(Wr){nt.e(Wr)}finally{nt.f()}a=tt,s=tt.length}if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.properties){var it=e.properties;if(Array.isArray(it))for(var ot=it.length,at=0;at<ot;at++){var st=it[at],pt=s,ct=!0,lt=s;if(st&&"object"==typeof st&&!Array.isArray(st))if(void 0===st.type){var ut={};null===a?a=[ut]:a.push(ut),s++}else if(void 0!==st.type&&!o(st.type,"Dropdown")){var dt={};null===a?a=[dt]:a.push(dt),s++}var ft=lt===s;if(s=pt,null!==a&&(pt?a.length=pt:a=null),ft){var ht=s;if(st&&"object"==typeof st&&!Array.isArray(st)&&void 0===st.choices){var mt={keyword:"required",dataPath:i+"/properties/"+at,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/then/required",params:{missingProperty:"choices"},message:"should have required property 'choices'"};null===a?a=[mt]:a.push(mt),s++}if(s>0){var yt,vt=[],gt=Object(r.a)(a);try{for(gt.s();!(yt=gt.n()).done;){var bt=yt.value;"errorMessage"===bt.keyword||bt.emUsed||bt.dataPath!==i+"/properties/"+at&&(0!==bt.dataPath.indexOf(i+"/properties/"+at)||"/"!==bt.dataPath[i+"/properties/"+at.length])||0!==bt.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/0/then")||"/"!==bt.schemaPath["#/definitions/properties/allOf/0/items/allOf/0/then".length]||(vt.push(bt),bt.emUsed=!0)}}catch(Wr){gt.e(Wr)}finally{gt.f()}if(vt.length){var xt={keyword:"errorMessage",dataPath:i+"/properties/"+at,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/then/errorMessage",params:{errors:vt},message:'must provide choices=[] with "Dropdown" type'};null===a?a=[xt]:a.push(xt),s++}var wt,Et=[],Ot=Object(r.a)(a);try{for(Ot.s();!(wt=Ot.n()).done;){var _t=wt.value;_t.emUsed||Et.push(_t)}}catch(Wr){Ot.e(Wr)}finally{Ot.f()}a=Et,s=Et.length}ct=ft=ht===s}if(!ct){var Pt={keyword:"if",dataPath:i+"/properties/"+at,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[Pt]:a.push(Pt),s++}if(st&&"object"==typeof st&&!Array.isArray(st)){if(void 0!==st.id&&"string"!==typeof st.id){var jt={keyword:"type",dataPath:i+"/properties/"+at+"/id",schemaPath:"#/definitions/properties/allOf/0/items/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[jt]:a.push(jt),s++}if(void 0!==st.value){var St=st.value;if("string"!==typeof St&&"boolean"!==typeof St){var kt={keyword:"type",dataPath:i+"/properties/"+at+"/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/value/type",params:{type:c.allOf[0].items.properties.value.type},message:"should be string,boolean"};null===a?a=[kt]:a.push(kt),s++}}if(void 0!==st.description&&"string"!==typeof st.description){var At={keyword:"type",dataPath:i+"/properties/"+at+"/description",schemaPath:"#/definitions/properties/allOf/0/items/properties/description/type",params:{type:"string"},message:"should be string"};null===a?a=[At]:a.push(At),s++}if(void 0!==st.label&&"string"!==typeof st.label){var Ct={keyword:"type",dataPath:i+"/properties/"+at+"/label",schemaPath:"#/definitions/properties/allOf/0/items/properties/label/type",params:{type:"string"},message:"should be string"};null===a?a=[Ct]:a.push(Ct),s++}if(void 0!==st.type&&"string"!==typeof st.type){var Tt={keyword:"type",dataPath:i+"/properties/"+at+"/type",schemaPath:"#/definitions/properties/allOf/0/items/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[Tt]:a.push(Tt),s++}if(void 0!==st.editable&&"boolean"!==typeof st.editable){var Rt={keyword:"type",dataPath:i+"/properties/"+at+"/editable",schemaPath:"#/definitions/properties/allOf/0/items/properties/editable/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[Rt]:a.push(Rt),s++}if(void 0!==st.choices){var Mt=st.choices;if(Array.isArray(Mt))for(var Dt=Mt.length,Nt=0;Nt<Dt;Nt++){var Bt=Mt[Nt];if(Bt&&"object"==typeof Bt&&!Array.isArray(Bt)){if(void 0===Bt.value){var Lt={keyword:"required",dataPath:i+"/properties/"+at+"/choices/"+Nt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/required",params:{missingProperty:"value"},message:"should have required property 'value'"};null===a?a=[Lt]:a.push(Lt),s++}if(void 0===Bt.name){var It={keyword:"required",dataPath:i+"/properties/"+at+"/choices/"+Nt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[It]:a.push(It),s++}if(void 0!==Bt.name&&"string"!==typeof Bt.name){var zt={keyword:"type",dataPath:i+"/properties/"+at+"/choices/"+Nt+"/name",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[zt]:a.push(zt),s++}if(void 0!==Bt.value&&"string"!==typeof Bt.value){var $t={keyword:"type",dataPath:i+"/properties/"+at+"/choices/"+Nt+"/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[$t]:a.push($t),s++}}else{var Ft={keyword:"type",dataPath:i+"/properties/"+at+"/choices/"+Nt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/type",params:{type:"object"},message:"should be object"};null===a?a=[Ft]:a.push(Ft),s++}if(s>0){var qt,Ut={required:[]},Vt={},Ht=Object(r.a)(a);try{for(Ht.s();!(qt=Ht.n()).done;){var Wt=qt.value;"errorMessage"!==Wt.keyword&&!Wt.emUsed&&Wt.dataPath===i+"/properties/"+at+"/choices/"+Nt&&Wt.keyword in Ut&&0===Wt.schemaPath.indexOf("#/definitions/properties/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(Wt.schemaPath.slice(63))&&(Ut[Wt.keyword].push(Wt),Wt.emUsed=!0)}}catch(Wr){Ht.e(Wr)}finally{Ht.f()}for(var Gt in Ut)if(Ut[Gt].length){var Kt={keyword:"errorMessage",dataPath:i+"/properties/"+at+"/choices/"+Nt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/errorMessage",params:{errors:Ut[Gt]},message:Gt in Vt?Vt[Gt]():c.allOf[0].items.properties.choices.items.errorMessage[Gt]};null===a?a=[Kt]:a.push(Kt),s++}var Yt,Xt=[],Qt=Object(r.a)(a);try{for(Qt.s();!(Yt=Qt.n()).done;){var Jt=Yt.value;Jt.emUsed||Xt.push(Jt)}}catch(Wr){Qt.e(Wr)}finally{Qt.f()}a=Xt,s=Xt.length}}else{var Zt={keyword:"type",dataPath:i+"/properties/"+at+"/choices",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/type",params:{type:"array"},message:"should be array"};null===a?a=[Zt]:a.push(Zt),s++}}if(void 0!==st.constraints){var en=st.constraints;if(en&&"object"==typeof en&&!Array.isArray(en)){if(void 0!==en.notEmpty&&"boolean"!==typeof en.notEmpty){var tn={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/notEmpty",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/notEmpty/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[tn]:a.push(tn),s++}if(void 0!==en.minLength&&"number"!=typeof en.minLength){var nn={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/minLength",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/minLength/type",params:{type:"number"},message:"should be number"};null===a?a=[nn]:a.push(nn),s++}if(void 0!==en.maxLength&&"number"!=typeof en.maxLength){var rn={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/maxLength",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/maxLength/type",params:{type:"number"},message:"should be number"};null===a?a=[rn]:a.push(rn),s++}if(void 0!==en.pattern){var on=en.pattern,an=s,sn=!1,pn=null,cn=s;if(on&&"object"==typeof on&&!Array.isArray(on)){if(void 0!==on.value&&"string"!==typeof on.value){var ln={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/pattern/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[ln]:a.push(ln),s++}if(void 0!==on.message&&"string"!==typeof on.message){var un={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/pattern/message",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",params:{type:"string"},message:"should be string"};null===a?a=[un]:a.push(un),s++}}else{var dn={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",params:{type:"object"},message:"should be object"};null===a?a=[dn]:a.push(dn),s++}(fn=cn===s)&&(sn=!0,pn=0);var fn,hn=s;if("string"!==typeof on){var mn={keyword:"type",dataPath:i+"/properties/"+at+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",params:{type:"string"},message:"should be string"};null===a?a=[mn]:a.push(mn),s++}if((fn=hn===s)&&sn?(sn=!1,pn=[pn,1]):fn&&(sn=!0,pn=1),sn)s=an,null!==a&&(an?a.length=an:a=null);else{var yn={keyword:"oneOf",dataPath:i+"/properties/"+at+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf",params:{passingSchemas:pn},message:"should match exactly one schema in oneOf"};null===a?a=[yn]:a.push(yn),s++}}}else{var vn={keyword:"type",dataPath:i+"/properties/"+at+"/constraints",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/type",params:{type:"object"},message:"should be object"};null===a?a=[vn]:a.push(vn),s++}}if(void 0!==st.group&&"string"!==typeof st.group){var gn={keyword:"type",dataPath:i+"/properties/"+at+"/group",schemaPath:"#/definitions/properties/allOf/0/items/properties/group/type",params:{type:"string"},message:"should be string"};null===a?a=[gn]:a.push(gn),s++}if(void 0!==st.condition){var bn=st.condition,xn=s,wn=!1,En=null,On=s;if(bn&&"object"==typeof bn&&!Array.isArray(bn)){if(void 0===bn.equals){var _n={keyword:"required",dataPath:i+"/properties/"+at+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/0/required",params:{missingProperty:"equals"},message:"should have required property 'equals'"};null===a?a=[_n]:a.push(_n),s++}if(void 0!==bn.equals){var Pn=bn.equals;if("string"!==typeof Pn&&"number"!=typeof Pn&&"boolean"!==typeof Pn){var jn={keyword:"type",dataPath:i+"/properties/"+at+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/0/properties/equals/type",params:{type:c.allOf[0].items.properties.condition.oneOf[0].properties.equals.type},message:"should be string,number,boolean"};null===a?a=[jn]:a.push(jn),s++}}}(Sn=On===s)&&(wn=!0,En=0);var Sn,kn=s;if(bn&&"object"==typeof bn&&!Array.isArray(bn)){if(void 0===bn.oneOf){var An={keyword:"required",dataPath:i+"/properties/"+at+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/required",params:{missingProperty:"oneOf"},message:"should have required property 'oneOf'"};null===a?a=[An]:a.push(An),s++}if(void 0!==bn.oneOf){var Cn=bn.oneOf;if(Array.isArray(Cn))for(var Tn=Cn.length,Rn=0;Rn<Tn;Rn++){var Mn=Cn[Rn];if("string"!==typeof Mn&&"number"!=typeof Mn){var Dn={keyword:"type",dataPath:i+"/properties/"+at+"/condition/oneOf/"+Rn,schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/properties/oneOf/items/type",params:{type:c.allOf[0].items.properties.condition.oneOf[1].properties.oneOf.items.type},message:"should be string,number"};null===a?a=[Dn]:a.push(Dn),s++}}else{var Nn={keyword:"type",dataPath:i+"/properties/"+at+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/properties/oneOf/type",params:{type:"array"},message:"should be array"};null===a?a=[Nn]:a.push(Nn),s++}}}if((Sn=kn===s)&&wn?(wn=!1,En=[En,1]):Sn&&(wn=!0,En=1),wn)s=xn,null!==a&&(xn?a.length=xn:a=null);else{var Bn={keyword:"oneOf",dataPath:i+"/properties/"+at+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf",params:{passingSchemas:En},message:"should match exactly one schema in oneOf"};null===a?a=[Bn]:a.push(Bn),s++}if(bn&&"object"==typeof bn&&!Array.isArray(bn)){if(void 0===bn.property){var Ln={keyword:"required",dataPath:i+"/properties/"+at+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/required",params:{missingProperty:"property"},message:"should have required property 'property'"};null===a?a=[Ln]:a.push(Ln),s++}if(void 0!==bn.type&&!o(bn.type,"simple")){var In={keyword:"const",dataPath:i+"/properties/"+at+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/properties/type/const",params:{allowedValue:"simple"},message:"should be equal to constant"};null===a?a=[In]:a.push(In),s++}if(void 0!==bn.property&&"string"!==typeof bn.property){var zn={keyword:"type",dataPath:i+"/properties/"+at+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/properties/property/type",params:{type:"string"},message:"should be string"};null===a?a=[zn]:a.push(zn),s++}}else{var $n={keyword:"type",dataPath:i+"/properties/"+at+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/type",params:{type:"object"},message:"should be object"};null===a?a=[$n]:a.push($n),s++}if(s>0){var Fn,qn={required:{property:[]}},Un={required:{}},Vn=void 0,Hn=void 0,Wn=Object(r.a)(a);try{for(Wn.s();!(Fn=Wn.n()).done;){var Gn=Fn.value;"errorMessage"!==Gn.keyword&&!Gn.emUsed&&Gn.dataPath===i+"/properties/"+at+"/condition"&&Gn.keyword in qn&&0===Gn.schemaPath.indexOf("#/definitions/properties/allOf/0/items/properties/condition")&&/^\/[^\/]*$/.test(Gn.schemaPath.slice(59))&&(Vn=h[Gn.keyword],(Hn=qn[Gn.keyword][Gn.params[Vn]])&&(Hn.push(Gn),Gn.emUsed=!0))}}catch(Wr){Wn.e(Wr)}finally{Wn.f()}for(var Kn in qn)for(var Yn in qn[Kn])if((Hn=qn[Kn][Yn]).length){var Xn=Un[Kn]&&Un[Kn][Yn],Qn={keyword:"errorMessage",dataPath:i+"/properties/"+at+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/errorMessage",params:{errors:Hn},message:Xn?Xn():c.allOf[0].items.properties.condition.errorMessage[Kn][Yn]};null===a?a=[Qn]:a.push(Qn),s++}var Jn,Zn=[],er=Object(r.a)(a);try{for(er.s();!(Jn=er.n()).done;){var tr=Jn.value;tr.emUsed||Zn.push(tr)}}catch(Wr){er.e(Wr)}finally{er.f()}a=Zn,s=Zn.length}}}else{var nr={keyword:"type",dataPath:i+"/properties/"+at,schemaPath:"#/definitions/properties/allOf/0/items/type",params:{type:"object"},message:"should be object"};null===a?a=[nr]:a.push(nr),s++}}else{var rr={keyword:"type",dataPath:i+"/properties",schemaPath:"#/definitions/properties/allOf/0/type",params:{type:"array"},message:"should be array"};null===a?a=[rr]:a.push(rr),s++}if(Array.isArray(it))for(var ir=it.length,or=function(e){var t=it[e],n=s,p=!0,l=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.binding){var u={};null===a?a=[u]:a.push(u),s++}else if(void 0!==t.binding){var d=t.binding;if(d&&"object"==typeof d&&!Array.isArray(d))if(void 0===d.type){var f={};null===a?a=[f]:a.push(f),s++}else if(void 0!==d.type&&!o(d.type,"property")){var h={};null===a?a=[h]:a.push(h),s++}}if(sr=l===s,s=n,null!==a&&(n?a.length=n:a=null),sr){var m=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.type){var y=t.type;if("String"!==y&&"Text"!==y&&"Hidden"!==y&&"Dropdown"!==y&&"Boolean"!==y){var v={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/enum",params:{allowedValues:c.allOf[1].items.allOf[0].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[v]:a.push(v),s++}if(s>0){var g,b=[],x=Object(r.a)(a);try{for(x.s();!(g=x.n()).done;){var w=g.value;"errorMessage"===w.keyword||w.emUsed||w.dataPath!==i+"/properties/"+e+"/type"&&(0!==w.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==w.dataPath[i+"/properties/"+e+"/type".length])||0!==w.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/0/then/properties/type")||"/"!==w.schemaPath["#/definitions/properties/allOf/1/items/allOf/0/then/properties/type".length]||(b.push(w),w.emUsed=!0)}}catch(Wr){x.e(Wr)}finally{x.f()}if(b.length){var E={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/errorMessage",params:{errors:b},message:"invalid property type "+JSON.stringify(y)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===a?a=[E]:a.push(E),s++}var O,_=[],P=Object(r.a)(a);try{for(P.s();!(O=P.n()).done;){var j=O.value;j.emUsed||_.push(j)}}catch(Wr){P.e(Wr)}finally{P.f()}a=_,s=_.length}}p=sr=m===s}if(!p){var S={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[S]:a.push(S),s++}var k=s,A=!0,C=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.binding){var T={};null===a?a=[T]:a.push(T),s++}else if(void 0!==t.binding){var R=t.binding;if(R&&"object"==typeof R&&!Array.isArray(R))if(void 0===R.type){var M={};null===a?a=[M]:a.push(M),s++}else if(void 0!==R.type&&!o(R.type,"camunda:executionListener")){var D={};null===a?a=[D]:a.push(D),s++}}if(pr=C===s,s=k,null!==a&&(k?a.length=k:a=null),pr){var N=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.type){if("Hidden"!==t.type){var B={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/enum",params:{allowedValues:c.allOf[1].items.allOf[1].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[B]:a.push(B),s++}if(s>0){var L,I=[],z=Object(r.a)(a);try{for(z.s();!(L=z.n()).done;){var $=L.value;"errorMessage"===$.keyword||$.emUsed||$.dataPath!==i+"/properties/"+e+"/type"&&(0!==$.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==$.dataPath[i+"/properties/"+e+"/type".length])||0!==$.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/1/then/properties/type")||"/"!==$.schemaPath["#/definitions/properties/allOf/1/items/allOf/1/then/properties/type".length]||(I.push($),$.emUsed=!0)}}catch(Wr){z.e(Wr)}finally{z.f()}if(I.length){var F={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/errorMessage",params:{errors:I},message:"invalid property type "+JSON.stringify(t&&t.type)+' for binding type "camunda:executionListener"; must be "Hidden"'};null===a?a=[F]:a.push(F),s++}var q,U=[],V=Object(r.a)(a);try{for(V.s();!(q=V.n()).done;){var H=q.value;H.emUsed||U.push(H)}}catch(Wr){V.e(Wr)}finally{V.f()}a=U,s=U.length}}A=pr=N===s}if(!A){var W={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[W]:a.push(W),s++}var G=s,K=!0,Y=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.binding){var X={};null===a?a=[X]:a.push(X),s++}else if(void 0!==t.binding){var Q=t.binding;if(Q&&"object"==typeof Q&&!Array.isArray(Q))if(void 0===Q.type){var J={};null===a?a=[J]:a.push(J),s++}else if(void 0!==Q.type){var Z=Q.type;if("camunda:property"!==Z&&"camunda:outputParameter"!==Z&&"camunda:in"!==Z&&"camunda:in:businessKey"!==Z&&"camunda:out"!==Z&&"camunda:errorEventDefinition"!==Z){var ee={};null===a?a=[ee]:a.push(ee),s++}}}if(cr=Y===s,s=G,null!==a&&(G?a.length=G:a=null),cr){var te=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.type){var ne=t.type;if("String"!==ne&&"Hidden"!==ne&&"Dropdown"!==ne){var re={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/enum",params:{allowedValues:c.allOf[1].items.allOf[2].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[re]:a.push(re),s++}if(s>0){var ie,oe=[],ae=Object(r.a)(a);try{for(ae.s();!(ie=ae.n()).done;){var se=ie.value;"errorMessage"===se.keyword||se.emUsed||se.dataPath!==i+"/properties/"+e+"/type"&&(0!==se.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==se.dataPath[i+"/properties/"+e+"/type".length])||0!==se.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/2/then/properties/type")||"/"!==se.schemaPath["#/definitions/properties/allOf/1/items/allOf/2/then/properties/type".length]||(oe.push(se),se.emUsed=!0)}}catch(Wr){ae.e(Wr)}finally{ae.f()}if(oe.length){var pe={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/errorMessage",params:{errors:oe},message:"invalid property type "+JSON.stringify(ne)+" for binding type "+JSON.stringify(t&&t.binding&&t.binding.type)+"; must be any of { String, Hidden, Dropdown }"};null===a?a=[pe]:a.push(pe),s++}var ce,le=[],ue=Object(r.a)(a);try{for(ue.s();!(ce=ue.n()).done;){var de=ce.value;de.emUsed||le.push(de)}}catch(Wr){ue.e(Wr)}finally{ue.f()}a=le,s=le.length}}K=cr=te===s}if(!K){var fe={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[fe]:a.push(fe),s++}var he=s,me=!0,ye=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.binding){var ve={};null===a?a=[ve]:a.push(ve),s++}else if(void 0!==t.binding){var ge=t.binding;if(ge&&"object"==typeof ge&&!Array.isArray(ge))if(void 0===ge.type){var be={};null===a?a=[be]:a.push(be),s++}else if(void 0!==ge.type){var xe=ge.type;if("camunda:inputParameter"!==xe&&"camunda:field"!==xe){var we={};null===a?a=[we]:a.push(we),s++}}}if(lr=ye===s,s=he,null!==a&&(he?a.length=he:a=null),lr){var Ee=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.type){var Oe=t.type;if("String"!==Oe&&"Text"!==Oe&&"Hidden"!==Oe&&"Dropdown"!==Oe){var _e={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/enum",params:{allowedValues:c.allOf[1].items.allOf[3].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[_e]:a.push(_e),s++}if(s>0){var Pe,je=[],Se=Object(r.a)(a);try{for(Se.s();!(Pe=Se.n()).done;){var ke=Pe.value;"errorMessage"===ke.keyword||ke.emUsed||ke.dataPath!==i+"/properties/"+e+"/type"&&(0!==ke.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==ke.dataPath[i+"/properties/"+e+"/type".length])||0!==ke.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/3/then/properties/type")||"/"!==ke.schemaPath["#/definitions/properties/allOf/1/items/allOf/3/then/properties/type".length]||(je.push(ke),ke.emUsed=!0)}}catch(Wr){Se.e(Wr)}finally{Se.f()}if(je.length){var Ae={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/errorMessage",params:{errors:je},message:"invalid property type "+JSON.stringify(Oe)+" for binding type "+JSON.stringify(t&&t.binding&&t.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===a?a=[Ae]:a.push(Ae),s++}var Ce,Te=[],Re=Object(r.a)(a);try{for(Re.s();!(Ce=Re.n()).done;){var Me=Ce.value;Me.emUsed||Te.push(Me)}}catch(Wr){Re.e(Wr)}finally{Re.f()}a=Te,s=Te.length}}me=lr=Ee===s}if(!me){var De={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[De]:a.push(De),s++}if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.binding){var Ne={keyword:"required",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/required",params:{missingProperty:"binding"},message:"should have required property 'binding'"};null===a?a=[Ne]:a.push(Ne),s++}if(void 0!==t.binding){var Be=t.binding,Le=s,Ie=!0,ze=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be))if(void 0===Be.type){var $e={};null===a?a=[$e]:a.push($e),s++}else if(void 0!==Be.type){var Fe=Be.type;if("property"!==Fe&&"camunda:property"!==Fe&&"camunda:inputParameter"!==Fe&&"camunda:field"!==Fe){var qe={};null===a?a=[qe]:a.push(qe),s++}}if(ur=ze===s,s=Le,null!==a&&(Le?a.length=Le:a=null),ur){var Ue=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.name){var Ve={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[Ve]:a.push(Ve),s++}if(s>0){var He,We=[],Ge=Object(r.a)(a);try{for(Ge.s();!(He=Ge.n()).done;){var Ke=He.value;"errorMessage"===Ke.keyword||Ke.emUsed||Ke.dataPath!==i+"/properties/"+e+"/binding"&&(0!==Ke.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==Ke.dataPath[i+"/properties/"+e+"/binding".length])||0!==Ke.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then")||"/"!==Ke.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then".length]||(We.push(Ke),Ke.emUsed=!0)}}catch(Wr){Ge.e(Wr)}finally{Ge.f()}if(We.length){var Ye={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/errorMessage",params:{errors:We},message:"property.binding "+JSON.stringify(Be&&Be.type)+" requires name"};null===a?a=[Ye]:a.push(Ye),s++}var Xe,Qe=[],Je=Object(r.a)(a);try{for(Je.s();!(Xe=Je.n()).done;){var Ze=Xe.value;Ze.emUsed||Qe.push(Ze)}}catch(Wr){Je.e(Wr)}finally{Je.f()}a=Qe,s=Qe.length}Ie=ur=Ue===s}if(!Ie){var et={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[et]:a.push(et),s++}var tt=s,nt=!0,rt=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be))if(void 0===Be.type){var ot={};null===a?a=[ot]:a.push(ot),s++}else if(void 0!==Be.type&&!o(Be.type,"camunda:outputParameter")){var at={};null===a?a=[at]:a.push(at),s++}if(dr=rt===s,s=tt,null!==a&&(tt?a.length=tt:a=null),dr){var st=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.source){var pt={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[pt]:a.push(pt),s++}if(s>0){var ct,lt=[],ut=Object(r.a)(a);try{for(ut.s();!(ct=ut.n()).done;){var dt=ct.value;"errorMessage"===dt.keyword||dt.emUsed||dt.dataPath!==i+"/properties/"+e+"/binding"&&(0!==dt.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==dt.dataPath[i+"/properties/"+e+"/binding".length])||0!==dt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then")||"/"!==dt.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then".length]||(lt.push(dt),dt.emUsed=!0)}}catch(Wr){ut.e(Wr)}finally{ut.f()}if(lt.length){var ft={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/errorMessage",params:{errors:lt},message:"property.binding "+JSON.stringify(Be&&Be.type)+" requires source"};null===a?a=[ft]:a.push(ft),s++}var ht,mt=[],yt=Object(r.a)(a);try{for(yt.s();!(ht=yt.n()).done;){var vt=ht.value;vt.emUsed||mt.push(vt)}}catch(Wr){yt.e(Wr)}finally{yt.f()}a=mt,s=mt.length}nt=dr=st===s}if(!nt){var gt={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[gt]:a.push(gt),s++}var bt=s,xt=!0,wt=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be))if(void 0===Be.type){var Et={};null===a?a=[Et]:a.push(Et),s++}else if(void 0!==Be.type&&!o(Be.type,"camunda:in")){var Ot={};null===a?a=[Ot]:a.push(Ot),s++}if(hr=wt===s,s=bt,null!==a&&(bt?a.length=bt:a=null),hr){var _t=s,Pt=s,jt=!1,St=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.variables){var kt={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/0/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[kt]:a.push(kt),s++}if(fr=St===s,!(jt=jt||fr)){var At=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.target){var Ct={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/1/required",params:{missingProperty:"target"},message:"should have required property 'target'"};null===a?a=[Ct]:a.push(Ct),s++}fr=At===s,jt=jt||fr}if(jt)s=Pt,null!==a&&(Pt?a.length=Pt:a=null);else{var Tt={keyword:"anyOf",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf",params:{},message:"should match some schema in anyOf"};null===a?a=[Tt]:a.push(Tt),s++}if(s>0){var Rt,Mt=[],Dt=Object(r.a)(a);try{for(Dt.s();!(Rt=Dt.n()).done;){var Nt=Rt.value;"errorMessage"===Nt.keyword||Nt.emUsed||Nt.dataPath!==i+"/properties/"+e+"/binding"&&(0!==Nt.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==Nt.dataPath[i+"/properties/"+e+"/binding".length])||0!==Nt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then")||"/"!==Nt.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then".length]||(Mt.push(Nt),Nt.emUsed=!0)}}catch(Wr){Dt.e(Wr)}finally{Dt.f()}if(Mt.length){var Bt={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/errorMessage",params:{errors:Mt},message:"property.binding "+JSON.stringify(Be&&Be.type)+" requires variables, target, or both"};null===a?a=[Bt]:a.push(Bt),s++}var Lt,It=[],zt=Object(r.a)(a);try{for(zt.s();!(Lt=zt.n()).done;){var $t=Lt.value;$t.emUsed||It.push($t)}}catch(Wr){zt.e(Wr)}finally{zt.f()}a=It,s=It.length}xt=hr=_t===s}if(!xt){var Ft={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[Ft]:a.push(Ft),s++}var qt=s,Ut=!0,Vt=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be))if(void 0===Be.type){var Ht={};null===a?a=[Ht]:a.push(Ht),s++}else if(void 0!==Be.type&&!o(Be.type,"camunda:out")){var Wt={};null===a?a=[Wt]:a.push(Wt),s++}if(br=Vt===s,s=qt,null!==a&&(qt?a.length=qt:a=null),br){var Gt=s,Kt=s,Yt=!1,Xt=null,Qt=s,Jt=s,Zt=s,en=s,tn=!1,nn=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.source){var rn={};null===a?a=[rn]:a.push(rn),s++}if(mr=nn===s,!(tn=tn||mr)){var on=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.sourceExpression){var an={};null===a?a=[an]:a.push(an),s++}mr=on===s,tn=tn||mr}if(tn)s=en,null!==a&&(en?a.length=en:a=null);else{var sn={};null===a?a=[sn]:a.push(sn),s++}if(Zt===s){var pn={keyword:"not",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/not",params:{},message:"should NOT be valid"};null===a?a=[pn]:a.push(pn),s++}else s=Jt,null!==a&&(Jt?a.length=Jt:a=null);if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.variables){var cn={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[cn]:a.push(cn),s++}(gr=Qt===s)&&(Yt=!0,Xt=0);var ln=s,un=s,dn=s,fn=s,hn=!1,mn=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.variables){var yn={};null===a?a=[yn]:a.push(yn),s++}if(yr=mn===s,!(hn=hn||yr)){var vn=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.sourceExpression){var gn={};null===a?a=[gn]:a.push(gn),s++}yr=vn===s,hn=hn||yr}if(hn)s=fn,null!==a&&(fn?a.length=fn:a=null);else{var bn={};null===a?a=[bn]:a.push(bn),s++}if(dn===s){var xn={keyword:"not",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/not",params:{},message:"should NOT be valid"};null===a?a=[xn]:a.push(xn),s++}else s=un,null!==a&&(un?a.length=un:a=null);if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.source){var wn={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[wn]:a.push(wn),s++}if((gr=ln===s)&&Yt)Yt=!1,Xt=[Xt,1];else{gr&&(Yt=!0,Xt=1);var En=s,On=s,_n=s,Pn=s,jn=!1,Sn=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.variables){var kn={};null===a?a=[kn]:a.push(kn),s++}if(vr=Sn===s,!(jn=jn||vr)){var An=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.source){var Cn={};null===a?a=[Cn]:a.push(Cn),s++}vr=An===s,jn=jn||vr}if(jn)s=Pn,null!==a&&(Pn?a.length=Pn:a=null);else{var Tn={};null===a?a=[Tn]:a.push(Tn),s++}if(_n===s){var Rn={keyword:"not",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/not",params:{},message:"should NOT be valid"};null===a?a=[Rn]:a.push(Rn),s++}else s=On,null!==a&&(On?a.length=On:a=null);if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.sourceExpression){var Mn={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/required",params:{missingProperty:"sourceExpression"},message:"should have required property 'sourceExpression'"};null===a?a=[Mn]:a.push(Mn),s++}if((gr=En===s)&&Yt)Yt=!1,Xt=[Xt,2];else{gr&&(Yt=!0,Xt=2);var Dn=s,Nn=s,Bn=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.source){var Ln={};null===a?a=[Ln]:a.push(Ln),s++}if(Bn===s){var In={keyword:"not",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/not",params:{},message:"should NOT be valid"};null===a?a=[In]:a.push(In),s++}else s=Nn,null!==a&&(Nn?a.length=Nn:a=null);if(Be&&"object"==typeof Be&&!Array.isArray(Be)){if(void 0===Be.variables){var zn={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[zn]:a.push(zn),s++}if(void 0===Be.sourceExpression){var $n={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",params:{missingProperty:"sourceExpression"},message:"should have required property 'sourceExpression'"};null===a?a=[$n]:a.push($n),s++}}if((gr=Dn===s)&&Yt)Yt=!1,Xt=[Xt,3];else{gr&&(Yt=!0,Xt=3);var Fn=s,qn=s,Un=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.sourceExpression){var Vn={};null===a?a=[Vn]:a.push(Vn),s++}if(Un===s){var Hn={keyword:"not",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/not",params:{},message:"should NOT be valid"};null===a?a=[Hn]:a.push(Hn),s++}else s=qn,null!==a&&(qn?a.length=qn:a=null);if(Be&&"object"==typeof Be&&!Array.isArray(Be)){if(void 0===Be.variables){var Wn={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[Wn]:a.push(Wn),s++}if(void 0===Be.source){var Gn={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[Gn]:a.push(Gn),s++}}(gr=Fn===s)&&Yt?(Yt=!1,Xt=[Xt,4]):gr&&(Yt=!0,Xt=4)}}}if(Yt)s=Kt,null!==a&&(Kt?a.length=Kt:a=null);else{var Kn={keyword:"oneOf",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf",params:{passingSchemas:Xt},message:"should match exactly one schema in oneOf"};null===a?a=[Kn]:a.push(Kn),s++}if(s>0){var Yn,Xn=[],Qn=Object(r.a)(a);try{for(Qn.s();!(Yn=Qn.n()).done;){var Jn=Yn.value;"errorMessage"===Jn.keyword||Jn.emUsed||Jn.dataPath!==i+"/properties/"+e+"/binding"&&(0!==Jn.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==Jn.dataPath[i+"/properties/"+e+"/binding".length])||0!==Jn.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then")||"/"!==Jn.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then".length]||(Xn.push(Jn),Jn.emUsed=!0)}}catch(Wr){Qn.e(Wr)}finally{Qn.f()}if(Xn.length){var Zn={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/errorMessage",params:{errors:Xn},message:"property.binding "+JSON.stringify(Be&&Be.type)+" requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"};null===a?a=[Zn]:a.push(Zn),s++}var er,tr=[],nr=Object(r.a)(a);try{for(nr.s();!(er=nr.n()).done;){var rr=er.value;rr.emUsed||tr.push(rr)}}catch(Wr){nr.e(Wr)}finally{nr.f()}a=tr,s=tr.length}Ut=br=Gt===s}if(!Ut){var ir={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[ir]:a.push(ir),s++}var or=s,ar=!0,wr=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be))if(void 0===Be.type){var Er={};null===a?a=[Er]:a.push(Er),s++}else if(void 0!==Be.type&&!o(Be.type,"camunda:errorEventDefinition")){var Or={};null===a?a=[Or]:a.push(Or),s++}if(xr=wr===s,s=or,null!==a&&(or?a.length=or:a=null),xr){var _r=s,Pr=s,jr=!1,Sr=null,kr=s;if(Be&&"object"==typeof Be&&!Array.isArray(Be)&&void 0===Be.errorRef){var Ar={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf/0/required",params:{missingProperty:"errorRef"},message:"should have required property 'errorRef'"};null===a?a=[Ar]:a.push(Ar),s++}if(kr===s&&(jr=!0,Sr=0),jr)s=Pr,null!==a&&(Pr?a.length=Pr:a=null);else{var Cr={keyword:"oneOf",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf",params:{passingSchemas:Sr},message:"should match exactly one schema in oneOf"};null===a?a=[Cr]:a.push(Cr),s++}if(s>0){var Tr,Rr=[],Mr=Object(r.a)(a);try{for(Mr.s();!(Tr=Mr.n()).done;){var Dr=Tr.value;"errorMessage"===Dr.keyword||Dr.emUsed||Dr.dataPath!==i+"/properties/"+e+"/binding"&&(0!==Dr.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==Dr.dataPath[i+"/properties/"+e+"/binding".length])||0!==Dr.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then")||"/"!==Dr.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then".length]||(Rr.push(Dr),Dr.emUsed=!0)}}catch(Wr){Mr.e(Wr)}finally{Mr.f()}if(Rr.length){var Nr={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/errorMessage",params:{errors:Rr},message:"property.binding "+JSON.stringify(Be&&Be.type)+" requires errorRef"};null===a?a=[Nr]:a.push(Nr),s++}var Br,Lr=[],Ir=Object(r.a)(a);try{for(Ir.s();!(Br=Ir.n()).done;){var zr=Br.value;zr.emUsed||Lr.push(zr)}}catch(Wr){Ir.e(Wr)}finally{Ir.f()}a=Lr,s=Lr.length}ar=xr=_r===s}if(!ar){var $r={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[$r]:a.push($r),s++}if(Be&&"object"==typeof Be&&!Array.isArray(Be)){if(void 0===Be.type){var Fr={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/required",params:{missingProperty:"type"},message:"should have required property 'type'"};null===a?a=[Fr]:a.push(Fr),s++}if(void 0!==Be.type){var qr=Be.type;if("string"!==typeof qr){var Ur={keyword:"type",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[Ur]:a.push(Ur),s++}if("property"!==qr&&"camunda:property"!==qr&&"camunda:inputParameter"!==qr&&"camunda:outputParameter"!==qr&&"camunda:in"!==qr&&"camunda:out"!==qr&&"camunda:in:businessKey"!==qr&&"camunda:executionListener"!==qr&&"camunda:field"!==qr&&"camunda:errorEventDefinition"!==qr){var Vr={keyword:"enum",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/enum",params:{allowedValues:c.allOf[1].items.properties.binding.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[Vr]:a.push(Vr),s++}if(s>0){var Hr,Gr=[],Kr=Object(r.a)(a);try{for(Kr.s();!(Hr=Kr.n()).done;){var Yr=Hr.value;"errorMessage"===Yr.keyword||Yr.emUsed||Yr.dataPath!==i+"/properties/"+e+"/binding/type"&&(0!==Yr.dataPath.indexOf(i+"/properties/"+e+"/binding/type")||"/"!==Yr.dataPath[i+"/properties/"+e+"/binding/type".length])||0!==Yr.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/properties/type")||"/"!==Yr.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/properties/type".length]||(Gr.push(Yr),Yr.emUsed=!0)}}catch(Wr){Kr.e(Wr)}finally{Kr.f()}if(Gr.length){var Xr={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/errorMessage",params:{errors:Gr},message:"invalid property.binding type "+JSON.stringify(qr)+"; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"};null===a?a=[Xr]:a.push(Xr),s++}var Qr,Jr=[],Zr=Object(r.a)(a);try{for(Zr.s();!(Qr=Zr.n()).done;){var ei=Qr.value;ei.emUsed||Jr.push(ei)}}catch(Wr){Zr.e(Wr)}finally{Zr.f()}a=Jr,s=Jr.length}}if(void 0!==Be.name&&"string"!==typeof Be.name){var ti={keyword:"type",dataPath:i+"/properties/"+e+"/binding/name",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[ti]:a.push(ti),s++}if(void 0!==Be.event&&"string"!==typeof Be.event){var ni={keyword:"type",dataPath:i+"/properties/"+e+"/binding/event",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/event/type",params:{type:"string"},message:"should be string"};null===a?a=[ni]:a.push(ni),s++}if(void 0!==Be.scriptFormat&&"string"!==typeof Be.scriptFormat){var ri={keyword:"type",dataPath:i+"/properties/"+e+"/binding/scriptFormat",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/scriptFormat/type",params:{type:"string"},message:"should be string"};null===a?a=[ri]:a.push(ri),s++}if(void 0!==Be.source&&"string"!==typeof Be.source){var ii={keyword:"type",dataPath:i+"/properties/"+e+"/binding/source",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/source/type",params:{type:"string"},message:"should be string"};null===a?a=[ii]:a.push(ii),s++}if(void 0!==Be.target&&"string"!==typeof Be.target){var oi={keyword:"type",dataPath:i+"/properties/"+e+"/binding/target",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/target/type",params:{type:"string"},message:"should be string"};null===a?a=[oi]:a.push(oi),s++}if(void 0!==Be.expression&&"boolean"!==typeof Be.expression){var ai={keyword:"type",dataPath:i+"/properties/"+e+"/binding/expression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/expression/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[ai]:a.push(ai),s++}if(void 0!==Be.variables){var si=Be.variables;if("string"!==typeof si){var pi={keyword:"type",dataPath:i+"/properties/"+e+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/type",params:{type:"string"},message:"should be string"};null===a?a=[pi]:a.push(pi),s++}if("all"!==si&&"local"!==si){var ci={keyword:"enum",dataPath:i+"/properties/"+e+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/enum",params:{allowedValues:c.allOf[1].items.properties.binding.properties.variables.enum},message:"should be equal to one of the allowed values"};null===a?a=[ci]:a.push(ci),s++}}if(void 0!==Be.sourceExpression&&"string"!==typeof Be.sourceExpression){var li={keyword:"type",dataPath:i+"/properties/"+e+"/binding/sourceExpression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/sourceExpression/type",params:{type:"string"},message:"should be string"};null===a?a=[li]:a.push(li),s++}}else{var ui={keyword:"type",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/type",params:{type:"object"},message:"should be object"};null===a?a=[ui]:a.push(ui),s++}}}else{var di={keyword:"type",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/type",params:{type:"object"},message:"should be object"};null===a?a=[di]:a.push(di),s++}if(s>0){var fi,hi={required:[]},mi={required:function(){return'missing binding for property "'+JSON.stringify(e)+'"'}},yi=Object(r.a)(a);try{for(yi.s();!(fi=yi.n()).done;){var vi=fi.value;"errorMessage"!==vi.keyword&&!vi.emUsed&&vi.dataPath===i+"/properties/"+e&&vi.keyword in hi&&0===vi.schemaPath.indexOf("#/definitions/properties/allOf/1/items")&&/^\/[^\/]*$/.test(vi.schemaPath.slice(38))&&(hi[vi.keyword].push(vi),vi.emUsed=!0)}}catch(Wr){yi.e(Wr)}finally{yi.f()}for(var gi in hi)if(hi[gi].length){var bi={keyword:"errorMessage",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/errorMessage",params:{errors:hi[gi]},message:gi in mi?mi[gi]():c.allOf[1].items.errorMessage[gi]};null===a?a=[bi]:a.push(bi),s++}var xi,wi=[],Ei=Object(r.a)(a);try{for(Ei.s();!(xi=Ei.n()).done;){var Oi=xi.value;Oi.emUsed||wi.push(Oi)}}catch(Wr){Ei.e(Wr)}finally{Ei.f()}a=wi,s=wi.length}},ar=0;ar<ir;ar++){var sr,pr,cr,lr,ur,dr,fr,hr,mr,yr,vr,gr,br,xr;or(ar)}else{var wr={keyword:"type",dataPath:i+"/properties",schemaPath:"#/definitions/properties/allOf/1/type",params:{type:"array"},message:"should be array"};null===a?a=[wr]:a.push(wr),s++}}if(void 0!==e.scopes){var Er=e.scopes;if(Array.isArray(Er))for(var Or=Er.length,_r=function(e){var t=Er[e],n=s,c=!0,d=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.type){var f={};null===a?a=[f]:a.push(f),s++}else if(void 0!==t.type&&"bpmn:Error"!==t.type){var m={};null===a?a=[m]:a.push(m),s++}if(jr=d===s,s=n,null!==a&&(n?a.length=n:a=null),jr){var y=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0===t.id){var v={keyword:"required",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/allOf/0/then/required",params:{missingProperty:"id"},message:"should have required property 'id'"};null===a?a=[v]:a.push(v),s++}if(s>0){var g,b=[],x=Object(r.a)(a);try{for(x.s();!(g=x.n()).done;){var w=g.value;"errorMessage"===w.keyword||w.emUsed||w.dataPath!==i+"/scopes/"+e&&(0!==w.dataPath.indexOf(i+"/scopes/"+e)||"/"!==w.dataPath[i+"/scopes/"+e.length])||0!==w.schemaPath.indexOf("#/properties/scopes/items/allOf/0/then")||"/"!==w.schemaPath["#/properties/scopes/items/allOf/0/then".length]||(b.push(w),w.emUsed=!0)}}catch(Wr){x.e(Wr)}finally{x.f()}if(b.length){var E={keyword:"errorMessage",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/allOf/0/then/errorMessage",params:{errors:b},message:"invalid scope "+JSON.stringify(t&&t.type)+", missing id"};null===a?a=[E]:a.push(E),s++}var O,_=[],P=Object(r.a)(a);try{for(P.s();!(O=P.n()).done;){var j=O.value;j.emUsed||_.push(j)}}catch(Wr){P.e(Wr)}finally{P.f()}a=_,s=_.length}c=jr=y===s}if(!c){var S={keyword:"if",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[S]:a.push(S),s++}if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.type){var k={keyword:"required",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/required",params:{missingProperty:"type"},message:"should have required property 'type'"};null===a?a=[k]:a.push(k),s++}if(void 0===t.properties){var A={keyword:"required",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/required",params:{missingProperty:"properties"},message:"should have required property 'properties'"};null===a?a=[A]:a.push(A),s++}if(void 0!==t.type){var C=t.type;if("string"!==typeof C){var T={keyword:"type",dataPath:i+"/scopes/"+e+"/type",schemaPath:"#/properties/scopes/items/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[T]:a.push(T),s++}if("camunda:Connector"!==C&&"bpmn:Error"!==C){var R={keyword:"enum",dataPath:i+"/scopes/"+e+"/type",schemaPath:"#/properties/scopes/items/properties/type/enum",params:{allowedValues:p.properties.scopes.items.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[R]:a.push(R),s++}if(s>0){var M,D=[],N=Object(r.a)(a);try{for(N.s();!(M=N.n()).done;){var B=M.value;"errorMessage"===B.keyword||B.emUsed||B.dataPath!==i+"/scopes/"+e+"/type"&&(0!==B.dataPath.indexOf(i+"/scopes/"+e+"/type")||"/"!==B.dataPath[i+"/scopes/"+e+"/type".length])||0!==B.schemaPath.indexOf("#/properties/scopes/items/properties/type")||"/"!==B.schemaPath["#/properties/scopes/items/properties/type".length]||(D.push(B),B.emUsed=!0)}}catch(Wr){N.e(Wr)}finally{N.f()}if(D.length){var L={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/type",schemaPath:"#/properties/scopes/items/properties/type/errorMessage",params:{errors:D},message:"invalid scope type "+JSON.stringify(C)+"; must be any of { camunda:Connector, bpmn:Error }"};null===a?a=[L]:a.push(L),s++}var I,z=[],$=Object(r.a)(a);try{for($.s();!(I=$.n()).done;){var F=I.value;F.emUsed||z.push(F)}}catch(Wr){$.e(Wr)}finally{$.f()}a=z,s=z.length}}if(void 0!==t.properties){var q=t.properties;if(Array.isArray(q))for(var U=q.length,V=0;V<U;V++){var H=q[V],W=s,G=!0,K=s;if(H&&"object"==typeof H&&!Array.isArray(H))if(void 0===H.type){var Y={};null===a?a=[Y]:a.push(Y),s++}else if(void 0!==H.type&&!o(H.type,"Dropdown")){var X={};null===a?a=[X]:a.push(X),s++}if(Sr=K===s,s=W,null!==a&&(W?a.length=W:a=null),Sr){var Q=s;if(H&&"object"==typeof H&&!Array.isArray(H)&&void 0===H.choices){var J={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+V,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/then/required",params:{missingProperty:"choices"},message:"should have required property 'choices'"};null===a?a=[J]:a.push(J),s++}if(s>0){var Z,ee=[],te=Object(r.a)(a);try{for(te.s();!(Z=te.n()).done;){var ne=Z.value;"errorMessage"===ne.keyword||ne.emUsed||ne.dataPath!==i+"/scopes/"+e+"/properties/"+V&&(0!==ne.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+V)||"/"!==ne.dataPath[i+"/scopes/"+e+"/properties/"+V.length])||0!==ne.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/0/then")||"/"!==ne.schemaPath["#/definitions/properties/allOf/0/items/allOf/0/then".length]||(ee.push(ne),ne.emUsed=!0)}}catch(Wr){te.e(Wr)}finally{te.f()}if(ee.length){var re={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+V,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/then/errorMessage",params:{errors:ee},message:'must provide choices=[] with "Dropdown" type'};null===a?a=[re]:a.push(re),s++}var ie,oe=[],ae=Object(r.a)(a);try{for(ae.s();!(ie=ae.n()).done;){var se=ie.value;se.emUsed||oe.push(se)}}catch(Wr){ae.e(Wr)}finally{ae.f()}a=oe,s=oe.length}G=Sr=Q===s}if(!G){var pe={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+V,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[pe]:a.push(pe),s++}if(H&&"object"==typeof H&&!Array.isArray(H)){if(void 0!==H.id&&"string"!==typeof H.id){var ce={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/id",schemaPath:"#/definitions/properties/allOf/0/items/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[ce]:a.push(ce),s++}if(void 0!==H.value){var le=H.value;if("string"!==typeof le&&"boolean"!==typeof le){var ue={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/value/type",params:{type:l.items.properties.value.type},message:"should be string,boolean"};null===a?a=[ue]:a.push(ue),s++}}if(void 0!==H.description&&"string"!==typeof H.description){var de={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/description",schemaPath:"#/definitions/properties/allOf/0/items/properties/description/type",params:{type:"string"},message:"should be string"};null===a?a=[de]:a.push(de),s++}if(void 0!==H.label&&"string"!==typeof H.label){var fe={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/label",schemaPath:"#/definitions/properties/allOf/0/items/properties/label/type",params:{type:"string"},message:"should be string"};null===a?a=[fe]:a.push(fe),s++}if(void 0!==H.type&&"string"!==typeof H.type){var he={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/type",schemaPath:"#/definitions/properties/allOf/0/items/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[he]:a.push(he),s++}if(void 0!==H.editable&&"boolean"!==typeof H.editable){var me={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/editable",schemaPath:"#/definitions/properties/allOf/0/items/properties/editable/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[me]:a.push(me),s++}if(void 0!==H.choices){var ye=H.choices;if(Array.isArray(ye))for(var ve=ye.length,ge=0;ge<ve;ge++){var be=ye[ge];if(be&&"object"==typeof be&&!Array.isArray(be)){if(void 0===be.value){var xe={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/required",params:{missingProperty:"value"},message:"should have required property 'value'"};null===a?a=[xe]:a.push(xe),s++}if(void 0===be.name){var we={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[we]:a.push(we),s++}if(void 0!==be.name&&"string"!==typeof be.name){var Ee={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge+"/name",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[Ee]:a.push(Ee),s++}if(void 0!==be.value&&"string"!==typeof be.value){var Oe={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge+"/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[Oe]:a.push(Oe),s++}}else{var _e={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/type",params:{type:"object"},message:"should be object"};null===a?a=[_e]:a.push(_e),s++}if(s>0){var Pe,je={required:[]},Se={},ke=Object(r.a)(a);try{for(ke.s();!(Pe=ke.n()).done;){var Ae=Pe.value;"errorMessage"!==Ae.keyword&&!Ae.emUsed&&Ae.dataPath===i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge&&Ae.keyword in je&&0===Ae.schemaPath.indexOf("#/definitions/properties/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(Ae.schemaPath.slice(63))&&(je[Ae.keyword].push(Ae),Ae.emUsed=!0)}}catch(Wr){ke.e(Wr)}finally{ke.f()}for(var Ce in je)if(je[Ce].length){var Te={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices/"+ge,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/errorMessage",params:{errors:je[Ce]},message:Ce in Se?Se[Ce]():l.items.properties.choices.items.errorMessage[Ce]};null===a?a=[Te]:a.push(Te),s++}var Re,Me=[],De=Object(r.a)(a);try{for(De.s();!(Re=De.n()).done;){var Ne=Re.value;Ne.emUsed||Me.push(Ne)}}catch(Wr){De.e(Wr)}finally{De.f()}a=Me,s=Me.length}}else{var Be={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/choices",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/type",params:{type:"array"},message:"should be array"};null===a?a=[Be]:a.push(Be),s++}}if(void 0!==H.constraints){var Le=H.constraints;if(Le&&"object"==typeof Le&&!Array.isArray(Le)){if(void 0!==Le.notEmpty&&"boolean"!==typeof Le.notEmpty){var Ie={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/notEmpty",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/notEmpty/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[Ie]:a.push(Ie),s++}if(void 0!==Le.minLength&&"number"!=typeof Le.minLength){var ze={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/minLength",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/minLength/type",params:{type:"number"},message:"should be number"};null===a?a=[ze]:a.push(ze),s++}if(void 0!==Le.maxLength&&"number"!=typeof Le.maxLength){var $e={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/maxLength",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/maxLength/type",params:{type:"number"},message:"should be number"};null===a?a=[$e]:a.push($e),s++}if(void 0!==Le.pattern){var Fe=Le.pattern,qe=s,Ue=!1,Ve=null,He=s;if(Fe&&"object"==typeof Fe&&!Array.isArray(Fe)){if(void 0!==Fe.value&&"string"!==typeof Fe.value){var We={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/pattern/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[We]:a.push(We),s++}if(void 0!==Fe.message&&"string"!==typeof Fe.message){var Ge={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/pattern/message",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",params:{type:"string"},message:"should be string"};null===a?a=[Ge]:a.push(Ge),s++}}else{var Ke={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",params:{type:"object"},message:"should be object"};null===a?a=[Ke]:a.push(Ke),s++}(kr=He===s)&&(Ue=!0,Ve=0);var Ye=s;if("string"!==typeof Fe){var Xe={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",params:{type:"string"},message:"should be string"};null===a?a=[Xe]:a.push(Xe),s++}if((kr=Ye===s)&&Ue?(Ue=!1,Ve=[Ve,1]):kr&&(Ue=!0,Ve=1),Ue)s=qe,null!==a&&(qe?a.length=qe:a=null);else{var Qe={keyword:"oneOf",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf",params:{passingSchemas:Ve},message:"should match exactly one schema in oneOf"};null===a?a=[Qe]:a.push(Qe),s++}}}else{var Je={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/constraints",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/type",params:{type:"object"},message:"should be object"};null===a?a=[Je]:a.push(Je),s++}}if(void 0!==H.group&&"string"!==typeof H.group){var Ze={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/group",schemaPath:"#/definitions/properties/allOf/0/items/properties/group/type",params:{type:"string"},message:"should be string"};null===a?a=[Ze]:a.push(Ze),s++}if(void 0!==H.condition){var et=H.condition,tt=s,nt=!1,rt=null,it=s;if(et&&"object"==typeof et&&!Array.isArray(et)){if(void 0===et.equals){var ot={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/0/required",params:{missingProperty:"equals"},message:"should have required property 'equals'"};null===a?a=[ot]:a.push(ot),s++}if(void 0!==et.equals){var at=et.equals;if("string"!==typeof at&&"number"!=typeof at&&"boolean"!==typeof at){var st={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/0/properties/equals/type",params:{type:l.items.properties.condition.oneOf[0].properties.equals.type},message:"should be string,number,boolean"};null===a?a=[st]:a.push(st),s++}}}(Ar=it===s)&&(nt=!0,rt=0);var pt=s;if(et&&"object"==typeof et&&!Array.isArray(et)){if(void 0===et.oneOf){var ct={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/required",params:{missingProperty:"oneOf"},message:"should have required property 'oneOf'"};null===a?a=[ct]:a.push(ct),s++}if(void 0!==et.oneOf){var lt=et.oneOf;if(Array.isArray(lt))for(var ut=lt.length,dt=0;dt<ut;dt++){var ft=lt[dt];if("string"!==typeof ft&&"number"!=typeof ft){var ht={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition/oneOf/"+dt,schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/properties/oneOf/items/type",params:{type:l.items.properties.condition.oneOf[1].properties.oneOf.items.type},message:"should be string,number"};null===a?a=[ht]:a.push(ht),s++}}else{var mt={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/properties/oneOf/type",params:{type:"array"},message:"should be array"};null===a?a=[mt]:a.push(mt),s++}}}if((Ar=pt===s)&&nt?(nt=!1,rt=[rt,1]):Ar&&(nt=!0,rt=1),nt)s=tt,null!==a&&(tt?a.length=tt:a=null);else{var yt={keyword:"oneOf",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf",params:{passingSchemas:rt},message:"should match exactly one schema in oneOf"};null===a?a=[yt]:a.push(yt),s++}if(et&&"object"==typeof et&&!Array.isArray(et)){if(void 0===et.property){var vt={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/required",params:{missingProperty:"property"},message:"should have required property 'property'"};null===a?a=[vt]:a.push(vt),s++}if(void 0!==et.type&&!o(et.type,"simple")){var gt={keyword:"const",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/properties/type/const",params:{allowedValue:"simple"},message:"should be equal to constant"};null===a?a=[gt]:a.push(gt),s++}if(void 0!==et.property&&"string"!==typeof et.property){var bt={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/properties/property/type",params:{type:"string"},message:"should be string"};null===a?a=[bt]:a.push(bt),s++}}else{var xt={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/type",params:{type:"object"},message:"should be object"};null===a?a=[xt]:a.push(xt),s++}if(s>0){var wt,Et={required:{property:[]}},Ot={required:{}},_t=void 0,Pt=void 0,jt=Object(r.a)(a);try{for(jt.s();!(wt=jt.n()).done;){var St=wt.value;"errorMessage"!==St.keyword&&!St.emUsed&&St.dataPath===i+"/scopes/"+e+"/properties/"+V+"/condition"&&St.keyword in Et&&0===St.schemaPath.indexOf("#/definitions/properties/allOf/0/items/properties/condition")&&/^\/[^\/]*$/.test(St.schemaPath.slice(59))&&(_t=h[St.keyword],(Pt=Et[St.keyword][St.params[_t]])&&(Pt.push(St),St.emUsed=!0))}}catch(Wr){jt.e(Wr)}finally{jt.f()}for(var kt in Et)for(var At in Et[kt])if((Pt=Et[kt][At]).length){var Ct=Ot[kt]&&Ot[kt][At],Tt={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+V+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/errorMessage",params:{errors:Pt},message:Ct?Ct():l.items.properties.condition.errorMessage[kt][At]};null===a?a=[Tt]:a.push(Tt),s++}var Rt,Mt=[],Dt=Object(r.a)(a);try{for(Dt.s();!(Rt=Dt.n()).done;){var Nt=Rt.value;Nt.emUsed||Mt.push(Nt)}}catch(Wr){Dt.e(Wr)}finally{Dt.f()}a=Mt,s=Mt.length}}}else{var Bt={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+V,schemaPath:"#/definitions/properties/allOf/0/items/type",params:{type:"object"},message:"should be object"};null===a?a=[Bt]:a.push(Bt),s++}}else{var Lt={keyword:"type",dataPath:i+"/scopes/"+e+"/properties",schemaPath:"#/definitions/properties/allOf/0/type",params:{type:"array"},message:"should be array"};null===a?a=[Lt]:a.push(Lt),s++}if(Array.isArray(q))for(var It=q.length,zt=function(t){var n=q[t],p=s,c=!0,l=s;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.binding){var d={};null===a?a=[d]:a.push(d),s++}else if(void 0!==n.binding){var f=n.binding;if(f&&"object"==typeof f&&!Array.isArray(f))if(void 0===f.type){var h={};null===a?a=[h]:a.push(h),s++}else if(void 0!==f.type&&!o(f.type,"property")){var m={};null===a?a=[m]:a.push(m),s++}}if(Cr=l===s,s=p,null!==a&&(p?a.length=p:a=null),Cr){var y=s;if(n&&"object"==typeof n&&!Array.isArray(n)&&void 0!==n.type){var v=n.type;if("String"!==v&&"Text"!==v&&"Hidden"!==v&&"Dropdown"!==v&&"Boolean"!==v){var g={keyword:"enum",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/enum",params:{allowedValues:u.items.allOf[0].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[g]:a.push(g),s++}if(s>0){var b,x=[],w=Object(r.a)(a);try{for(w.s();!(b=w.n()).done;){var E=b.value;"errorMessage"===E.keyword||E.emUsed||E.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/type"&&(0!==E.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/type")||"/"!==E.dataPath[i+"/scopes/"+e+"/properties/"+t+"/type".length])||0!==E.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/0/then/properties/type")||"/"!==E.schemaPath["#/definitions/properties/allOf/1/items/allOf/0/then/properties/type".length]||(x.push(E),E.emUsed=!0)}}catch(Wr){w.e(Wr)}finally{w.f()}if(x.length){var O={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/errorMessage",params:{errors:x},message:"invalid property type "+JSON.stringify(v)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===a?a=[O]:a.push(O),s++}var _,P=[],j=Object(r.a)(a);try{for(j.s();!(_=j.n()).done;){var S=_.value;S.emUsed||P.push(S)}}catch(Wr){j.e(Wr)}finally{j.f()}a=P,s=P.length}}c=Cr=y===s}if(!c){var k={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[k]:a.push(k),s++}var A=s,C=!0,T=s;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.binding){var R={};null===a?a=[R]:a.push(R),s++}else if(void 0!==n.binding){var M=n.binding;if(M&&"object"==typeof M&&!Array.isArray(M))if(void 0===M.type){var D={};null===a?a=[D]:a.push(D),s++}else if(void 0!==M.type&&!o(M.type,"camunda:executionListener")){var N={};null===a?a=[N]:a.push(N),s++}}if(Tr=T===s,s=A,null!==a&&(A?a.length=A:a=null),Tr){var B=s;if(n&&"object"==typeof n&&!Array.isArray(n)&&void 0!==n.type){if("Hidden"!==n.type){var L={keyword:"enum",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/enum",params:{allowedValues:u.items.allOf[1].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[L]:a.push(L),s++}if(s>0){var I,z=[],$=Object(r.a)(a);try{for($.s();!(I=$.n()).done;){var F=I.value;"errorMessage"===F.keyword||F.emUsed||F.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/type"&&(0!==F.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/type")||"/"!==F.dataPath[i+"/scopes/"+e+"/properties/"+t+"/type".length])||0!==F.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/1/then/properties/type")||"/"!==F.schemaPath["#/definitions/properties/allOf/1/items/allOf/1/then/properties/type".length]||(z.push(F),F.emUsed=!0)}}catch(Wr){$.e(Wr)}finally{$.f()}if(z.length){var U={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/errorMessage",params:{errors:z},message:"invalid property type "+JSON.stringify(n&&n.type)+' for binding type "camunda:executionListener"; must be "Hidden"'};null===a?a=[U]:a.push(U),s++}var V,H=[],W=Object(r.a)(a);try{for(W.s();!(V=W.n()).done;){var G=V.value;G.emUsed||H.push(G)}}catch(Wr){W.e(Wr)}finally{W.f()}a=H,s=H.length}}C=Tr=B===s}if(!C){var K={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[K]:a.push(K),s++}var Y=s,X=!0,Q=s;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.binding){var J={};null===a?a=[J]:a.push(J),s++}else if(void 0!==n.binding){var Z=n.binding;if(Z&&"object"==typeof Z&&!Array.isArray(Z))if(void 0===Z.type){var ee={};null===a?a=[ee]:a.push(ee),s++}else if(void 0!==Z.type){var te=Z.type;if("camunda:property"!==te&&"camunda:outputParameter"!==te&&"camunda:in"!==te&&"camunda:in:businessKey"!==te&&"camunda:out"!==te&&"camunda:errorEventDefinition"!==te){var ne={};null===a?a=[ne]:a.push(ne),s++}}}if(Rr=Q===s,s=Y,null!==a&&(Y?a.length=Y:a=null),Rr){var re=s;if(n&&"object"==typeof n&&!Array.isArray(n)&&void 0!==n.type){var ie=n.type;if("String"!==ie&&"Hidden"!==ie&&"Dropdown"!==ie){var oe={keyword:"enum",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/enum",params:{allowedValues:u.items.allOf[2].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[oe]:a.push(oe),s++}if(s>0){var ae,se=[],pe=Object(r.a)(a);try{for(pe.s();!(ae=pe.n()).done;){var ce=ae.value;"errorMessage"===ce.keyword||ce.emUsed||ce.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/type"&&(0!==ce.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/type")||"/"!==ce.dataPath[i+"/scopes/"+e+"/properties/"+t+"/type".length])||0!==ce.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/2/then/properties/type")||"/"!==ce.schemaPath["#/definitions/properties/allOf/1/items/allOf/2/then/properties/type".length]||(se.push(ce),ce.emUsed=!0)}}catch(Wr){pe.e(Wr)}finally{pe.f()}if(se.length){var le={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/type/errorMessage",params:{errors:se},message:"invalid property type "+JSON.stringify(ie)+" for binding type "+JSON.stringify(n&&n.binding&&n.binding.type)+"; must be any of { String, Hidden, Dropdown }"};null===a?a=[le]:a.push(le),s++}var ue,de=[],fe=Object(r.a)(a);try{for(fe.s();!(ue=fe.n()).done;){var he=ue.value;he.emUsed||de.push(he)}}catch(Wr){fe.e(Wr)}finally{fe.f()}a=de,s=de.length}}X=Rr=re===s}if(!X){var me={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[me]:a.push(me),s++}var ye=s,ve=!0,ge=s;if(n&&"object"==typeof n&&!Array.isArray(n))if(void 0===n.binding){var be={};null===a?a=[be]:a.push(be),s++}else if(void 0!==n.binding){var xe=n.binding;if(xe&&"object"==typeof xe&&!Array.isArray(xe))if(void 0===xe.type){var we={};null===a?a=[we]:a.push(we),s++}else if(void 0!==xe.type){var Ee=xe.type;if("camunda:inputParameter"!==Ee&&"camunda:field"!==Ee){var Oe={};null===a?a=[Oe]:a.push(Oe),s++}}}if(Mr=ge===s,s=ye,null!==a&&(ye?a.length=ye:a=null),Mr){var _e=s;if(n&&"object"==typeof n&&!Array.isArray(n)&&void 0!==n.type){var Pe=n.type;if("String"!==Pe&&"Text"!==Pe&&"Hidden"!==Pe&&"Dropdown"!==Pe){var je={keyword:"enum",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/enum",params:{allowedValues:u.items.allOf[3].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[je]:a.push(je),s++}if(s>0){var Se,ke=[],Ae=Object(r.a)(a);try{for(Ae.s();!(Se=Ae.n()).done;){var Ce=Se.value;"errorMessage"===Ce.keyword||Ce.emUsed||Ce.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/type"&&(0!==Ce.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/type")||"/"!==Ce.dataPath[i+"/scopes/"+e+"/properties/"+t+"/type".length])||0!==Ce.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/3/then/properties/type")||"/"!==Ce.schemaPath["#/definitions/properties/allOf/1/items/allOf/3/then/properties/type".length]||(ke.push(Ce),Ce.emUsed=!0)}}catch(Wr){Ae.e(Wr)}finally{Ae.f()}if(ke.length){var Te={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/type/errorMessage",params:{errors:ke},message:"invalid property type "+JSON.stringify(Pe)+" for binding type "+JSON.stringify(n&&n.binding&&n.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===a?a=[Te]:a.push(Te),s++}var Re,Me=[],De=Object(r.a)(a);try{for(De.s();!(Re=De.n()).done;){var Ne=Re.value;Ne.emUsed||Me.push(Ne)}}catch(Wr){De.e(Wr)}finally{De.f()}a=Me,s=Me.length}}ve=Mr=_e===s}if(!ve){var Be={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[Be]:a.push(Be),s++}if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.binding){var Le={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/required",params:{missingProperty:"binding"},message:"should have required property 'binding'"};null===a?a=[Le]:a.push(Le),s++}if(void 0!==n.binding){var Ie=n.binding,ze=s,$e=!0,Fe=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie))if(void 0===Ie.type){var qe={};null===a?a=[qe]:a.push(qe),s++}else if(void 0!==Ie.type){var Ue=Ie.type;if("property"!==Ue&&"camunda:property"!==Ue&&"camunda:inputParameter"!==Ue&&"camunda:field"!==Ue){var Ve={};null===a?a=[Ve]:a.push(Ve),s++}}if(Dr=Fe===s,s=ze,null!==a&&(ze?a.length=ze:a=null),Dr){var He=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.name){var We={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[We]:a.push(We),s++}if(s>0){var Ge,Ke=[],Ye=Object(r.a)(a);try{for(Ye.s();!(Ge=Ye.n()).done;){var Xe=Ge.value;"errorMessage"===Xe.keyword||Xe.emUsed||Xe.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/binding"&&(0!==Xe.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/binding")||"/"!==Xe.dataPath[i+"/scopes/"+e+"/properties/"+t+"/binding".length])||0!==Xe.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then")||"/"!==Xe.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then".length]||(Ke.push(Xe),Xe.emUsed=!0)}}catch(Wr){Ye.e(Wr)}finally{Ye.f()}if(Ke.length){var Qe={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/errorMessage",params:{errors:Ke},message:"property.binding "+JSON.stringify(Ie&&Ie.type)+" requires name"};null===a?a=[Qe]:a.push(Qe),s++}var Je,Ze=[],et=Object(r.a)(a);try{for(et.s();!(Je=et.n()).done;){var tt=Je.value;tt.emUsed||Ze.push(tt)}}catch(Wr){et.e(Wr)}finally{et.f()}a=Ze,s=Ze.length}$e=Dr=He===s}if(!$e){var nt={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[nt]:a.push(nt),s++}var rt=s,it=!0,ot=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie))if(void 0===Ie.type){var at={};null===a?a=[at]:a.push(at),s++}else if(void 0!==Ie.type&&!o(Ie.type,"camunda:outputParameter")){var st={};null===a?a=[st]:a.push(st),s++}if(Nr=ot===s,s=rt,null!==a&&(rt?a.length=rt:a=null),Nr){var pt=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.source){var ct={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[ct]:a.push(ct),s++}if(s>0){var lt,ut=[],dt=Object(r.a)(a);try{for(dt.s();!(lt=dt.n()).done;){var ft=lt.value;"errorMessage"===ft.keyword||ft.emUsed||ft.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/binding"&&(0!==ft.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/binding")||"/"!==ft.dataPath[i+"/scopes/"+e+"/properties/"+t+"/binding".length])||0!==ft.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then")||"/"!==ft.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then".length]||(ut.push(ft),ft.emUsed=!0)}}catch(Wr){dt.e(Wr)}finally{dt.f()}if(ut.length){var ht={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/errorMessage",params:{errors:ut},message:"property.binding "+JSON.stringify(Ie&&Ie.type)+" requires source"};null===a?a=[ht]:a.push(ht),s++}var mt,yt=[],vt=Object(r.a)(a);try{for(vt.s();!(mt=vt.n()).done;){var gt=mt.value;gt.emUsed||yt.push(gt)}}catch(Wr){vt.e(Wr)}finally{vt.f()}a=yt,s=yt.length}it=Nr=pt===s}if(!it){var bt={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[bt]:a.push(bt),s++}var xt=s,wt=!0,Et=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie))if(void 0===Ie.type){var Ot={};null===a?a=[Ot]:a.push(Ot),s++}else if(void 0!==Ie.type&&!o(Ie.type,"camunda:in")){var _t={};null===a?a=[_t]:a.push(_t),s++}if(Lr=Et===s,s=xt,null!==a&&(xt?a.length=xt:a=null),Lr){var Pt=s,jt=s,St=!1,kt=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.variables){var At={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/0/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[At]:a.push(At),s++}if(Br=kt===s,!(St=St||Br)){var Ct=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.target){var Tt={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf/1/required",params:{missingProperty:"target"},message:"should have required property 'target'"};null===a?a=[Tt]:a.push(Tt),s++}Br=Ct===s,St=St||Br}if(St)s=jt,null!==a&&(jt?a.length=jt:a=null);else{var Rt={keyword:"anyOf",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/anyOf",params:{},message:"should match some schema in anyOf"};null===a?a=[Rt]:a.push(Rt),s++}if(s>0){var Mt,Dt=[],Nt=Object(r.a)(a);try{for(Nt.s();!(Mt=Nt.n()).done;){var Bt=Mt.value;"errorMessage"===Bt.keyword||Bt.emUsed||Bt.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/binding"&&(0!==Bt.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/binding")||"/"!==Bt.dataPath[i+"/scopes/"+e+"/properties/"+t+"/binding".length])||0!==Bt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then")||"/"!==Bt.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then".length]||(Dt.push(Bt),Bt.emUsed=!0)}}catch(Wr){Nt.e(Wr)}finally{Nt.f()}if(Dt.length){var Lt={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/errorMessage",params:{errors:Dt},message:"property.binding "+JSON.stringify(Ie&&Ie.type)+" requires variables, target, or both"};null===a?a=[Lt]:a.push(Lt),s++}var It,zt=[],$t=Object(r.a)(a);try{for($t.s();!(It=$t.n()).done;){var Ft=It.value;Ft.emUsed||zt.push(Ft)}}catch(Wr){$t.e(Wr)}finally{$t.f()}a=zt,s=zt.length}wt=Lr=Pt===s}if(!wt){var qt={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[qt]:a.push(qt),s++}var Ut=s,Vt=!0,Ht=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie))if(void 0===Ie.type){var Wt={};null===a?a=[Wt]:a.push(Wt),s++}else if(void 0!==Ie.type&&!o(Ie.type,"camunda:out")){var Gt={};null===a?a=[Gt]:a.push(Gt),s++}if(qr=Ht===s,s=Ut,null!==a&&(Ut?a.length=Ut:a=null),qr){var Kt=s,Yt=s,Xt=!1,Qt=null,Jt=s,Zt=s,en=s,tn=s,nn=!1,rn=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.source){var on={};null===a?a=[on]:a.push(on),s++}if(Ir=rn===s,!(nn=nn||Ir)){var an=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.sourceExpression){var sn={};null===a?a=[sn]:a.push(sn),s++}Ir=an===s,nn=nn||Ir}if(nn)s=tn,null!==a&&(tn?a.length=tn:a=null);else{var pn={};null===a?a=[pn]:a.push(pn),s++}if(en===s){var cn={keyword:"not",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/not",params:{},message:"should NOT be valid"};null===a?a=[cn]:a.push(cn),s++}else s=Zt,null!==a&&(Zt?a.length=Zt:a=null);if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.variables){var ln={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/0/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[ln]:a.push(ln),s++}(Fr=Jt===s)&&(Xt=!0,Qt=0);var un=s,dn=s,fn=s,hn=s,mn=!1,yn=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.variables){var vn={};null===a?a=[vn]:a.push(vn),s++}if(zr=yn===s,!(mn=mn||zr)){var gn=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.sourceExpression){var bn={};null===a?a=[bn]:a.push(bn),s++}zr=gn===s,mn=mn||zr}if(mn)s=hn,null!==a&&(hn?a.length=hn:a=null);else{var xn={};null===a?a=[xn]:a.push(xn),s++}if(fn===s){var wn={keyword:"not",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/not",params:{},message:"should NOT be valid"};null===a?a=[wn]:a.push(wn),s++}else s=dn,null!==a&&(dn?a.length=dn:a=null);if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.source){var En={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/1/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[En]:a.push(En),s++}if((Fr=un===s)&&Xt)Xt=!1,Qt=[Qt,1];else{Fr&&(Xt=!0,Qt=1);var On=s,_n=s,Pn=s,jn=s,Sn=!1,kn=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.variables){var An={};null===a?a=[An]:a.push(An),s++}if($r=kn===s,!(Sn=Sn||$r)){var Cn=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.source){var Tn={};null===a?a=[Tn]:a.push(Tn),s++}$r=Cn===s,Sn=Sn||$r}if(Sn)s=jn,null!==a&&(jn?a.length=jn:a=null);else{var Rn={};null===a?a=[Rn]:a.push(Rn),s++}if(Pn===s){var Mn={keyword:"not",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/not",params:{},message:"should NOT be valid"};null===a?a=[Mn]:a.push(Mn),s++}else s=_n,null!==a&&(_n?a.length=_n:a=null);if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.sourceExpression){var Dn={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/2/required",params:{missingProperty:"sourceExpression"},message:"should have required property 'sourceExpression'"};null===a?a=[Dn]:a.push(Dn),s++}if((Fr=On===s)&&Xt)Xt=!1,Qt=[Qt,2];else{Fr&&(Xt=!0,Qt=2);var Nn=s,Bn=s,Ln=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.source){var In={};null===a?a=[In]:a.push(In),s++}if(Ln===s){var zn={keyword:"not",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/not",params:{},message:"should NOT be valid"};null===a?a=[zn]:a.push(zn),s++}else s=Bn,null!==a&&(Bn?a.length=Bn:a=null);if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)){if(void 0===Ie.variables){var $n={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[$n]:a.push($n),s++}if(void 0===Ie.sourceExpression){var Fn={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/3/required",params:{missingProperty:"sourceExpression"},message:"should have required property 'sourceExpression'"};null===a?a=[Fn]:a.push(Fn),s++}}if((Fr=Nn===s)&&Xt)Xt=!1,Qt=[Qt,3];else{Fr&&(Xt=!0,Qt=3);var qn=s,Un=s,Vn=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.sourceExpression){var Hn={};null===a?a=[Hn]:a.push(Hn),s++}if(Vn===s){var Wn={keyword:"not",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/not",params:{},message:"should NOT be valid"};null===a?a=[Wn]:a.push(Wn),s++}else s=Un,null!==a&&(Un?a.length=Un:a=null);if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)){if(void 0===Ie.variables){var Gn={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",params:{missingProperty:"variables"},message:"should have required property 'variables'"};null===a?a=[Gn]:a.push(Gn),s++}if(void 0===Ie.source){var Kn={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf/4/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[Kn]:a.push(Kn),s++}}(Fr=qn===s)&&Xt?(Xt=!1,Qt=[Qt,4]):Fr&&(Xt=!0,Qt=4)}}}if(Xt)s=Yt,null!==a&&(Yt?a.length=Yt:a=null);else{var Yn={keyword:"oneOf",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/oneOf",params:{passingSchemas:Qt},message:"should match exactly one schema in oneOf"};null===a?a=[Yn]:a.push(Yn),s++}if(s>0){var Xn,Qn=[],Jn=Object(r.a)(a);try{for(Jn.s();!(Xn=Jn.n()).done;){var Zn=Xn.value;"errorMessage"===Zn.keyword||Zn.emUsed||Zn.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/binding"&&(0!==Zn.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/binding")||"/"!==Zn.dataPath[i+"/scopes/"+e+"/properties/"+t+"/binding".length])||0!==Zn.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then")||"/"!==Zn.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then".length]||(Qn.push(Zn),Zn.emUsed=!0)}}catch(Wr){Jn.e(Wr)}finally{Jn.f()}if(Qn.length){var er={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/then/errorMessage",params:{errors:Qn},message:"property.binding "+JSON.stringify(Ie&&Ie.type)+" requires one of the following: variables, sourceExpression, source, (sourceExpression and variables), or (source and variables)"};null===a?a=[er]:a.push(er),s++}var tr,nr=[],rr=Object(r.a)(a);try{for(rr.s();!(tr=rr.n()).done;){var ir=tr.value;ir.emUsed||nr.push(ir)}}catch(Wr){rr.e(Wr)}finally{rr.f()}a=nr,s=nr.length}Vt=qr=Kt===s}if(!Vt){var or={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/3/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[or]:a.push(or),s++}var ar=s,sr=!0,pr=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie))if(void 0===Ie.type){var cr={};null===a?a=[cr]:a.push(cr),s++}else if(void 0!==Ie.type&&!o(Ie.type,"camunda:errorEventDefinition")){var lr={};null===a?a=[lr]:a.push(lr),s++}if(Ur=pr===s,s=ar,null!==a&&(ar?a.length=ar:a=null),Ur){var ur=s,dr=s,fr=!1,hr=null,mr=s;if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)&&void 0===Ie.errorRef){var yr={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf/0/required",params:{missingProperty:"errorRef"},message:"should have required property 'errorRef'"};null===a?a=[yr]:a.push(yr),s++}if(mr===s&&(fr=!0,hr=0),fr)s=dr,null!==a&&(dr?a.length=dr:a=null);else{var vr={keyword:"oneOf",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/oneOf",params:{passingSchemas:hr},message:"should match exactly one schema in oneOf"};null===a?a=[vr]:a.push(vr),s++}if(s>0){var gr,br=[],xr=Object(r.a)(a);try{for(xr.s();!(gr=xr.n()).done;){var wr=gr.value;"errorMessage"===wr.keyword||wr.emUsed||wr.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/binding"&&(0!==wr.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/binding")||"/"!==wr.dataPath[i+"/scopes/"+e+"/properties/"+t+"/binding".length])||0!==wr.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then")||"/"!==wr.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then".length]||(br.push(wr),wr.emUsed=!0)}}catch(Wr){xr.e(Wr)}finally{xr.f()}if(br.length){var Er={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/then/errorMessage",params:{errors:br},message:"property.binding "+JSON.stringify(Ie&&Ie.type)+" requires errorRef"};null===a?a=[Er]:a.push(Er),s++}var Or,_r=[],Pr=Object(r.a)(a);try{for(Pr.s();!(Or=Pr.n()).done;){var jr=Or.value;jr.emUsed||_r.push(jr)}}catch(Wr){Pr.e(Wr)}finally{Pr.f()}a=_r,s=_r.length}sr=Ur=ur===s}if(!sr){var Sr={keyword:"if",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/4/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[Sr]:a.push(Sr),s++}if(Ie&&"object"==typeof Ie&&!Array.isArray(Ie)){if(void 0===Ie.type){var kr={keyword:"required",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/required",params:{missingProperty:"type"},message:"should have required property 'type'"};null===a?a=[kr]:a.push(kr),s++}if(void 0!==Ie.type){var Ar=Ie.type;if("string"!==typeof Ar){var Vr={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[Vr]:a.push(Vr),s++}if("property"!==Ar&&"camunda:property"!==Ar&&"camunda:inputParameter"!==Ar&&"camunda:outputParameter"!==Ar&&"camunda:in"!==Ar&&"camunda:out"!==Ar&&"camunda:in:businessKey"!==Ar&&"camunda:executionListener"!==Ar&&"camunda:field"!==Ar&&"camunda:errorEventDefinition"!==Ar){var Hr={keyword:"enum",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/enum",params:{allowedValues:u.items.properties.binding.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[Hr]:a.push(Hr),s++}if(s>0){var Gr,Kr=[],Yr=Object(r.a)(a);try{for(Yr.s();!(Gr=Yr.n()).done;){var Xr=Gr.value;"errorMessage"===Xr.keyword||Xr.emUsed||Xr.dataPath!==i+"/scopes/"+e+"/properties/"+t+"/binding/type"&&(0!==Xr.dataPath.indexOf(i+"/scopes/"+e+"/properties/"+t+"/binding/type")||"/"!==Xr.dataPath[i+"/scopes/"+e+"/properties/"+t+"/binding/type".length])||0!==Xr.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/properties/type")||"/"!==Xr.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/properties/type".length]||(Kr.push(Xr),Xr.emUsed=!0)}}catch(Wr){Yr.e(Wr)}finally{Yr.f()}if(Kr.length){var Qr={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/errorMessage",params:{errors:Kr},message:"invalid property.binding type "+JSON.stringify(Ar)+"; must be any of { property, camunda:property, camunda:inputParameter, camunda:outputParameter, camunda:in, camunda:out, camunda:in:businessKey, camunda:executionListener, camunda:field, camunda:errorEventDefinition }"};null===a?a=[Qr]:a.push(Qr),s++}var Jr,Zr=[],ei=Object(r.a)(a);try{for(ei.s();!(Jr=ei.n()).done;){var ti=Jr.value;ti.emUsed||Zr.push(ti)}}catch(Wr){ei.e(Wr)}finally{ei.f()}a=Zr,s=Zr.length}}if(void 0!==Ie.name&&"string"!==typeof Ie.name){var ni={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/name",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[ni]:a.push(ni),s++}if(void 0!==Ie.event&&"string"!==typeof Ie.event){var ri={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/event",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/event/type",params:{type:"string"},message:"should be string"};null===a?a=[ri]:a.push(ri),s++}if(void 0!==Ie.scriptFormat&&"string"!==typeof Ie.scriptFormat){var ii={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/scriptFormat",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/scriptFormat/type",params:{type:"string"},message:"should be string"};null===a?a=[ii]:a.push(ii),s++}if(void 0!==Ie.source&&"string"!==typeof Ie.source){var oi={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/source",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/source/type",params:{type:"string"},message:"should be string"};null===a?a=[oi]:a.push(oi),s++}if(void 0!==Ie.target&&"string"!==typeof Ie.target){var ai={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/target",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/target/type",params:{type:"string"},message:"should be string"};null===a?a=[ai]:a.push(ai),s++}if(void 0!==Ie.expression&&"boolean"!==typeof Ie.expression){var si={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/expression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/expression/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[si]:a.push(si),s++}if(void 0!==Ie.variables){var pi=Ie.variables;if("string"!==typeof pi){var ci={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/type",params:{type:"string"},message:"should be string"};null===a?a=[ci]:a.push(ci),s++}if("all"!==pi&&"local"!==pi){var li={keyword:"enum",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/variables",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/variables/enum",params:{allowedValues:u.items.properties.binding.properties.variables.enum},message:"should be equal to one of the allowed values"};null===a?a=[li]:a.push(li),s++}}if(void 0!==Ie.sourceExpression&&"string"!==typeof Ie.sourceExpression){var ui={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding/sourceExpression",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/sourceExpression/type",params:{type:"string"},message:"should be string"};null===a?a=[ui]:a.push(ui),s++}}else{var di={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/type",params:{type:"object"},message:"should be object"};null===a?a=[di]:a.push(di),s++}}}else{var fi={keyword:"type",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/type",params:{type:"object"},message:"should be object"};null===a?a=[fi]:a.push(fi),s++}if(s>0){var hi,mi={required:[]},yi={required:function(){return'missing binding for property "'+JSON.stringify(t)+'"'}},vi=Object(r.a)(a);try{for(vi.s();!(hi=vi.n()).done;){var gi=hi.value;"errorMessage"!==gi.keyword&&!gi.emUsed&&gi.dataPath===i+"/scopes/"+e+"/properties/"+t&&gi.keyword in mi&&0===gi.schemaPath.indexOf("#/definitions/properties/allOf/1/items")&&/^\/[^\/]*$/.test(gi.schemaPath.slice(38))&&(mi[gi.keyword].push(gi),gi.emUsed=!0)}}catch(Wr){vi.e(Wr)}finally{vi.f()}for(var bi in mi)if(mi[bi].length){var xi={keyword:"errorMessage",dataPath:i+"/scopes/"+e+"/properties/"+t,schemaPath:"#/definitions/properties/allOf/1/items/errorMessage",params:{errors:mi[bi]},message:bi in yi?yi[bi]():u.items.errorMessage[bi]};null===a?a=[xi]:a.push(xi),s++}var wi,Ei=[],Oi=Object(r.a)(a);try{for(Oi.s();!(wi=Oi.n()).done;){var _i=wi.value;_i.emUsed||Ei.push(_i)}}catch(Wr){Oi.e(Wr)}finally{Oi.f()}a=Ei,s=Ei.length}},$t=0;$t<It;$t++)zt($t);else{var Ft={keyword:"type",dataPath:i+"/scopes/"+e+"/properties",schemaPath:"#/definitions/properties/allOf/1/type",params:{type:"array"},message:"should be array"};null===a?a=[Ft]:a.push(Ft),s++}}}else{var qt={keyword:"type",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/type",params:{type:"object"},message:"should be object"};null===a?a=[qt]:a.push(qt),s++}if(s>0){var Ut,Vt,Ht,Wt={required:{type:[],properties:[]}},Gt={required:{properties:function(){return"invalid scope "+JSON.stringify(t&&t.type)+", missing properties=[]"}}},Kt=Object(r.a)(a);try{for(Kt.s();!(Ht=Kt.n()).done;){var Yt=Ht.value;"errorMessage"!==Yt.keyword&&!Yt.emUsed&&Yt.dataPath===i+"/scopes/"+e&&Yt.keyword in Wt&&0===Yt.schemaPath.indexOf("#/properties/scopes/items")&&/^\/[^\/]*$/.test(Yt.schemaPath.slice(25))&&(Ut=h[Yt.keyword],(Vt=Wt[Yt.keyword][Yt.params[Ut]])&&(Vt.push(Yt),Yt.emUsed=!0))}}catch(Wr){Kt.e(Wr)}finally{Kt.f()}for(var Xt in Wt)for(var Qt in Wt[Xt])if((Vt=Wt[Xt][Qt]).length){var Jt=Gt[Xt]&&Gt[Xt][Qt],Zt={keyword:"errorMessage",dataPath:i+"/scopes/"+e,schemaPath:"#/properties/scopes/items/errorMessage",params:{errors:Vt},message:Jt?Jt():p.properties.scopes.items.errorMessage[Xt][Qt]};null===a?a=[Zt]:a.push(Zt),s++}var en,tn=[],nn=Object(r.a)(a);try{for(nn.s();!(en=nn.n()).done;){var rn=en.value;rn.emUsed||tn.push(rn)}}catch(Wr){nn.e(Wr)}finally{nn.f()}a=tn,s=tn.length}},Pr=0;Pr<Or;Pr++){var jr,Sr,kr,Ar,Cr,Tr,Rr,Mr,Dr,Nr,Br,Lr,Ir,zr,$r,Fr,qr,Ur;_r(Pr)}else{var Vr={keyword:"type",dataPath:i+"/scopes",schemaPath:"#/properties/scopes/type",params:{type:"array"},message:"should be array"};null===a?a=[Vr]:a.push(Vr),s++}}}else{var Hr={keyword:"type",dataPath:i,schemaPath:"#/type",params:{type:"object"},message:"should be object"};null===a?a=[Hr]:a.push(Hr),s++}return m.errors=a,0===s}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dataPath,r=void 0===n?"":n,i=t.parentData,o=t.parentDataProperty,a=t.rootData,s=void 0===a?e:a,p=null,c=0,l=c,u=!1,d=null,f=c;m(e,{dataPath:r,parentData:i,parentDataProperty:o,rootData:s})||(c=(p=null===p?m.errors:p.concat(m.errors)).length),(h=f===c)&&(u=!0,d=0);var h,v=c;if(Array.isArray(e))for(var g=e.length,b=0;b<g;b++)m(e[b],{dataPath:r+"/"+b,parentData:e,parentDataProperty:b,rootData:s})||(c=(p=null===p?m.errors:p.concat(m.errors)).length);else{var x={keyword:"type",dataPath:r,schemaPath:"#/oneOf/1/type",params:{type:"array"},message:"should be array"};null===p?p=[x]:p.push(x),c++}if((h=v===c)&&u?(u=!1,d=[d,1]):h&&(u=!0,d=1),u)c=l,null!==p&&(l?p.length=l:p=null);else{var w={keyword:"oneOf",dataPath:r,schemaPath:"#/oneOf",params:{passingSchemas:d},message:"should match exactly one schema in oneOf"};null===p?p=[w]:p.push(w),c++}return y.errors=p,0===c}a.default=s;"a".charCodeAt();var v=["number","bigint","boolean","string","object"];function g(e){return v.indexOf(typeof e)>=0}var b=/"|\\/g,x=/[\b]/g,w=/\f/g,E=/\n/g,O=/\r/g,_=/\t/g;function P(e){return'"'+(e=e.replace(b,"\\$&").replace(w,"\\f").replace(x,"\\b").replace(E,"\\n").replace(O,"\\r").replace(_,"\\t"))+'"'}var j=/~/g,S=/\//g;function k(e){return e.replace(j,"~0").replace(S,"~1")}var A=function(e,t,n){if(g(e)){var r,i,o=0,a="object"==typeof n?n.space:n;switch(typeof a){case"number":var s=a>10?10:a<0?0:Math.floor(a);a=s&&b(s," "),r=s,i=s;break;case"string":a=a.slice(0,10),r=0,i=0;for(var p=0;p<a.length;p++){switch(a[p]){case" ":i++;break;case"\t":i+=4;break;case"\r":i=0;break;case"\n":i=0,o++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:a=void 0}var c="",l={},u=0,d=0,f=0,h=n&&n.es6&&"function"==typeof Map;return function e(t,n,r){switch(v(r,"value"),typeof t){case"number":case"bigint":case"boolean":m(""+t);break;case"string":m(P(t));break;case"object":null===t?m("null"):"function"==typeof t.toJSON?m(P(t.toJSON())):Array.isArray(t)?i():h?t.constructor.BYTES_PER_ELEMENT?i():t instanceof Map?s():t instanceof Set?s(!0):o():o()}function i(){if(t.length){m("[");for(var i=n+1,o=0;o<t.length;o++){o&&m(","),y(i);var a=g(t[o])?t[o]:null;e(a,i,r+"/"+o)}y(n),m("]")}else m("[]")}function o(){var i=Object.keys(t);if(i.length){m("{");for(var o=n+1,s=0;s<i.length;s++){var p=i[s],c=t[p];if(g(c)){s&&m(",");var l=r+"/"+k(p);y(o),v(l,"key"),m(P(p)),v(l,"keyEnd"),m(":"),a&&m(" "),e(c,o,l)}}y(n),m("}")}else m("{}")}function s(i){if(t.size){m("{");for(var o=n+1,s=!0,p=t.entries(),c=p.next();!c.done;){var l=c.value,u=l[0],d=!!i||l[1];if(g(d)){s||m(","),s=!1;var f=r+"/"+k(u);y(o),v(f,"key"),m(P(u)),v(f,"keyEnd"),m(":"),a&&m(" "),e(d,o,f)}c=p.next()}y(n),m("}")}else m("{}")}v(r,"valueEnd")}(e,0,""),{json:c,pointers:l}}function m(e){d+=e.length,f+=e.length,c+=e}function y(e){if(a){for(c+="\n"+b(e,a),u++,d=0;e--;)o?(u+=o,d=i):d+=i,f+=r;f+=1}}function v(e,t){l[e]=l[e]||{},l[e][t]={line:u,column:d,pos:f}}function b(e,t){return Array(e+1).join(t)}};function C(e,t){var n=function(e){return A(e,null,2).pointers}(e),r=t(e),o=t.errors;return o&&o.length&&(Object(i.g)(o,T),o=function(e){return Object(i.c)(e,(function(e){return"if"!==e.keyword}))}(o),Object(i.g)(o,(function(e){!function(e,t){var n=e.dataPath,r=t[n];e.dataPointer=r}(e,n)}))),{valid:r,object:e,errors:o}}function T(e){var t=e.params;t&&t.errors&&(t.rawErrors=t.errors,delete t.errors)}function R(){return"0.10.0"}function M(e){return C(e,a)}var D=U,N=U,B={type:"object",allOf:[{required:["name","id","appliesTo","properties"],properties:{name:{$id:"#/name",type:"string",description:"The name of the element template."},id:{$id:"#/id",type:"string",description:"The identifier of the element template."},description:{$id:"#/description",type:"string",description:"The description of the element template."},version:{$id:"#/version",type:"number",description:"Optional version of the template. If you add a version to a template it will be considered unique based on its ID and version. Two templates can have the same ID if their version is different."},isDefault:{$id:"#/isDefault",type:"boolean",description:"Indicates whether the element template is a default template."},appliesTo:{$id:"#/appliesTo",type:"array",description:"List of BPMN types the template can be applied to.",default:[],items:{$id:"#/appliesTo/items",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:Task","bpmn:ServiceTask","bpmn:SequenceFlow","bpmn:Process","bpmn:StartEvent","bpmn:Gateway"]}],errorMessage:{pattern:'invalid item for "appliesTo", should contain namespaced property, example: "bpmn:Task"'}}},elementType:{$id:"#/elementType",type:"object",description:"The BPMN type the element will be transformed into.",default:{},required:["value"],properties:{value:{$id:"#/elementType/value",type:"string",pattern:"^[\\w\\d]+:[\\w\\d]+$",allOf:[{examples:["bpmn:ServiceTask","bpmn:UserTask","bpmn:StartEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway"]}],errorMessage:{pattern:'invalid item for "elementType", should contain namespaced property, example: "bpmn:Task"'}}},errorMessage:{required:{value:"missing elementType value"}}},metadata:{$id:"#/metadata",type:"object",description:"Some custom properties for further configuration.",default:{}},entriesVisible:{$id:"#/entriesVisible",type:"boolean",description:"Select whether non-template entries are visible in the properties panel."},groups:{$id:"#/groups",type:"array",description:"Custom fields can be ordered together via groups.",allOf:[{examples:[[{id:"group-1",label:"My Group"}]]}],items:{$id:"#/groups/group",type:"object",default:{},required:["id","label"],properties:{id:{$id:"#/groups/group/id",type:"string",description:"The id of the custom group"},label:{$id:"#/groups/group/label",type:"string",description:"The label of the custom group"}},errorMessage:{required:{id:'missing id for group "${0#}"',label:'missing label for group "${0#}"'}}}},documentationRef:{$id:"#/documentationRef",type:"string",pattern:"^(https|http)://.*",errorMessage:{pattern:'Malformed documentation URL, must match "^(https|http)://.*"'}}},errorMessage:{required:{name:"missing template name",id:"missing template id",appliesTo:"missing appliesTo=[]",properties:"missing properties=[]"}}}],properties:{properties:{$ref:"#/definitions/properties",$id:"#/properties"},icon:{$id:"#/icon",type:"object",description:"Custom icon to be shown on the element",default:{},properties:{contents:{$id:"#/icon/contents",type:"string",description:"The URL of an icon.",pattern:"^(https?|data):.*",errorMessage:{pattern:"Malformed icon source, must be a valid HTTP(s) or data URL"}}},required:["contents"],errorMessage:{required:{contents:"missing icon contents"}}}}},L={allOf:[{type:"array",description:"List of properties of the element template.",allOf:[{examples:[[{label:"Name",type:"String",binding:{type:"property",name:"name"}}]]}],items:{type:"object",default:{},allOf:[{if:{properties:{type:{const:"Dropdown"}},required:["type"]},then:{required:["choices"],errorMessage:'must provide choices=[] with "Dropdown" type'}}],properties:{id:{type:"string",description:"Unique identifier of the property."},value:{$id:"#/properties/property/value",type:["string","boolean"],description:"The value of a control field."},description:{$id:"#/properties/property/description",type:"string",description:"The description of a control field."},label:{$id:"#/properties/property/label",type:"string",description:"The label of a control field."},type:{$id:"#/properties/property/type",type:"string",description:"The type of a control field."},editable:{$id:"#/properties/property/editable",type:"boolean",description:"Indicates whether a control field is editable or not."},choices:{$id:"#/properties/property/choices",type:"array",description:"The choices for dropdown fields.",default:[],items:{$id:"#/properties/property/choices/item",type:"object",default:{},properties:{name:{$id:"#/properties/property/choices/item/name",type:"string",description:"The name of a choice."},value:{$id:"#/properties/property/choices/item/value",type:"string",description:"The value of a choice."}},required:["value","name"],errorMessage:{required:'{ name, value } must be specified for "Dropdown" choices'}}},constraints:{$id:"#/properties/property/constraints",type:"object",description:"The validation constraints of a control field.",allOf:[{examples:[{notEmpty:!0}]}],properties:{notEmpty:{$id:"#/properties/property/constraints/notEmpty",type:"boolean",description:"The control field must not be empty."},minLength:{$id:"#/properties/property/constraints/minLength",type:"number",description:"The minimal length of a control field value."},maxLength:{$id:"#/properties/property/constraints/maxLength",type:"number",description:"The maximal length for a control field value."},pattern:{$id:"#/properties/property/constraints/pattern",description:"A regular expression pattern for a constraint.",oneOf:[{type:"object",default:{},properties:{value:{$id:"#/properties/property/constraints/pattern/value",type:"string",description:"The regular expression of a pattern."},message:{$id:"#/properties/property/constraints/pattern/message",type:"string",description:"The validation message of a pattern."}}},{type:"string"}]}}},group:{$id:"#/properties/property/group",type:"string",description:"The custom group of a control field."},condition:{$id:"#/condition",type:"object",description:"Condition to activate the binding.",allOf:[{examples:[{type:"simple",property:"httpMethod",equals:"GET"},{type:"simple",property:"httpMethod",oneOf:["POST","PUT","DELETE"]}]}],required:["property"],properties:{type:{$id:"#/condition/type",const:"simple",description:"The type of the condition.",default:"simple"},property:{$id:"#/condition/property",type:"string",description:"The id of the property to check."}},oneOf:[{properties:{equals:{type:["string","number","boolean"]}},required:["equals"]},{properties:{oneOf:{type:"array",items:{type:["string","number"]}}},required:["oneOf"]}],errorMessage:{required:{property:"missing property name for condition"}}}}}},{$schema:"http://json-schema.org/draft-07/schema",type:"array",description:"List of properties of the element template.",items:{type:"object",default:{},required:["binding"],allOf:[{if:{properties:{binding:{properties:{type:{const:"property"}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown","Boolean"],errorMessage:'invalid property type ${0} for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'}}}},{if:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output","zeebe:taskHeader","zeebe:taskDefinition:type"]}},required:["type"]}},required:["binding"]},then:{properties:{type:{enum:["String","Text","Hidden","Dropdown"],errorMessage:"invalid property type ${0} for binding type ${1/binding/type}; must be any of { String, Text, Hidden, Dropdown }"}}}},{if:{properties:{optional:{const:!0}},required:["optional"]},then:{properties:{binding:{properties:{type:{enum:["zeebe:input","zeebe:output"],errorMessage:"optional is not supported for binding type ${0}; must be any of { zeebe:input, zeebe:output }"}},required:["type"]}}}},{if:{properties:{optional:{const:!0}},required:["optional"]},then:{properties:{constraints:{properties:{notEmpty:{const:!1,errorMessage:'optional is not allowed for truthy "notEmpty" constraint'}},required:["notEmpty"]}}}},{if:{properties:{feel:{not:{const:null}}},required:["feel"]},then:{properties:{type:{enum:["String","Text"],errorMessage:'feel is only supported for "String" and "Text" type'}},required:["type"]}}],properties:{binding:{$id:"#/properties/property/binding",type:"object",description:"Specifying how the property is mapped to BPMN or Zeebe extension elements and attributes.",required:["type"],allOf:[{if:{properties:{type:{enum:["property","zeebe:input"]}},required:["type"]},then:{required:["name"],errorMessage:"property.binding ${0/type} requires name"}},{if:{properties:{type:{const:"zeebe:output"}},required:["type"]},then:{required:["source"],errorMessage:"property.binding ${0/type} requires source"}},{if:{properties:{type:{const:"zeebe:taskHeader"}},required:["type"]},then:{required:["key"],errorMessage:"property.binding ${0/type} requires key"}},{examples:[{type:"property",name:"name"},{type:"zeebe:input",name:"input"},{type:"zeebe:output",source:"output"},{type:"zeebe:taskDefinition:type"},{type:"zeebe:taskHeader",key:"key"}]}],properties:{type:{$id:"#/properties/property/binding/type",type:"string",description:"The type of a property binding.",enum:["property","zeebe:taskDefinition:type","zeebe:input","zeebe:output","zeebe:taskHeader"],errorMessage:"invalid property.binding type ${0}; must be any of { property, zeebe:taskDefinition:type, zeebe:input, zeebe:output, zeebe:taskHeader }"},name:{$id:"#/properties/property/binding/name",type:"string",description:"The name of a property binding."},source:{$id:"#/properties/property/binding/source",type:"string",description:"The source value of a property binding (zeebe:output)."},key:{$id:"#/properties/property/binding/key",type:"string",description:"The key value of a property binding (zeebe:taskHeader)."}}},optional:{$id:"#/optional",type:"boolean",description:"Indicates whether a property is optional. Optional bindings do not persist empty values in the underlying BPMN 2.0 XML."},feel:{$id:"#/properties/property/feel",type:"string",default:null,description:"Indicates whether the property can be a feel expression",enum:[null,"optional","required"]}},errorMessage:{required:{binding:'missing binding for property "${0#}"'}}}}]},I=new RegExp("^[\\w\\d]+:[\\w\\d]+$","u"),z=new RegExp("^(https|http)://.*","u"),$=new RegExp("^(https?|data):.*","u"),F={required:"missingProperty",dependencies:"property",dependentRequired:"property"};function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dataPath,i=void 0===n?"":n,a=(t.parentData,t.parentDataProperty,t.rootData,null),s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){var p={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[p]:a.push(p),s++}if(void 0===e.id){var c={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"id"},message:"should have required property 'id'"};null===a?a=[c]:a.push(c),s++}if(void 0===e.appliesTo){var l={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"appliesTo"},message:"should have required property 'appliesTo'"};null===a?a=[l]:a.push(l),s++}if(void 0===e.properties){var u={keyword:"required",dataPath:i,schemaPath:"#/allOf/0/required",params:{missingProperty:"properties"},message:"should have required property 'properties'"};null===a?a=[u]:a.push(u),s++}if(void 0!==e.name&&"string"!==typeof e.name){var d={keyword:"type",dataPath:i+"/name",schemaPath:"#/allOf/0/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[d]:a.push(d),s++}if(void 0!==e.id&&"string"!==typeof e.id){var f={keyword:"type",dataPath:i+"/id",schemaPath:"#/allOf/0/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[f]:a.push(f),s++}if(void 0!==e.description&&"string"!==typeof e.description){var h={keyword:"type",dataPath:i+"/description",schemaPath:"#/allOf/0/properties/description/type",params:{type:"string"},message:"should be string"};null===a?a=[h]:a.push(h),s++}if(void 0!==e.version&&"number"!=typeof e.version){var m={keyword:"type",dataPath:i+"/version",schemaPath:"#/allOf/0/properties/version/type",params:{type:"number"},message:"should be number"};null===a?a=[m]:a.push(m),s++}if(void 0!==e.isDefault&&"boolean"!==typeof e.isDefault){var y={keyword:"type",dataPath:i+"/isDefault",schemaPath:"#/allOf/0/properties/isDefault/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[y]:a.push(y),s++}if(void 0!==e.appliesTo){var v=e.appliesTo;if(Array.isArray(v))for(var g=v.length,b=0;b<g;b++){var x=v[b];if("string"===typeof x){if(!I.test(x)){var w={keyword:"pattern",dataPath:i+"/appliesTo/"+b,schemaPath:"#/allOf/0/properties/appliesTo/items/pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'should match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[w]:a.push(w),s++}}else{var E={keyword:"type",dataPath:i+"/appliesTo/"+b,schemaPath:"#/allOf/0/properties/appliesTo/items/type",params:{type:"string"},message:"should be string"};null===a?a=[E]:a.push(E),s++}if(s>0){var O,_={pattern:[]},P={},j=Object(r.a)(a);try{for(j.s();!(O=j.n()).done;){var S=O.value;"errorMessage"!==S.keyword&&!S.emUsed&&S.dataPath===i+"/appliesTo/"+b&&S.keyword in _&&0===S.schemaPath.indexOf("#/allOf/0/properties/appliesTo/items")&&/^\/[^\/]*$/.test(S.schemaPath.slice(36))&&(_[S.keyword].push(S),S.emUsed=!0)}}catch(Kr){j.e(Kr)}finally{j.f()}for(var k in _)if(_[k].length){var A={keyword:"errorMessage",dataPath:i+"/appliesTo/"+b,schemaPath:"#/allOf/0/properties/appliesTo/items/errorMessage",params:{errors:_[k]},message:k in P?P[k]():B.allOf[0].properties.appliesTo.items.errorMessage[k]};null===a?a=[A]:a.push(A),s++}var C,T=[],R=Object(r.a)(a);try{for(R.s();!(C=R.n()).done;){var M=C.value;M.emUsed||T.push(M)}}catch(Kr){R.e(Kr)}finally{R.f()}a=T,s=T.length}}else{var D={keyword:"type",dataPath:i+"/appliesTo",schemaPath:"#/allOf/0/properties/appliesTo/type",params:{type:"array"},message:"should be array"};null===a?a=[D]:a.push(D),s++}}if(void 0!==e.elementType){var N=e.elementType;if(N&&"object"==typeof N&&!Array.isArray(N)){if(void 0===N.value){var U={keyword:"required",dataPath:i+"/elementType",schemaPath:"#/allOf/0/properties/elementType/required",params:{missingProperty:"value"},message:"should have required property 'value'"};null===a?a=[U]:a.push(U),s++}if(void 0!==N.value){var V=N.value;if("string"===typeof V){if(!I.test(V)){var H={keyword:"pattern",dataPath:i+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/pattern",params:{pattern:"^[\\w\\d]+:[\\w\\d]+$"},message:'should match pattern "^[\\w\\d]+:[\\w\\d]+$"'};null===a?a=[H]:a.push(H),s++}}else{var W={keyword:"type",dataPath:i+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[W]:a.push(W),s++}if(s>0){var G,K={pattern:[]},Y={},X=Object(r.a)(a);try{for(X.s();!(G=X.n()).done;){var Q=G.value;"errorMessage"!==Q.keyword&&!Q.emUsed&&Q.dataPath===i+"/elementType/value"&&Q.keyword in K&&0===Q.schemaPath.indexOf("#/allOf/0/properties/elementType/properties/value")&&/^\/[^\/]*$/.test(Q.schemaPath.slice(49))&&(K[Q.keyword].push(Q),Q.emUsed=!0)}}catch(Kr){X.e(Kr)}finally{X.f()}for(var J in K)if(K[J].length){var Z={keyword:"errorMessage",dataPath:i+"/elementType/value",schemaPath:"#/allOf/0/properties/elementType/properties/value/errorMessage",params:{errors:K[J]},message:J in Y?Y[J]():B.allOf[0].properties.elementType.properties.value.errorMessage[J]};null===a?a=[Z]:a.push(Z),s++}var ee,te=[],ne=Object(r.a)(a);try{for(ne.s();!(ee=ne.n()).done;){var re=ee.value;re.emUsed||te.push(re)}}catch(Kr){ne.e(Kr)}finally{ne.f()}a=te,s=te.length}}}else{var ie={keyword:"type",dataPath:i+"/elementType",schemaPath:"#/allOf/0/properties/elementType/type",params:{type:"object"},message:"should be object"};null===a?a=[ie]:a.push(ie),s++}if(s>0){var oe,ae,se,pe={required:{value:[]}},ce={required:{}},le=Object(r.a)(a);try{for(le.s();!(se=le.n()).done;){var ue=se.value;"errorMessage"!==ue.keyword&&!ue.emUsed&&ue.dataPath===i+"/elementType"&&ue.keyword in pe&&0===ue.schemaPath.indexOf("#/allOf/0/properties/elementType")&&/^\/[^\/]*$/.test(ue.schemaPath.slice(32))&&(oe=F[ue.keyword],(ae=pe[ue.keyword][ue.params[oe]])&&(ae.push(ue),ue.emUsed=!0))}}catch(Kr){le.e(Kr)}finally{le.f()}for(var de in pe)for(var fe in pe[de])if((ae=pe[de][fe]).length){var he=ce[de]&&ce[de][fe],me={keyword:"errorMessage",dataPath:i+"/elementType",schemaPath:"#/allOf/0/properties/elementType/errorMessage",params:{errors:ae},message:he?he():B.allOf[0].properties.elementType.errorMessage[de][fe]};null===a?a=[me]:a.push(me),s++}var ye,ve=[],ge=Object(r.a)(a);try{for(ge.s();!(ye=ge.n()).done;){var be=ye.value;be.emUsed||ve.push(be)}}catch(Kr){ge.e(Kr)}finally{ge.f()}a=ve,s=ve.length}}if(void 0!==e.metadata){var xe=e.metadata;if(!xe||"object"!=typeof xe||Array.isArray(xe)){var we={keyword:"type",dataPath:i+"/metadata",schemaPath:"#/allOf/0/properties/metadata/type",params:{type:"object"},message:"should be object"};null===a?a=[we]:a.push(we),s++}}if(void 0!==e.entriesVisible&&"boolean"!==typeof e.entriesVisible){var Ee={keyword:"type",dataPath:i+"/entriesVisible",schemaPath:"#/allOf/0/properties/entriesVisible/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[Ee]:a.push(Ee),s++}if(void 0!==e.groups){var Oe=e.groups;if(Array.isArray(Oe))for(var _e=Oe.length,Pe=function(e){var t=Oe[e];if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.id){var n={keyword:"required",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/required",params:{missingProperty:"id"},message:"should have required property 'id'"};null===a?a=[n]:a.push(n),s++}if(void 0===t.label){var o={keyword:"required",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/required",params:{missingProperty:"label"},message:"should have required property 'label'"};null===a?a=[o]:a.push(o),s++}if(void 0!==t.id&&"string"!==typeof t.id){var p={keyword:"type",dataPath:i+"/groups/"+e+"/id",schemaPath:"#/allOf/0/properties/groups/items/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[p]:a.push(p),s++}if(void 0!==t.label&&"string"!==typeof t.label){var c={keyword:"type",dataPath:i+"/groups/"+e+"/label",schemaPath:"#/allOf/0/properties/groups/items/properties/label/type",params:{type:"string"},message:"should be string"};null===a?a=[c]:a.push(c),s++}}else{var l={keyword:"type",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/type",params:{type:"object"},message:"should be object"};null===a?a=[l]:a.push(l),s++}if(s>0){var u,d,f,h={required:{id:[],label:[]}},m={required:{id:function(){return'missing id for group "'+JSON.stringify(e)+'"'},label:function(){return'missing label for group "'+JSON.stringify(e)+'"'}}},y=Object(r.a)(a);try{for(y.s();!(f=y.n()).done;){var v=f.value;"errorMessage"!==v.keyword&&!v.emUsed&&v.dataPath===i+"/groups/"+e&&v.keyword in h&&0===v.schemaPath.indexOf("#/allOf/0/properties/groups/items")&&/^\/[^\/]*$/.test(v.schemaPath.slice(33))&&(u=F[v.keyword],(d=h[v.keyword][v.params[u]])&&(d.push(v),v.emUsed=!0))}}catch(Kr){y.e(Kr)}finally{y.f()}for(var g in h)for(var b in h[g])if((d=h[g][b]).length){var x=m[g]&&m[g][b],w={keyword:"errorMessage",dataPath:i+"/groups/"+e,schemaPath:"#/allOf/0/properties/groups/items/errorMessage",params:{errors:d},message:x?x():B.allOf[0].properties.groups.items.errorMessage[g][b]};null===a?a=[w]:a.push(w),s++}var E,O=[],_=Object(r.a)(a);try{for(_.s();!(E=_.n()).done;){var P=E.value;P.emUsed||O.push(P)}}catch(Kr){_.e(Kr)}finally{_.f()}a=O,s=O.length}},je=0;je<_e;je++)Pe(je);else{var Se={keyword:"type",dataPath:i+"/groups",schemaPath:"#/allOf/0/properties/groups/type",params:{type:"array"},message:"should be array"};null===a?a=[Se]:a.push(Se),s++}}if(void 0!==e.documentationRef){var ke=e.documentationRef;if("string"===typeof ke){if(!z.test(ke)){var Ae={keyword:"pattern",dataPath:i+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/pattern",params:{pattern:"^(https|http)://.*"},message:'should match pattern "^(https|http)://.*"'};null===a?a=[Ae]:a.push(Ae),s++}}else{var Ce={keyword:"type",dataPath:i+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/type",params:{type:"string"},message:"should be string"};null===a?a=[Ce]:a.push(Ce),s++}if(s>0){var Te,Re={pattern:[]},Me={},De=Object(r.a)(a);try{for(De.s();!(Te=De.n()).done;){var Ne=Te.value;"errorMessage"!==Ne.keyword&&!Ne.emUsed&&Ne.dataPath===i+"/documentationRef"&&Ne.keyword in Re&&0===Ne.schemaPath.indexOf("#/allOf/0/properties/documentationRef")&&/^\/[^\/]*$/.test(Ne.schemaPath.slice(37))&&(Re[Ne.keyword].push(Ne),Ne.emUsed=!0)}}catch(Kr){De.e(Kr)}finally{De.f()}for(var Be in Re)if(Re[Be].length){var Le={keyword:"errorMessage",dataPath:i+"/documentationRef",schemaPath:"#/allOf/0/properties/documentationRef/errorMessage",params:{errors:Re[Be]},message:Be in Me?Me[Be]():B.allOf[0].properties.documentationRef.errorMessage[Be]};null===a?a=[Le]:a.push(Le),s++}var Ie,ze=[],$e=Object(r.a)(a);try{for($e.s();!(Ie=$e.n()).done;){var Fe=Ie.value;Fe.emUsed||ze.push(Fe)}}catch(Kr){$e.e(Kr)}finally{$e.f()}a=ze,s=ze.length}}}if(s>0){var qe,Ue,Ve,He={required:{name:[],id:[],appliesTo:[],properties:[]}},We={required:{}},Ge=Object(r.a)(a);try{for(Ge.s();!(Ve=Ge.n()).done;){var Ke=Ve.value;"errorMessage"!==Ke.keyword&&!Ke.emUsed&&Ke.dataPath===i&&Ke.keyword in He&&0===Ke.schemaPath.indexOf("#/allOf/0")&&/^\/[^\/]*$/.test(Ke.schemaPath.slice(9))&&(qe=F[Ke.keyword],(Ue=He[Ke.keyword][Ke.params[qe]])&&(Ue.push(Ke),Ke.emUsed=!0))}}catch(Kr){Ge.e(Kr)}finally{Ge.f()}for(var Ye in He)for(var Xe in He[Ye])if((Ue=He[Ye][Xe]).length){var Qe=We[Ye]&&We[Ye][Xe],Je={keyword:"errorMessage",dataPath:i,schemaPath:"#/allOf/0/errorMessage",params:{errors:Ue},message:Qe?Qe():B.allOf[0].errorMessage[Ye][Xe]};null===a?a=[Je]:a.push(Je),s++}var Ze,et=[],tt=Object(r.a)(a);try{for(tt.s();!(Ze=tt.n()).done;){var nt=Ze.value;nt.emUsed||et.push(nt)}}catch(Kr){tt.e(Kr)}finally{tt.f()}a=et,s=et.length}if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.properties){var rt=e.properties;if(Array.isArray(rt))for(var it=rt.length,ot=0;ot<it;ot++){var at=rt[ot],st=s,pt=!0,ct=s;if(at&&"object"==typeof at&&!Array.isArray(at))if(void 0===at.type){var lt={};null===a?a=[lt]:a.push(lt),s++}else if(void 0!==at.type&&!o(at.type,"Dropdown")){var ut={};null===a?a=[ut]:a.push(ut),s++}var dt=ct===s;if(s=st,null!==a&&(st?a.length=st:a=null),dt){var ft=s;if(at&&"object"==typeof at&&!Array.isArray(at)&&void 0===at.choices){var ht={keyword:"required",dataPath:i+"/properties/"+ot,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/then/required",params:{missingProperty:"choices"},message:"should have required property 'choices'"};null===a?a=[ht]:a.push(ht),s++}if(s>0){var mt,yt=[],vt=Object(r.a)(a);try{for(vt.s();!(mt=vt.n()).done;){var gt=mt.value;"errorMessage"===gt.keyword||gt.emUsed||gt.dataPath!==i+"/properties/"+ot&&(0!==gt.dataPath.indexOf(i+"/properties/"+ot)||"/"!==gt.dataPath[i+"/properties/"+ot.length])||0!==gt.schemaPath.indexOf("#/definitions/properties/allOf/0/items/allOf/0/then")||"/"!==gt.schemaPath["#/definitions/properties/allOf/0/items/allOf/0/then".length]||(yt.push(gt),gt.emUsed=!0)}}catch(Kr){vt.e(Kr)}finally{vt.f()}if(yt.length){var bt={keyword:"errorMessage",dataPath:i+"/properties/"+ot,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/then/errorMessage",params:{errors:yt},message:'must provide choices=[] with "Dropdown" type'};null===a?a=[bt]:a.push(bt),s++}var xt,wt=[],Et=Object(r.a)(a);try{for(Et.s();!(xt=Et.n()).done;){var Ot=xt.value;Ot.emUsed||wt.push(Ot)}}catch(Kr){Et.e(Kr)}finally{Et.f()}a=wt,s=wt.length}pt=dt=ft===s}if(!pt){var _t={keyword:"if",dataPath:i+"/properties/"+ot,schemaPath:"#/definitions/properties/allOf/0/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[_t]:a.push(_t),s++}if(at&&"object"==typeof at&&!Array.isArray(at)){if(void 0!==at.id&&"string"!==typeof at.id){var Pt={keyword:"type",dataPath:i+"/properties/"+ot+"/id",schemaPath:"#/definitions/properties/allOf/0/items/properties/id/type",params:{type:"string"},message:"should be string"};null===a?a=[Pt]:a.push(Pt),s++}if(void 0!==at.value){var jt=at.value;if("string"!==typeof jt&&"boolean"!==typeof jt){var St={keyword:"type",dataPath:i+"/properties/"+ot+"/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/value/type",params:{type:L.allOf[0].items.properties.value.type},message:"should be string,boolean"};null===a?a=[St]:a.push(St),s++}}if(void 0!==at.description&&"string"!==typeof at.description){var kt={keyword:"type",dataPath:i+"/properties/"+ot+"/description",schemaPath:"#/definitions/properties/allOf/0/items/properties/description/type",params:{type:"string"},message:"should be string"};null===a?a=[kt]:a.push(kt),s++}if(void 0!==at.label&&"string"!==typeof at.label){var At={keyword:"type",dataPath:i+"/properties/"+ot+"/label",schemaPath:"#/definitions/properties/allOf/0/items/properties/label/type",params:{type:"string"},message:"should be string"};null===a?a=[At]:a.push(At),s++}if(void 0!==at.type&&"string"!==typeof at.type){var Ct={keyword:"type",dataPath:i+"/properties/"+ot+"/type",schemaPath:"#/definitions/properties/allOf/0/items/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[Ct]:a.push(Ct),s++}if(void 0!==at.editable&&"boolean"!==typeof at.editable){var Tt={keyword:"type",dataPath:i+"/properties/"+ot+"/editable",schemaPath:"#/definitions/properties/allOf/0/items/properties/editable/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[Tt]:a.push(Tt),s++}if(void 0!==at.choices){var Rt=at.choices;if(Array.isArray(Rt))for(var Mt=Rt.length,Dt=0;Dt<Mt;Dt++){var Nt=Rt[Dt];if(Nt&&"object"==typeof Nt&&!Array.isArray(Nt)){if(void 0===Nt.value){var Bt={keyword:"required",dataPath:i+"/properties/"+ot+"/choices/"+Dt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/required",params:{missingProperty:"value"},message:"should have required property 'value'"};null===a?a=[Bt]:a.push(Bt),s++}if(void 0===Nt.name){var Lt={keyword:"required",dataPath:i+"/properties/"+ot+"/choices/"+Dt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[Lt]:a.push(Lt),s++}if(void 0!==Nt.name&&"string"!==typeof Nt.name){var It={keyword:"type",dataPath:i+"/properties/"+ot+"/choices/"+Dt+"/name",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[It]:a.push(It),s++}if(void 0!==Nt.value&&"string"!==typeof Nt.value){var zt={keyword:"type",dataPath:i+"/properties/"+ot+"/choices/"+Dt+"/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[zt]:a.push(zt),s++}}else{var $t={keyword:"type",dataPath:i+"/properties/"+ot+"/choices/"+Dt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/type",params:{type:"object"},message:"should be object"};null===a?a=[$t]:a.push($t),s++}if(s>0){var Ft,qt={required:[]},Ut={},Vt=Object(r.a)(a);try{for(Vt.s();!(Ft=Vt.n()).done;){var Ht=Ft.value;"errorMessage"!==Ht.keyword&&!Ht.emUsed&&Ht.dataPath===i+"/properties/"+ot+"/choices/"+Dt&&Ht.keyword in qt&&0===Ht.schemaPath.indexOf("#/definitions/properties/allOf/0/items/properties/choices/items")&&/^\/[^\/]*$/.test(Ht.schemaPath.slice(63))&&(qt[Ht.keyword].push(Ht),Ht.emUsed=!0)}}catch(Kr){Vt.e(Kr)}finally{Vt.f()}for(var Wt in qt)if(qt[Wt].length){var Gt={keyword:"errorMessage",dataPath:i+"/properties/"+ot+"/choices/"+Dt,schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/items/errorMessage",params:{errors:qt[Wt]},message:Wt in Ut?Ut[Wt]():L.allOf[0].items.properties.choices.items.errorMessage[Wt]};null===a?a=[Gt]:a.push(Gt),s++}var Kt,Yt=[],Xt=Object(r.a)(a);try{for(Xt.s();!(Kt=Xt.n()).done;){var Qt=Kt.value;Qt.emUsed||Yt.push(Qt)}}catch(Kr){Xt.e(Kr)}finally{Xt.f()}a=Yt,s=Yt.length}}else{var Jt={keyword:"type",dataPath:i+"/properties/"+ot+"/choices",schemaPath:"#/definitions/properties/allOf/0/items/properties/choices/type",params:{type:"array"},message:"should be array"};null===a?a=[Jt]:a.push(Jt),s++}}if(void 0!==at.constraints){var Zt=at.constraints;if(Zt&&"object"==typeof Zt&&!Array.isArray(Zt)){if(void 0!==Zt.notEmpty&&"boolean"!==typeof Zt.notEmpty){var en={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/notEmpty",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/notEmpty/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[en]:a.push(en),s++}if(void 0!==Zt.minLength&&"number"!=typeof Zt.minLength){var tn={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/minLength",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/minLength/type",params:{type:"number"},message:"should be number"};null===a?a=[tn]:a.push(tn),s++}if(void 0!==Zt.maxLength&&"number"!=typeof Zt.maxLength){var nn={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/maxLength",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/maxLength/type",params:{type:"number"},message:"should be number"};null===a?a=[nn]:a.push(nn),s++}if(void 0!==Zt.pattern){var rn=Zt.pattern,on=s,an=!1,sn=null,pn=s;if(rn&&"object"==typeof rn&&!Array.isArray(rn)){if(void 0!==rn.value&&"string"!==typeof rn.value){var cn={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/pattern/value",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/value/type",params:{type:"string"},message:"should be string"};null===a?a=[cn]:a.push(cn),s++}if(void 0!==rn.message&&"string"!==typeof rn.message){var ln={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/pattern/message",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/properties/message/type",params:{type:"string"},message:"should be string"};null===a?a=[ln]:a.push(ln),s++}}else{var un={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/0/type",params:{type:"object"},message:"should be object"};null===a?a=[un]:a.push(un),s++}(dn=pn===s)&&(an=!0,sn=0);var dn,fn=s;if("string"!==typeof rn){var hn={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf/1/type",params:{type:"string"},message:"should be string"};null===a?a=[hn]:a.push(hn),s++}if((dn=fn===s)&&an?(an=!1,sn=[sn,1]):dn&&(an=!0,sn=1),an)s=on,null!==a&&(on?a.length=on:a=null);else{var mn={keyword:"oneOf",dataPath:i+"/properties/"+ot+"/constraints/pattern",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/properties/pattern/oneOf",params:{passingSchemas:sn},message:"should match exactly one schema in oneOf"};null===a?a=[mn]:a.push(mn),s++}}}else{var yn={keyword:"type",dataPath:i+"/properties/"+ot+"/constraints",schemaPath:"#/definitions/properties/allOf/0/items/properties/constraints/type",params:{type:"object"},message:"should be object"};null===a?a=[yn]:a.push(yn),s++}}if(void 0!==at.group&&"string"!==typeof at.group){var vn={keyword:"type",dataPath:i+"/properties/"+ot+"/group",schemaPath:"#/definitions/properties/allOf/0/items/properties/group/type",params:{type:"string"},message:"should be string"};null===a?a=[vn]:a.push(vn),s++}if(void 0!==at.condition){var gn=at.condition,bn=s,xn=!1,wn=null,En=s;if(gn&&"object"==typeof gn&&!Array.isArray(gn)){if(void 0===gn.equals){var On={keyword:"required",dataPath:i+"/properties/"+ot+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/0/required",params:{missingProperty:"equals"},message:"should have required property 'equals'"};null===a?a=[On]:a.push(On),s++}if(void 0!==gn.equals){var _n=gn.equals;if("string"!==typeof _n&&"number"!=typeof _n&&"boolean"!==typeof _n){var Pn={keyword:"type",dataPath:i+"/properties/"+ot+"/condition/equals",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/0/properties/equals/type",params:{type:L.allOf[0].items.properties.condition.oneOf[0].properties.equals.type},message:"should be string,number,boolean"};null===a?a=[Pn]:a.push(Pn),s++}}}(jn=En===s)&&(xn=!0,wn=0);var jn,Sn=s;if(gn&&"object"==typeof gn&&!Array.isArray(gn)){if(void 0===gn.oneOf){var kn={keyword:"required",dataPath:i+"/properties/"+ot+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/required",params:{missingProperty:"oneOf"},message:"should have required property 'oneOf'"};null===a?a=[kn]:a.push(kn),s++}if(void 0!==gn.oneOf){var An=gn.oneOf;if(Array.isArray(An))for(var Cn=An.length,Tn=0;Tn<Cn;Tn++){var Rn=An[Tn];if("string"!==typeof Rn&&"number"!=typeof Rn){var Mn={keyword:"type",dataPath:i+"/properties/"+ot+"/condition/oneOf/"+Tn,schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/properties/oneOf/items/type",params:{type:L.allOf[0].items.properties.condition.oneOf[1].properties.oneOf.items.type},message:"should be string,number"};null===a?a=[Mn]:a.push(Mn),s++}}else{var Dn={keyword:"type",dataPath:i+"/properties/"+ot+"/condition/oneOf",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf/1/properties/oneOf/type",params:{type:"array"},message:"should be array"};null===a?a=[Dn]:a.push(Dn),s++}}}if((jn=Sn===s)&&xn?(xn=!1,wn=[wn,1]):jn&&(xn=!0,wn=1),xn)s=bn,null!==a&&(bn?a.length=bn:a=null);else{var Nn={keyword:"oneOf",dataPath:i+"/properties/"+ot+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/oneOf",params:{passingSchemas:wn},message:"should match exactly one schema in oneOf"};null===a?a=[Nn]:a.push(Nn),s++}if(gn&&"object"==typeof gn&&!Array.isArray(gn)){if(void 0===gn.property){var Bn={keyword:"required",dataPath:i+"/properties/"+ot+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/required",params:{missingProperty:"property"},message:"should have required property 'property'"};null===a?a=[Bn]:a.push(Bn),s++}if(void 0!==gn.type&&!o(gn.type,"simple")){var Ln={keyword:"const",dataPath:i+"/properties/"+ot+"/condition/type",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/properties/type/const",params:{allowedValue:"simple"},message:"should be equal to constant"};null===a?a=[Ln]:a.push(Ln),s++}if(void 0!==gn.property&&"string"!==typeof gn.property){var In={keyword:"type",dataPath:i+"/properties/"+ot+"/condition/property",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/properties/property/type",params:{type:"string"},message:"should be string"};null===a?a=[In]:a.push(In),s++}}else{var zn={keyword:"type",dataPath:i+"/properties/"+ot+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/type",params:{type:"object"},message:"should be object"};null===a?a=[zn]:a.push(zn),s++}if(s>0){var $n,Fn={required:{property:[]}},qn={required:{}},Un=void 0,Vn=void 0,Hn=Object(r.a)(a);try{for(Hn.s();!($n=Hn.n()).done;){var Wn=$n.value;"errorMessage"!==Wn.keyword&&!Wn.emUsed&&Wn.dataPath===i+"/properties/"+ot+"/condition"&&Wn.keyword in Fn&&0===Wn.schemaPath.indexOf("#/definitions/properties/allOf/0/items/properties/condition")&&/^\/[^\/]*$/.test(Wn.schemaPath.slice(59))&&(Un=F[Wn.keyword],(Vn=Fn[Wn.keyword][Wn.params[Un]])&&(Vn.push(Wn),Wn.emUsed=!0))}}catch(Kr){Hn.e(Kr)}finally{Hn.f()}for(var Gn in Fn)for(var Kn in Fn[Gn])if((Vn=Fn[Gn][Kn]).length){var Yn=qn[Gn]&&qn[Gn][Kn],Xn={keyword:"errorMessage",dataPath:i+"/properties/"+ot+"/condition",schemaPath:"#/definitions/properties/allOf/0/items/properties/condition/errorMessage",params:{errors:Vn},message:Yn?Yn():L.allOf[0].items.properties.condition.errorMessage[Gn][Kn]};null===a?a=[Xn]:a.push(Xn),s++}var Qn,Jn=[],Zn=Object(r.a)(a);try{for(Zn.s();!(Qn=Zn.n()).done;){var er=Qn.value;er.emUsed||Jn.push(er)}}catch(Kr){Zn.e(Kr)}finally{Zn.f()}a=Jn,s=Jn.length}}}else{var tr={keyword:"type",dataPath:i+"/properties/"+ot,schemaPath:"#/definitions/properties/allOf/0/items/type",params:{type:"object"},message:"should be object"};null===a?a=[tr]:a.push(tr),s++}}else{var nr={keyword:"type",dataPath:i+"/properties",schemaPath:"#/definitions/properties/allOf/0/type",params:{type:"array"},message:"should be array"};null===a?a=[nr]:a.push(nr),s++}if(Array.isArray(rt))for(var rr=rt.length,ir=function(e){var t=rt[e],n=s,p=!0,c=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.binding){var l={};null===a?a=[l]:a.push(l),s++}else if(void 0!==t.binding){var u=t.binding;if(u&&"object"==typeof u&&!Array.isArray(u))if(void 0===u.type){var d={};null===a?a=[d]:a.push(d),s++}else if(void 0!==u.type&&!o(u.type,"property")){var f={};null===a?a=[f]:a.push(f),s++}}if(ar=c===s,s=n,null!==a&&(n?a.length=n:a=null),ar){var h=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.type){var m=t.type;if("String"!==m&&"Text"!==m&&"Hidden"!==m&&"Dropdown"!==m&&"Boolean"!==m){var y={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/enum",params:{allowedValues:L.allOf[1].items.allOf[0].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[y]:a.push(y),s++}if(s>0){var v,g=[],b=Object(r.a)(a);try{for(b.s();!(v=b.n()).done;){var x=v.value;"errorMessage"===x.keyword||x.emUsed||x.dataPath!==i+"/properties/"+e+"/type"&&(0!==x.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==x.dataPath[i+"/properties/"+e+"/type".length])||0!==x.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/0/then/properties/type")||"/"!==x.schemaPath["#/definitions/properties/allOf/1/items/allOf/0/then/properties/type".length]||(g.push(x),x.emUsed=!0)}}catch(Kr){b.e(Kr)}finally{b.f()}if(g.length){var w={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/then/properties/type/errorMessage",params:{errors:g},message:"invalid property type "+JSON.stringify(m)+' for binding type "property"; must be any of { String, Text, Hidden, Dropdown, Boolean }'};null===a?a=[w]:a.push(w),s++}var E,O=[],_=Object(r.a)(a);try{for(_.s();!(E=_.n()).done;){var P=E.value;P.emUsed||O.push(P)}}catch(Kr){_.e(Kr)}finally{_.f()}a=O,s=O.length}}p=ar=h===s}if(!p){var j={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[j]:a.push(j),s++}var S=s,k=!0,A=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.binding){var C={};null===a?a=[C]:a.push(C),s++}else if(void 0!==t.binding){var T=t.binding;if(T&&"object"==typeof T&&!Array.isArray(T))if(void 0===T.type){var R={};null===a?a=[R]:a.push(R),s++}else if(void 0!==T.type){var M=T.type;if("zeebe:input"!==M&&"zeebe:output"!==M&&"zeebe:taskHeader"!==M&&"zeebe:taskDefinition:type"!==M){var D={};null===a?a=[D]:a.push(D),s++}}}if(sr=A===s,s=S,null!==a&&(S?a.length=S:a=null),sr){var N=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.type){var B=t.type;if("String"!==B&&"Text"!==B&&"Hidden"!==B&&"Dropdown"!==B){var I={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/enum",params:{allowedValues:L.allOf[1].items.allOf[1].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[I]:a.push(I),s++}if(s>0){var z,$=[],q=Object(r.a)(a);try{for(q.s();!(z=q.n()).done;){var U=z.value;"errorMessage"===U.keyword||U.emUsed||U.dataPath!==i+"/properties/"+e+"/type"&&(0!==U.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==U.dataPath[i+"/properties/"+e+"/type".length])||0!==U.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/1/then/properties/type")||"/"!==U.schemaPath["#/definitions/properties/allOf/1/items/allOf/1/then/properties/type".length]||($.push(U),U.emUsed=!0)}}catch(Kr){q.e(Kr)}finally{q.f()}if($.length){var V={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/then/properties/type/errorMessage",params:{errors:$},message:"invalid property type "+JSON.stringify(B)+" for binding type "+JSON.stringify(t&&t.binding&&t.binding.type)+"; must be any of { String, Text, Hidden, Dropdown }"};null===a?a=[V]:a.push(V),s++}var H,W=[],G=Object(r.a)(a);try{for(G.s();!(H=G.n()).done;){var K=H.value;K.emUsed||W.push(K)}}catch(Kr){G.e(Kr)}finally{G.f()}a=W,s=W.length}}k=sr=N===s}if(!k){var Y={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/1/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[Y]:a.push(Y),s++}var X=s,Q=!0,J=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.optional){var Z={};null===a?a=[Z]:a.push(Z),s++}else if(void 0!==t.optional&&!o(t.optional,!0)){var ee={};null===a?a=[ee]:a.push(ee),s++}if(pr=J===s,s=X,null!==a&&(X?a.length=X:a=null),pr){var te=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.binding){var ne=t.binding;if(ne&&"object"==typeof ne&&!Array.isArray(ne)){if(void 0===ne.type){var re={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/binding/required",params:{missingProperty:"type"},message:"should have required property 'type'"};null===a?a=[re]:a.push(re),s++}if(void 0!==ne.type){var ie=ne.type;if("zeebe:input"!==ie&&"zeebe:output"!==ie){var oe={keyword:"enum",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/binding/properties/type/enum",params:{allowedValues:L.allOf[1].items.allOf[2].then.properties.binding.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[oe]:a.push(oe),s++}if(s>0){var ae,se=[],pe=Object(r.a)(a);try{for(pe.s();!(ae=pe.n()).done;){var ce=ae.value;"errorMessage"===ce.keyword||ce.emUsed||ce.dataPath!==i+"/properties/"+e+"/binding/type"&&(0!==ce.dataPath.indexOf(i+"/properties/"+e+"/binding/type")||"/"!==ce.dataPath[i+"/properties/"+e+"/binding/type".length])||0!==ce.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/2/then/properties/binding/properties/type")||"/"!==ce.schemaPath["#/definitions/properties/allOf/1/items/allOf/2/then/properties/binding/properties/type".length]||(se.push(ce),ce.emUsed=!0)}}catch(Kr){pe.e(Kr)}finally{pe.f()}if(se.length){var le={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/then/properties/binding/properties/type/errorMessage",params:{errors:se},message:"optional is not supported for binding type "+JSON.stringify(ie)+"; must be any of { zeebe:input, zeebe:output }"};null===a?a=[le]:a.push(le),s++}var ue,de=[],fe=Object(r.a)(a);try{for(fe.s();!(ue=fe.n()).done;){var he=ue.value;he.emUsed||de.push(he)}}catch(Kr){fe.e(Kr)}finally{fe.f()}a=de,s=de.length}}}}Q=pr=te===s}if(!Q){var me={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/2/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[me]:a.push(me),s++}var ye=s,ve=!0,ge=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.optional){var be={};null===a?a=[be]:a.push(be),s++}else if(void 0!==t.optional&&!o(t.optional,!0)){var xe={};null===a?a=[xe]:a.push(xe),s++}if(cr=ge===s,s=ye,null!==a&&(ye?a.length=ye:a=null),cr){var we=s;if(t&&"object"==typeof t&&!Array.isArray(t)&&void 0!==t.constraints){var Ee=t.constraints;if(Ee&&"object"==typeof Ee&&!Array.isArray(Ee)){if(void 0===Ee.notEmpty){var Oe={keyword:"required",dataPath:i+"/properties/"+e+"/constraints",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/constraints/required",params:{missingProperty:"notEmpty"},message:"should have required property 'notEmpty'"};null===a?a=[Oe]:a.push(Oe),s++}if(void 0!==Ee.notEmpty){if(!o(Ee.notEmpty,!1)){var _e={keyword:"const",dataPath:i+"/properties/"+e+"/constraints/notEmpty",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty/const",params:{allowedValue:!1},message:"should be equal to constant"};null===a?a=[_e]:a.push(_e),s++}if(s>0){var Pe,je=[],Se=Object(r.a)(a);try{for(Se.s();!(Pe=Se.n()).done;){var ke=Pe.value;"errorMessage"===ke.keyword||ke.emUsed||ke.dataPath!==i+"/properties/"+e+"/constraints/notEmpty"&&(0!==ke.dataPath.indexOf(i+"/properties/"+e+"/constraints/notEmpty")||"/"!==ke.dataPath[i+"/properties/"+e+"/constraints/notEmpty".length])||0!==ke.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty")||"/"!==ke.schemaPath["#/definitions/properties/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty".length]||(je.push(ke),ke.emUsed=!0)}}catch(Kr){Se.e(Kr)}finally{Se.f()}if(je.length){var Ae={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/constraints/notEmpty",schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/then/properties/constraints/properties/notEmpty/errorMessage",params:{errors:je},message:'optional is not allowed for truthy "notEmpty" constraint'};null===a?a=[Ae]:a.push(Ae),s++}var Ce,Te=[],Re=Object(r.a)(a);try{for(Re.s();!(Ce=Re.n()).done;){var Me=Ce.value;Me.emUsed||Te.push(Me)}}catch(Kr){Re.e(Kr)}finally{Re.f()}a=Te,s=Te.length}}}}ve=cr=we===s}if(!ve){var De={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/3/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[De]:a.push(De),s++}var Ne=s,Be=!0,Le=s;if(t&&"object"==typeof t&&!Array.isArray(t))if(void 0===t.feel){var Ie={};null===a?a=[Ie]:a.push(Ie),s++}else if(void 0!==t.feel){var ze=s,$e=s;if(!o(t.feel,L.allOf[1].items.allOf[4].if.properties.feel.not.const)){var Fe={};null===a?a=[Fe]:a.push(Fe),s++}if($e===s){var qe={};null===a?a=[qe]:a.push(qe),s++}else s=ze,null!==a&&(ze?a.length=ze:a=null)}if(lr=Le===s,s=Ne,null!==a&&(Ne?a.length=Ne:a=null),lr){var Ue=s;if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.type){var Ve={keyword:"required",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/4/then/required",params:{missingProperty:"type"},message:"should have required property 'type'"};null===a?a=[Ve]:a.push(Ve),s++}if(void 0!==t.type){var He=t.type;if("String"!==He&&"Text"!==He){var We={keyword:"enum",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/4/then/properties/type/enum",params:{allowedValues:L.allOf[1].items.allOf[4].then.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[We]:a.push(We),s++}if(s>0){var Ge,Ke=[],Ye=Object(r.a)(a);try{for(Ye.s();!(Ge=Ye.n()).done;){var Xe=Ge.value;"errorMessage"===Xe.keyword||Xe.emUsed||Xe.dataPath!==i+"/properties/"+e+"/type"&&(0!==Xe.dataPath.indexOf(i+"/properties/"+e+"/type")||"/"!==Xe.dataPath[i+"/properties/"+e+"/type".length])||0!==Xe.schemaPath.indexOf("#/definitions/properties/allOf/1/items/allOf/4/then/properties/type")||"/"!==Xe.schemaPath["#/definitions/properties/allOf/1/items/allOf/4/then/properties/type".length]||(Ke.push(Xe),Xe.emUsed=!0)}}catch(Kr){Ye.e(Kr)}finally{Ye.f()}if(Ke.length){var Qe={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/type",schemaPath:"#/definitions/properties/allOf/1/items/allOf/4/then/properties/type/errorMessage",params:{errors:Ke},message:'feel is only supported for "String" and "Text" type'};null===a?a=[Qe]:a.push(Qe),s++}var Je,Ze=[],et=Object(r.a)(a);try{for(et.s();!(Je=et.n()).done;){var tt=Je.value;tt.emUsed||Ze.push(tt)}}catch(Kr){et.e(Kr)}finally{et.f()}a=Ze,s=Ze.length}}}Be=lr=Ue===s}if(!Be){var nt={keyword:"if",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/allOf/4/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[nt]:a.push(nt),s++}if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.binding){var it={keyword:"required",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/required",params:{missingProperty:"binding"},message:"should have required property 'binding'"};null===a?a=[it]:a.push(it),s++}if(void 0!==t.binding){var ot=t.binding,at=s,st=!0,pt=s;if(ot&&"object"==typeof ot&&!Array.isArray(ot))if(void 0===ot.type){var ct={};null===a?a=[ct]:a.push(ct),s++}else if(void 0!==ot.type){var lt=ot.type;if("property"!==lt&&"zeebe:input"!==lt){var ut={};null===a?a=[ut]:a.push(ut),s++}}if(ur=pt===s,s=at,null!==a&&(at?a.length=at:a=null),ur){var dt=s;if(ot&&"object"==typeof ot&&!Array.isArray(ot)&&void 0===ot.name){var ft={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/required",params:{missingProperty:"name"},message:"should have required property 'name'"};null===a?a=[ft]:a.push(ft),s++}if(s>0){var ht,mt=[],yt=Object(r.a)(a);try{for(yt.s();!(ht=yt.n()).done;){var vt=ht.value;"errorMessage"===vt.keyword||vt.emUsed||vt.dataPath!==i+"/properties/"+e+"/binding"&&(0!==vt.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==vt.dataPath[i+"/properties/"+e+"/binding".length])||0!==vt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then")||"/"!==vt.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then".length]||(mt.push(vt),vt.emUsed=!0)}}catch(Kr){yt.e(Kr)}finally{yt.f()}if(mt.length){var gt={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/then/errorMessage",params:{errors:mt},message:"property.binding "+JSON.stringify(ot&&ot.type)+" requires name"};null===a?a=[gt]:a.push(gt),s++}var bt,xt=[],wt=Object(r.a)(a);try{for(wt.s();!(bt=wt.n()).done;){var Et=bt.value;Et.emUsed||xt.push(Et)}}catch(Kr){wt.e(Kr)}finally{wt.f()}a=xt,s=xt.length}st=ur=dt===s}if(!st){var Ot={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/0/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[Ot]:a.push(Ot),s++}var _t=s,Pt=!0,jt=s;if(ot&&"object"==typeof ot&&!Array.isArray(ot))if(void 0===ot.type){var St={};null===a?a=[St]:a.push(St),s++}else if(void 0!==ot.type&&!o(ot.type,"zeebe:output")){var kt={};null===a?a=[kt]:a.push(kt),s++}if(dr=jt===s,s=_t,null!==a&&(_t?a.length=_t:a=null),dr){var At=s;if(ot&&"object"==typeof ot&&!Array.isArray(ot)&&void 0===ot.source){var Ct={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/required",params:{missingProperty:"source"},message:"should have required property 'source'"};null===a?a=[Ct]:a.push(Ct),s++}if(s>0){var Tt,Rt=[],Mt=Object(r.a)(a);try{for(Mt.s();!(Tt=Mt.n()).done;){var Dt=Tt.value;"errorMessage"===Dt.keyword||Dt.emUsed||Dt.dataPath!==i+"/properties/"+e+"/binding"&&(0!==Dt.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==Dt.dataPath[i+"/properties/"+e+"/binding".length])||0!==Dt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then")||"/"!==Dt.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then".length]||(Rt.push(Dt),Dt.emUsed=!0)}}catch(Kr){Mt.e(Kr)}finally{Mt.f()}if(Rt.length){var Nt={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/then/errorMessage",params:{errors:Rt},message:"property.binding "+JSON.stringify(ot&&ot.type)+" requires source"};null===a?a=[Nt]:a.push(Nt),s++}var Bt,Lt=[],It=Object(r.a)(a);try{for(It.s();!(Bt=It.n()).done;){var zt=Bt.value;zt.emUsed||Lt.push(zt)}}catch(Kr){It.e(Kr)}finally{It.f()}a=Lt,s=Lt.length}Pt=dr=At===s}if(!Pt){var $t={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/1/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[$t]:a.push($t),s++}var Ft=s,qt=!0,Ut=s;if(ot&&"object"==typeof ot&&!Array.isArray(ot))if(void 0===ot.type){var Vt={};null===a?a=[Vt]:a.push(Vt),s++}else if(void 0!==ot.type&&!o(ot.type,"zeebe:taskHeader")){var Ht={};null===a?a=[Ht]:a.push(Ht),s++}if(fr=Ut===s,s=Ft,null!==a&&(Ft?a.length=Ft:a=null),fr){var Wt=s;if(ot&&"object"==typeof ot&&!Array.isArray(ot)&&void 0===ot.key){var Gt={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/required",params:{missingProperty:"key"},message:"should have required property 'key'"};null===a?a=[Gt]:a.push(Gt),s++}if(s>0){var Kt,Yt=[],Xt=Object(r.a)(a);try{for(Xt.s();!(Kt=Xt.n()).done;){var Qt=Kt.value;"errorMessage"===Qt.keyword||Qt.emUsed||Qt.dataPath!==i+"/properties/"+e+"/binding"&&(0!==Qt.dataPath.indexOf(i+"/properties/"+e+"/binding")||"/"!==Qt.dataPath[i+"/properties/"+e+"/binding".length])||0!==Qt.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then")||"/"!==Qt.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then".length]||(Yt.push(Qt),Qt.emUsed=!0)}}catch(Kr){Xt.e(Kr)}finally{Xt.f()}if(Yt.length){var Jt={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/then/errorMessage",params:{errors:Yt},message:"property.binding "+JSON.stringify(ot&&ot.type)+" requires key"};null===a?a=[Jt]:a.push(Jt),s++}var Zt,en=[],tn=Object(r.a)(a);try{for(tn.s();!(Zt=tn.n()).done;){var nn=Zt.value;nn.emUsed||en.push(nn)}}catch(Kr){tn.e(Kr)}finally{tn.f()}a=en,s=en.length}qt=fr=Wt===s}if(!qt){var rn={keyword:"if",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/allOf/2/if",params:{failingKeyword:"then"},message:'should match "then" schema'};null===a?a=[rn]:a.push(rn),s++}if(ot&&"object"==typeof ot&&!Array.isArray(ot)){if(void 0===ot.type){var on={keyword:"required",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/required",params:{missingProperty:"type"},message:"should have required property 'type'"};null===a?a=[on]:a.push(on),s++}if(void 0!==ot.type){var an=ot.type;if("string"!==typeof an){var sn={keyword:"type",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/type",params:{type:"string"},message:"should be string"};null===a?a=[sn]:a.push(sn),s++}if("property"!==an&&"zeebe:taskDefinition:type"!==an&&"zeebe:input"!==an&&"zeebe:output"!==an&&"zeebe:taskHeader"!==an){var pn={keyword:"enum",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/enum",params:{allowedValues:L.allOf[1].items.properties.binding.properties.type.enum},message:"should be equal to one of the allowed values"};null===a?a=[pn]:a.push(pn),s++}if(s>0){var cn,ln=[],un=Object(r.a)(a);try{for(un.s();!(cn=un.n()).done;){var dn=cn.value;"errorMessage"===dn.keyword||dn.emUsed||dn.dataPath!==i+"/properties/"+e+"/binding/type"&&(0!==dn.dataPath.indexOf(i+"/properties/"+e+"/binding/type")||"/"!==dn.dataPath[i+"/properties/"+e+"/binding/type".length])||0!==dn.schemaPath.indexOf("#/definitions/properties/allOf/1/items/properties/binding/properties/type")||"/"!==dn.schemaPath["#/definitions/properties/allOf/1/items/properties/binding/properties/type".length]||(ln.push(dn),dn.emUsed=!0)}}catch(Kr){un.e(Kr)}finally{un.f()}if(ln.length){var fn={keyword:"errorMessage",dataPath:i+"/properties/"+e+"/binding/type",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/type/errorMessage",params:{errors:ln},message:"invalid property.binding type "+JSON.stringify(an)+"; must be any of { property, zeebe:taskDefinition:type, zeebe:input, zeebe:output, zeebe:taskHeader }"};null===a?a=[fn]:a.push(fn),s++}var hn,mn=[],yn=Object(r.a)(a);try{for(yn.s();!(hn=yn.n()).done;){var vn=hn.value;vn.emUsed||mn.push(vn)}}catch(Kr){yn.e(Kr)}finally{yn.f()}a=mn,s=mn.length}}if(void 0!==ot.name&&"string"!==typeof ot.name){var gn={keyword:"type",dataPath:i+"/properties/"+e+"/binding/name",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/name/type",params:{type:"string"},message:"should be string"};null===a?a=[gn]:a.push(gn),s++}if(void 0!==ot.source&&"string"!==typeof ot.source){var bn={keyword:"type",dataPath:i+"/properties/"+e+"/binding/source",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/source/type",params:{type:"string"},message:"should be string"};null===a?a=[bn]:a.push(bn),s++}if(void 0!==ot.key&&"string"!==typeof ot.key){var xn={keyword:"type",dataPath:i+"/properties/"+e+"/binding/key",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/properties/key/type",params:{type:"string"},message:"should be string"};null===a?a=[xn]:a.push(xn),s++}}else{var wn={keyword:"type",dataPath:i+"/properties/"+e+"/binding",schemaPath:"#/definitions/properties/allOf/1/items/properties/binding/type",params:{type:"object"},message:"should be object"};null===a?a=[wn]:a.push(wn),s++}}if(void 0!==t.optional&&"boolean"!==typeof t.optional){var En={keyword:"type",dataPath:i+"/properties/"+e+"/optional",schemaPath:"#/definitions/properties/allOf/1/items/properties/optional/type",params:{type:"boolean"},message:"should be boolean"};null===a?a=[En]:a.push(En),s++}if(void 0!==t.feel){var On=t.feel;if("string"!==typeof On){var _n={keyword:"type",dataPath:i+"/properties/"+e+"/feel",schemaPath:"#/definitions/properties/allOf/1/items/properties/feel/type",params:{type:"string"},message:"should be string"};null===a?a=[_n]:a.push(_n),s++}if(null!==On&&"optional"!==On&&"required"!==On){var Pn={keyword:"enum",dataPath:i+"/properties/"+e+"/feel",schemaPath:"#/definitions/properties/allOf/1/items/properties/feel/enum",params:{allowedValues:L.allOf[1].items.properties.feel.enum},message:"should be equal to one of the allowed values"};null===a?a=[Pn]:a.push(Pn),s++}}}else{var jn={keyword:"type",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/type",params:{type:"object"},message:"should be object"};null===a?a=[jn]:a.push(jn),s++}if(s>0){var Sn,kn,An,Cn={required:{binding:[]}},Tn={required:{binding:function(){return'missing binding for property "'+JSON.stringify(e)+'"'}}},Rn=Object(r.a)(a);try{for(Rn.s();!(An=Rn.n()).done;){var Mn=An.value;"errorMessage"!==Mn.keyword&&!Mn.emUsed&&Mn.dataPath===i+"/properties/"+e&&Mn.keyword in Cn&&0===Mn.schemaPath.indexOf("#/definitions/properties/allOf/1/items")&&/^\/[^\/]*$/.test(Mn.schemaPath.slice(38))&&(Sn=F[Mn.keyword],(kn=Cn[Mn.keyword][Mn.params[Sn]])&&(kn.push(Mn),Mn.emUsed=!0))}}catch(Kr){Rn.e(Kr)}finally{Rn.f()}for(var Dn in Cn)for(var Nn in Cn[Dn])if((kn=Cn[Dn][Nn]).length){var Bn=Tn[Dn]&&Tn[Dn][Nn],Ln={keyword:"errorMessage",dataPath:i+"/properties/"+e,schemaPath:"#/definitions/properties/allOf/1/items/errorMessage",params:{errors:kn},message:Bn?Bn():L.allOf[1].items.errorMessage[Dn][Nn]};null===a?a=[Ln]:a.push(Ln),s++}var In,zn=[],$n=Object(r.a)(a);try{for($n.s();!(In=$n.n()).done;){var Fn=In.value;Fn.emUsed||zn.push(Fn)}}catch(Kr){$n.e(Kr)}finally{$n.f()}a=zn,s=zn.length}},or=0;or<rr;or++){var ar,sr,pr,cr,lr,ur,dr,fr;ir(or)}else{var hr={keyword:"type",dataPath:i+"/properties",schemaPath:"#/definitions/properties/allOf/1/type",params:{type:"array"},message:"should be array"};null===a?a=[hr]:a.push(hr),s++}}if(void 0!==e.icon){var mr=e.icon;if(mr&&"object"==typeof mr&&!Array.isArray(mr)){if(void 0===mr.contents){var yr={keyword:"required",dataPath:i+"/icon",schemaPath:"#/properties/icon/required",params:{missingProperty:"contents"},message:"should have required property 'contents'"};null===a?a=[yr]:a.push(yr),s++}if(void 0!==mr.contents){var vr=mr.contents;if("string"===typeof vr){if(!$.test(vr)){var gr={keyword:"pattern",dataPath:i+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/pattern",params:{pattern:"^(https?|data):.*"},message:'should match pattern "^(https?|data):.*"'};null===a?a=[gr]:a.push(gr),s++}}else{var br={keyword:"type",dataPath:i+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/type",params:{type:"string"},message:"should be string"};null===a?a=[br]:a.push(br),s++}if(s>0){var xr,wr={pattern:[]},Er={},Or=Object(r.a)(a);try{for(Or.s();!(xr=Or.n()).done;){var _r=xr.value;"errorMessage"!==_r.keyword&&!_r.emUsed&&_r.dataPath===i+"/icon/contents"&&_r.keyword in wr&&0===_r.schemaPath.indexOf("#/properties/icon/properties/contents")&&/^\/[^\/]*$/.test(_r.schemaPath.slice(37))&&(wr[_r.keyword].push(_r),_r.emUsed=!0)}}catch(Kr){Or.e(Kr)}finally{Or.f()}for(var Pr in wr)if(wr[Pr].length){var jr={keyword:"errorMessage",dataPath:i+"/icon/contents",schemaPath:"#/properties/icon/properties/contents/errorMessage",params:{errors:wr[Pr]},message:Pr in Er?Er[Pr]():B.properties.icon.properties.contents.errorMessage[Pr]};null===a?a=[jr]:a.push(jr),s++}var Sr,kr=[],Ar=Object(r.a)(a);try{for(Ar.s();!(Sr=Ar.n()).done;){var Cr=Sr.value;Cr.emUsed||kr.push(Cr)}}catch(Kr){Ar.e(Kr)}finally{Ar.f()}a=kr,s=kr.length}}}else{var Tr={keyword:"type",dataPath:i+"/icon",schemaPath:"#/properties/icon/type",params:{type:"object"},message:"should be object"};null===a?a=[Tr]:a.push(Tr),s++}if(s>0){var Rr,Mr,Dr,Nr={required:{contents:[]}},Br={required:{}},Lr=Object(r.a)(a);try{for(Lr.s();!(Dr=Lr.n()).done;){var Ir=Dr.value;"errorMessage"!==Ir.keyword&&!Ir.emUsed&&Ir.dataPath===i+"/icon"&&Ir.keyword in Nr&&0===Ir.schemaPath.indexOf("#/properties/icon")&&/^\/[^\/]*$/.test(Ir.schemaPath.slice(17))&&(Rr=F[Ir.keyword],(Mr=Nr[Ir.keyword][Ir.params[Rr]])&&(Mr.push(Ir),Ir.emUsed=!0))}}catch(Kr){Lr.e(Kr)}finally{Lr.f()}for(var zr in Nr)for(var $r in Nr[zr])if((Mr=Nr[zr][$r]).length){var Fr=Br[zr]&&Br[zr][$r],qr={keyword:"errorMessage",dataPath:i+"/icon",schemaPath:"#/properties/icon/errorMessage",params:{errors:Mr},message:Fr?Fr():B.properties.icon.errorMessage[zr][$r]};null===a?a=[qr]:a.push(qr),s++}var Ur,Vr=[],Hr=Object(r.a)(a);try{for(Hr.s();!(Ur=Hr.n()).done;){var Wr=Ur.value;Wr.emUsed||Vr.push(Wr)}}catch(Kr){Hr.e(Kr)}finally{Hr.f()}a=Vr,s=Vr.length}}}else{var Gr={keyword:"type",dataPath:i,schemaPath:"#/type",params:{type:"object"},message:"should be object"};null===a?a=[Gr]:a.push(Gr),s++}return q.errors=a,0===s}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dataPath,r=void 0===n?"":n,i=t.parentData,o=t.parentDataProperty,a=t.rootData,s=void 0===a?e:a,p=null,c=0,l=c,u=!1,d=null,f=c;q(e,{dataPath:r,parentData:i,parentDataProperty:o,rootData:s})||(c=(p=null===p?q.errors:p.concat(q.errors)).length),(h=f===c)&&(u=!0,d=0);var h,m=c;if(Array.isArray(e))for(var y=e.length,v=0;v<y;v++)q(e[v],{dataPath:r+"/"+v,parentData:e,parentDataProperty:v,rootData:s})||(c=(p=null===p?q.errors:p.concat(q.errors)).length);else{var g={keyword:"type",dataPath:r,schemaPath:"#/oneOf/1/type",params:{type:"array"},message:"should be array"};null===p?p=[g]:p.push(g),c++}if((h=m===c)&&u?(u=!1,d=[d,1]):h&&(u=!0,d=1),u)c=l,null!==p&&(l?p.length=l:p=null);else{var b={keyword:"oneOf",dataPath:r,schemaPath:"#/oneOf",params:{passingSchemas:d},message:"should match exactly one schema in oneOf"};null===p?p=[b]:p.push(b),c++}return U.errors=p,0===c}function V(){return"@camunda/zeebe-element-templates-json-schema"}function H(){return"0.5.0"}function W(e){return C(e,D)}D.default=N},function(e,t,n){e.exports=n(106),e.exports.Collection=n(63)},function(e,t,n){(function(t){var n;n="undefined"!=typeof t?t:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;)0!=(t=n.charCodeAt(i))?o+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==i&&1==r&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(i):n.charAt(i):o+="\ufffd";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(n)}).call(this,n(107))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(1);n(5);function i(e,t){return!Object(r.c)(e,"bpmn:CallActivity")&&(Object(r.c)(e,"bpmn:SubProcess")?!(!(t=t||Object(r.b)(e))||!Object(r.c)(t,"bpmndi:BPMNPlane"))||t&&!!t.isExpanded:!Object(r.c)(e,"bpmn:Participant")||!!Object(r.a)(e).processRef)}function o(e){return e&&!1!==Object(r.a)(e).isInterrupting}function a(e){return e&&!!Object(r.a)(e).triggeredByEvent}},function(e,t,n){var r=n(85),i=n(86),o=n(54),a=n(87);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(15),i=r.is,o=r.isAny,a=n(55).getPath,s=n(21),p=s.findExtensionElement,c=s.getEventDefinition,l=s.hasProperties,u=s.hasExtensionElementOfType,d=s.hasExtensionElementsOfTypes,f=n(25).reportErrors,h=n(27).ERROR_TYPES;e.exports=function(e){var t=e.elementsCalledDecision,n=void 0===t?[]:t,r=e.elementsTaskDefinition,s=void 0===r?[]:r;return{check:function(e,t){if((o(e,n)||o(e,s))&&(!i(e,"bpmn:ThrowEvent")||c(e))){var r,m=p(e,"zeebe:CalledDecision"),y=p(e,"zeebe:TaskDefinition");if(m&&!y){if(!o(e,n))return void f(e,t,{message:"Extension element of type <zeebe:CalledDecision> not allowed",path:a(m,e),error:{type:h.EXTENSION_ELEMENT_NOT_ALLOWED,node:e,parentNode:null,extensionElement:m}});if((r=l(m,{decisionId:{required:!0},resultVariable:{required:!0}},e))&&r.length)return void f(e,t,r)}if(!m&&y){if(!o(e,s))return void f(e,t,{message:"Extension element of type <zeebe:TaskDefinition> not allowed",path:a(y,e),error:{type:h.EXTENSION_ELEMENT_NOT_ALLOWED,node:e,parentNode:null,extensionElement:y}});(r=l(y,{type:{required:!0}},e))&&r.length&&f(e,t,r)}(r=o(e,n)&&o(e,s)?d(e,["zeebe:CalledDecision","zeebe:TaskDefinition"],e,!0):o(e,n)?u(e,"zeebe:CalledDecision",e):u(e,"zeebe:TaskDefinition",e))&&r.length&&f(e,t,r)}}}}},function(e,t,n){var r=n(15).isAny,i=n(21),o=i.isAnyExactly,a=i.getEventDefinition,s=n(27).ERROR_TYPES,p=n(25).reportErrors;e.exports=function(e){var t=e.elements,n=e.elementsNoEventDefinitionRequired,i=e.eventDefinitions;return{check:function(e,c){if(r(e,["bpmn:FlowElement","bpmn:FlowElementsContainer"]))if(o(e,t)){var l=a(e);if(!r(e,["bpmn:CatchEvent","ThrowEvent"])||l||n.includes(e.$type)){if(l&&(!i[e.$type]||!r(l,i[e.$type]))){var u={message:"Property of type <".concat(l.$type,"> not allowed"),path:["eventDefinitions",0],error:{type:s.PROPERTY_TYPE_NOT_ALLOWED,node:e,parentNode:null,property:"eventDefinitions",requiredPropertyType:i[e.$type]}};p(e,c,u)}}else{var d={message:"Element of type <".concat(e.$type,"> must have property <eventDefinitions>"),path:["eventDefinitions"],error:{type:s.PROPERTY_REQUIRED,node:e,parentNode:null,requiredProperty:"eventDefinitions"}};p(e,c,d)}}else{var f={message:"Element of type <".concat(e.$type,"> not allowed"),path:null,error:{type:s.ELEMENT_TYPE_NOT_ALLOWED,node:e,parentNode:null}};p(e,c,f)}}}}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=/,?([a-z]),?/gi,i=parseFloat,o=Math,a=o.PI,s=o.min,p=o.max,c=o.pow,l=o.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,d=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,f=Array.isArray||function(e){return e instanceof Array};function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)h(e,n)&&(t[n]=m(e[n]));return t}function y(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function v(e){var t=v.ps=v.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)h(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function g(e,t,n,r){return 1===arguments.length&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,height:r,x2:e+n,y2:t+r}}function b(){return this.join(",").replace(r,"$1")}function x(e){var t=m(e);return t.toString=b,t}function w(e,t,n,r,i,o,a,s,p){var l=1-p,u=c(l,3),d=c(l,2),f=p*p*p,h=u*t+3*d*p*r+3*l*p*p*o+f*s;return{x:S(u*e+3*d*p*n+3*l*p*p*i+f*a),y:S(h)}}function E(e){var t=D.apply(null,e);return g(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function O(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function _(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n}function P(e,t,n,r,i,a,s,p,c){null==c&&(c=1);for(var l=(c=c>1?1:c<0?0:c)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,h=0;h<12;h++){var m=l*u[h]+l,y=_(m,e,n,i,s),v=_(m,t,r,a,p),g=y*y+v*v;f+=d[h]*o.sqrt(g)}return l*f}function j(e,t,n,r,i,o,a,c){if(!(p(e,n)<s(i,a)||s(e,n)>p(i,a)||p(t,r)<s(o,c)||s(t,r)>p(o,c))){var l=(e*r-t*n)*(o-c)-(t-r)*(i*c-o*a),u=(e-n)*(o-c)-(t-r)*(i-a);if(u){var d=S(((e*r-t*n)*(i-a)-(e-n)*(i*c-o*a))/u),f=S(l/u),h=+d.toFixed(2),m=+f.toFixed(2);if(!(h<+s(e,n).toFixed(2)||h>+p(e,n).toFixed(2)||h<+s(i,a).toFixed(2)||h>+p(i,a).toFixed(2)||m<+s(t,r).toFixed(2)||m>+p(t,r).toFixed(2)||m<+s(o,c).toFixed(2)||m>+p(o,c).toFixed(2)))return{x:d,y:f}}}}function S(e){return Math.round(1e11*e)/1e11}function k(e,t,n){if(!function(e,t){return e=g(e),O(t=g(t),e.x,e.y)||O(t,e.x2,e.y)||O(t,e.x,e.y2)||O(t,e.x2,e.y2)||O(e,t.x,t.y)||O(e,t.x2,t.y)||O(e,t.x,t.y2)||O(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(E(e),E(t)))return n?0:[];for(var r=P.apply(0,e),i=P.apply(0,t),o=C(e)?1:~~(r/5)||1,a=C(t)?1:~~(i/5)||1,s=[],p=[],c={},u=n?0:[],d=0;d<o+1;d++){var f=w.apply(0,e.concat(d/o));s.push({x:f.x,y:f.y,t:d/o})}for(d=0;d<a+1;d++)f=w.apply(0,t.concat(d/a)),p.push({x:f.x,y:f.y,t:d/a});for(d=0;d<o;d++)for(var h=0;h<a;h++){var m,y=s[d],v=s[d+1],b=p[h],x=p[h+1],_=l(v.x-y.x)<.01?"y":"x",S=l(x.x-b.x)<.01?"y":"x",k=j(y.x,y.y,v.x,v.y,b.x,b.y,x.x,x.y);if(k){if(c[m=k.x.toFixed(9)+"#"+k.y.toFixed(9)])continue;c[m]=!0;var A=y.t+l((k[_]-y[_])/(v[_]-y[_]))*(v.t-y.t),T=b.t+l((k[S]-b[S])/(x[S]-b[S]))*(x.t-b.t);A>=0&&A<=1&&T>=0&&T<=1&&(n?u++:u.push({x:k.x,y:k.y,t1:A,t2:T}))}}return u}function A(e){var t=v(e);if(t.abs)return x(t.abs);if(f(e)&&f(e&&e[0])||(e=function(e){if(!e)return null;var t=v(e);if(t.arr)return m(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return f(e)&&f(e[0])&&(r=m(e)),r.length||String(e).replace(u,(function(e,t,i){var o=[],a=t.toLowerCase();for(i.replace(d,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(r.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L");o.length>=n[a]&&(r.push([t].concat(o.splice(0,n[a]))),n[a]););})),r.toString=v.toString,t.arr=m(r),r}(e)),!e||!e.length)return[["M",0,0]];var n,r=[],i=0,o=0,a=0,s=0,p=0;"M"==e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],p++,r[0]=["M",i,o]);for(var c,l,h=p,y=e.length;h<y;h++){if(r.push(c=[]),(n=(l=e[h])[0])!=n.toUpperCase())switch(c[0]=n.toUpperCase(),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+l[6]+i,c[7]=+l[7]+o;break;case"V":c[1]=+l[1]+o;break;case"H":c[1]=+l[1]+i;break;case"M":a=+l[1]+i,s=+l[2]+o;default:for(var g=1,w=l.length;g<w;g++)c[g]=+l[g]+(g%2?i:o)}else for(var E=0,O=l.length;E<O;E++)c[E]=l[E];switch(n=n.toUpperCase(),c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return r.toString=b,t.abs=x(r),r}function C(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function T(e,t,n,r){return[e,t,n,r,n,r]}function R(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]}function M(e,t,n,r,i,s,p,c,u,d){var f,m,v=120*a/180,g=a/180*(+i||0),b=[],x=(m=function(e,t,n){return{x:e*o.cos(n)-t*o.sin(n),y:e*o.sin(n)+t*o.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("\u2400"),r=e.cache=e.cache||{},i=e.count=e.count||[];return h(r,n)?(y(i,n),r[n]):(i.length>=1e3&&delete r[i.shift()],i.push(n),r[n]=m.apply(0,t),r[n])});if(d)A=d[0],C=d[1],S=d[2],k=d[3];else{e=(f=x(e,t,-g)).x,t=f.y;var w=(e-(c=(f=x(c,u,-g)).x))/2,E=(t-(u=f.y))/2,O=w*w/(n*n)+E*E/(r*r);O>1&&(n*=O=o.sqrt(O),r*=O);var _=n*n,P=r*r,j=(s==p?-1:1)*o.sqrt(l((_*P-_*E*E-P*w*w)/(_*E*E+P*w*w))),S=j*n*E/r+(e+c)/2,k=j*-r*w/n+(t+u)/2,A=o.asin(((t-k)/r).toFixed(9)),C=o.asin(((u-k)/r).toFixed(9));(A=e<S?a-A:A)<0&&(A=2*a+A),(C=c<S?a-C:C)<0&&(C=2*a+C),p&&A>C&&(A-=2*a),!p&&C>A&&(C-=2*a)}var T=C-A;if(l(T)>v){var R=C,D=c,N=u;C=A+v*(p&&C>A?1:-1),b=M(c=S+n*o.cos(C),u=k+r*o.sin(C),n,r,i,0,p,D,N,[C,R,S,k])}T=C-A;var B=o.cos(A),L=o.sin(A),I=o.cos(C),z=o.sin(C),$=o.tan(T/4),F=4/3*n*$,q=4/3*r*$,U=[e,t],V=[e+F*L,t-q*B],H=[c+F*z,u-q*I],W=[c,u];if(V[0]=2*U[0]-V[0],V[1]=2*U[1]-V[1],d)return[V,H,W].concat(b);for(var G=[],K=0,Y=(b=[V,H,W].concat(b).join().split(",")).length;K<Y;K++)G[K]=K%2?x(b[K-1],b[K],g).y:x(b[K],b[K+1],g).x;return G}function D(e,t,n,r,i,a,c,u){for(var d,f,h,m,y,v,g,b,x=[],w=[[],[]],E=0;E<2;++E)if(0==E?(f=6*e-12*n+6*i,d=-3*e+9*n-9*i+3*c,h=3*n-3*e):(f=6*t-12*r+6*a,d=-3*t+9*r-9*a+3*u,h=3*r-3*t),l(d)<1e-12){if(l(f)<1e-12)continue;0<(m=-h/f)&&m<1&&x.push(m)}else g=f*f-4*h*d,b=o.sqrt(g),g<0||(0<(y=(-f+b)/(2*d))&&y<1&&x.push(y),0<(v=(-f-b)/(2*d))&&v<1&&x.push(v));for(var O,_=x.length,P=_;_--;)O=1-(m=x[_]),w[0][_]=O*O*O*e+3*O*O*m*n+3*O*m*m*i+m*m*m*c,w[1][_]=O*O*O*t+3*O*O*m*r+3*O*m*m*a+m*m*m*u;return w[0][P]=e,w[1][P]=t,w[0][P+1]=c,w[1][P+1]=u,w[0].length=w[1].length=P+2,{x0:s.apply(0,w[0]),y0:s.apply(0,w[1]),x1:p.apply(0,w[0]),y1:p.apply(0,w[1])}}function N(e){var t=v(e);if(t.curve)return x(t.curve);for(var n=A(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(M.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(R(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(R(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(T(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(T(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(T(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(T(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();for(var r=e[t];r.length;)s[t]="A",e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),u=n.length}},s=[],p="",c="",l=0,u=n.length;l<u;l++){n[l]&&(p=n[l][0]),"C"!=p&&(s[l]=p,l&&(c=s[l-1])),n[l]=o(n[l],r,c),"A"!=s[l]&&"C"==p&&(s[l]="C"),a(n,l);var d=n[l],f=d.length;r.x=d[f-2],r.y=d[f-1],r.bx=i(d[f-4])||r.x,r.by=i(d[f-3])||r.y}return t.curve=x(n),n}e.exports=function(e,t,n){e=N(e),t=N(t);for(var r,i,o,a,s,p,c,l,u,d,f=n?0:[],h=0,m=e.length;h<m;h++){var y=e[h];if("M"==y[0])r=s=y[1],i=p=y[2];else{"C"==y[0]?(u=[r,i].concat(y.slice(1)),r=u[6],i=u[7]):(u=[r,i,r,i,s,p,s,p],r=s,i=p);for(var v=0,g=t.length;v<g;v++){var b=t[v];if("M"==b[0])o=c=b[1],a=l=b[2];else{"C"==b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,c,l,c,l],o=c,a=l);var x=k(u,d,n);if(n)f+=x;else{for(var w=0,E=x.length;w<E;w++)x[w].segment1=h,x[w].segment2=v,x[w].bez1=u,x[w].bez2=d;f=f.concat(x)}}}}}return f}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e){return Object(r.c)(e,"bpmn:FlowElement")||Object(r.c)(e,"bpmn:Participant")||Object(r.c)(e,"bpmn:Lane")||Object(r.c)(e,"bpmn:SequenceFlow")||Object(r.c)(e,"bpmn:MessageFlow")||Object(r.c)(e,"bpmn:DataInput")||Object(r.c)(e,"bpmn:DataOutput")?"name":Object(r.c)(e,"bpmn:TextAnnotation")?"text":Object(r.c)(e,"bpmn:Group")?"categoryValueRef":void 0}function o(e){var t=e.businessObject,n=i(t);if(n)return"categoryValueRef"===n?function(e){var t=e.categoryValueRef;return t&&t.value||""}(t):t[n]||""}function a(e,t,n){var r=e.businessObject,o=i(r);return o&&("categoryValueRef"===o?r.categoryValueRef.value=t:r[o]=t),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(5);function i(e){this._eventBus=e}i.$inject=["eventBus"],i.prototype.on=function(e,t,n,i,o,a){if((Object(r.m)(t)||Object(r.n)(t))&&(a=o,o=i,i=n,n=t,t=null),Object(r.m)(n)&&(a=o,o=i,i=n,n=1e3),Object(r.o)(o)&&(a=o,o=!1),!Object(r.m)(i))throw new Error("handlerFn must be a function");Object(r.k)(e)||(e=[e]);var s=this._eventBus;Object(r.g)(e,(function(e){var r=["commandStack",e,t].filter((function(e){return e})).join(".");s.on(r,n,o?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(i,a):i,a)}))};Object(r.g)(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){i.prototype[e]=function(t,n,i,o,a){(Object(r.m)(t)||Object(r.n)(t))&&(a=o,o=i,i=n,n=t,t=null),this.on(t,e,n,i,o,a)}}))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,p=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(p[l]=n[l]);if(r){s=r(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(p[s[u]]=n[s[u]])}}return p}},function(e,t,n){var r=n(88),i=n(89),o=n(54),a=n(90);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(91);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports={camundaCloud10:{elementsTaskDefinition:["bpmn:ServiceTask"]},camundaCloud11:{elementsTaskDefinition:["bpmn:BusinessRuleTask","bpmn:ServiceTask","bpmn:ScriptTask","bpmn:SendTask"]},camundaCloud12:{elementsTaskDefinition:["bpmn:BusinessRuleTask","bpmn:IntermediateThrowEvent","bpmn:ServiceTask","bpmn:ScriptTask","bpmn:SendTask"]},camundaCloud13:{elementsCalledDecision:["bpmn:BusinessRuleTask"],elementsTaskDefinition:["bpmn:BusinessRuleTask","bpmn:IntermediateThrowEvent","bpmn:ServiceTask","bpmn:ScriptTask","bpmn:SendTask"]}}},function(e,t){e.exports={camundaCloud10:{elements:["bpmn:Association","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:Collaboration","bpmn:Definitions","bpmn:EndEvent","bpmn:EventBasedGateway","bpmn:ExclusiveGateway","bpmn:Group","bpmn:IntermediateCatchEvent","bpmn:MessageFlow","bpmn:ParallelGateway","bpmn:Participant","bpmn:Process","bpmn:ReceiveTask","bpmn:SequenceFlow","bpmn:ServiceTask","bpmn:StartEvent","bpmn:SubProcess","bpmn:TextAnnotation","bpmn:UserTask"],elementsNoEventDefinitionRequired:["bpmn:EndEvent","bpmn:StartEvent"],eventDefinitions:{"bpmn:BoundaryEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:EndEvent":["bpmn:ErrorEventDefinition"],"bpmn:IntermediateCatchEvent":["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:StartEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"]}},camundaCloud11:{elements:["bpmn:Association","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:Collaboration","bpmn:Definitions","bpmn:EndEvent","bpmn:EventBasedGateway","bpmn:ExclusiveGateway","bpmn:Group","bpmn:IntermediateCatchEvent","bpmn:MessageFlow","bpmn:ParallelGateway","bpmn:Participant","bpmn:Process","bpmn:ReceiveTask","bpmn:SequenceFlow","bpmn:ServiceTask","bpmn:StartEvent","bpmn:SubProcess","bpmn:TextAnnotation","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:IntermediateThrowEvent","bpmn:ManualTask","bpmn:ScriptTask","bpmn:SendTask"],elementsNoEventDefinitionRequired:["bpmn:EndEvent","bpmn:StartEvent","bpmn:IntermediateThrowEvent"],eventDefinitions:{"bpmn:BoundaryEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:EndEvent":["bpmn:ErrorEventDefinition"],"bpmn:IntermediateCatchEvent":["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:StartEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"]}},camundaCloud12:{elements:["bpmn:Association","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:Collaboration","bpmn:Definitions","bpmn:EndEvent","bpmn:EventBasedGateway","bpmn:ExclusiveGateway","bpmn:Group","bpmn:IntermediateCatchEvent","bpmn:MessageFlow","bpmn:ParallelGateway","bpmn:Participant","bpmn:Process","bpmn:ReceiveTask","bpmn:SequenceFlow","bpmn:ServiceTask","bpmn:StartEvent","bpmn:SubProcess","bpmn:TextAnnotation","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:IntermediateThrowEvent","bpmn:ManualTask","bpmn:ScriptTask","bpmn:SendTask"],elementsNoEventDefinitionRequired:["bpmn:EndEvent","bpmn:StartEvent","bpmn:IntermediateThrowEvent"],eventDefinitions:{"bpmn:BoundaryEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:EndEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition"],"bpmn:IntermediateCatchEvent":["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:StartEvent":["bpmn:ErrorEventDefinition","bpmn:MessageEventDefinition","bpmn:TimerEventDefinition"],"bpmn:IntermediateThrowEvent":["bpmn:MessageEventDefinition"]}}}},function(e,t){e.exports=function(e,t){for(var n=e.split("."),r=t.split("."),i=0;i<3;i++){var o=Number(n[i]),a=Number(r[i]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return 0}},function(e,t,n){"use strict";t.a={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(53);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(39).default,i=n(13),o=i.isNil,a=i.isString,s=i.isUndefined;function p(e,t){for(var n=0,r=Object.values(t.$descriptor.propertiesByName);n<r.length;n++){var i=r[n];if(i.isMany){if(t.get(i.name).includes(e))return[i.name,t.get(i.name).indexOf(e)]}else if(t.get(i.name)===e)return[i.name]}return[]}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return o(e)||s(e)?null:e.join(t)}e.exports.getPath=function(e,t){if(!e)return null;if(e===t)return[];var n,i=[];do{if(!(n=e.$parent)){if(e.$instanceOf("bpmn:Definitions"))break;return null}if(i=[].concat(r(p(e,n)),r(i)),e=n,t&&e===t)break}while(n);return i},e.exports.pathConcat=function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,p=n;i<p.length;i++){var c=p[i];if(o(c)||s(c))return null;a(c)&&(c=[c]),e=e.concat(c)}return e},e.exports.pathEquals=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return!(o(e)||s(e)||o(t)||s(t))&&(a(e)||(e=c(e,n)),a(t)||(t=c(t,n)),e===t)},e.exports.pathParse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return o(e)||s(e)?null:e.split(t).map((function(e){return isNaN(e)?e:parseInt(e)}))},e.exports.pathStringify=c},function(e,t,n){var r=n(15).is,i=n(21),o=i.findExtensionElement,a=i.hasExtensionElementOfType,s=i.hasProperties,p=n(25).reportErrors;e.exports=function(){return{check:function(e,t){if(r(e,"bpmn:CallActivity")){var n=a(e,"zeebe:CalledElement",e);if(n&&n.length)p(e,t,n);else{var i=o(e,"zeebe:CalledElement");(n=s(i,{processId:{required:!0}},e))&&n.length&&p(e,t,n)}}}}}},function(e,t,n){var r=n(15),i=r.is,o=r.isAny,a=n(21),s=a.getEventDefinition,p=a.hasProperties,c=n(25).reportErrors;e.exports=function(){return{check:function(e,t){if(o(e,["bpmn:CatchEvent","bpmn:ThrowEvent"])){var n=s(e);if(n&&i(n,"bpmn:ErrorEventDefinition")){var r=p(n,{errorRef:{required:!0}},e);if(r&&r.length)c(e,t,r);else{var a=n.get("errorRef");(r=p(a,{errorCode:{required:!0}},e))&&r.length&&c(e,t,r)}}}}}}},function(e,t,n){var r=n(15).is,i=n(21),o=i.findExtensionElement,a=i.hasProperties,s=i.hasExtensionElementOfType,p=n(25).reportErrors;e.exports=function(){return{check:function(e,t){if(r(e,"bpmn:Activity")){var n=e.get("loopCharacteristics");if(n){var i=a(e,{loopCharacteristics:{type:"bpmn:MultiInstanceLoopCharacteristics"}},e);i&&i.length||(i=s(n,"zeebe:LoopCharacteristics",e))&&i.length?p(e,t,i):(n=o(n,"zeebe:LoopCharacteristics"),(i=a(n,{inputCollection:{required:!0},outputCollection:{dependendRequired:"outputElement"},outputElement:{dependendRequired:"outputCollection"}},e))&&i.length&&p(e,t,i))}}}}}},function(e,t,n){var r=n(15),i=r.is,o=r.isAny,a=n(21),s=a.getEventDefinition,p=a.hasProperties,c=n(25).reportErrors;e.exports=function(){return{check:function(e,t){if(o(e,["bpmn:CatchEvent","bpmn:ReceiveTask"])){var n=e;if(!i(e,"bpmn:ReceiveTask")){var r=s(e);if(!r||!i(r,"bpmn:MessageEventDefinition"))return;n=r}var a=p(n,{messageRef:{required:!0}},e);if(a&&a.length)c(e,t,a);else{var l=n.get("messageRef");(a=p(l,{name:{required:!0}},e))&&a.length&&c(e,t,a)}}}}}},function(e,t,n){var r=n(21).hasProperties,i=n(25).reportErrors;e.exports=function(){return{check:function(e,t){var n=r(e,{modelerTemplate:{allowed:!1}},e);n&&n.length&&i(e,t,n)}}}},function(e,t,n){var r=n(15),i=r.is,o=r.isAny,a=n(21),s=a.findExtensionElement,p=a.getEventDefinition,c=a.hasExtensionElementOfType,l=a.hasProperties,u=n(25).reportErrors;e.exports=function(){return{check:function(e,t){if(o(e,["bpmn:CatchEvent","bpmn:ThrowEvent","bpmn:ReceiveTask"])&&(!i(e,"bpmn:StartEvent")||i(e.$parent,"bpmn:SubProcess"))){var n=e;if(!i(e,"bpmn:ReceiveTask")){var r=p(e);if(!r||!i(r,"bpmn:MessageEventDefinition"))return;n=r}var a=n.get("messageRef");if(a){var d=c(a,"zeebe:Subscription",e);if(d&&d.length)u(e,t,d);else{var f=s(a,"zeebe:Subscription");(d=l(f,{correlationKey:{required:!0}},e))&&d.length&&u(e,t,d)}}}}}}},function(e,t,n){var r=n(15).is,i=n(21),o=i.findExtensionElement,a=i.findExtensionElements,s=i.hasProperties,p=n(25).reportErrors;function c(e,t){if(!e)return null;var n=e.$parent;return n?r(n,t)?n:c(n,t):e}e.exports=function(){return{check:function(e,t){if(r(e,"bpmn:UserTask")){var n=o(e,"zeebe:FormDefinition");if(n){var i=s(n,{formKey:{required:!0}},e);if(i&&i.length)p(e,t,i);else{var l=function(e,t){var n=c(e,"bpmn:Process");if(!n)return;var r=a(n,"zeebe:UserTaskForm");if(r&&r.length)return r.find((function(e){var n=e.get("id");return"camunda-forms:bpmn:".concat(n)===t}))}(e,n.get("formKey"));l&&(i=s(l,{body:{required:!0}},e))&&i.length&&p(e,t,i)}}}}}}},function(e,t,n){"use strict";e.exports.extend=function(e,t,n,r){var i=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,i,r)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if("undefined"===typeof n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,i,r)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(80)},function(e,t,n){var r=n(84);e.exports={Linter:r}},function(e,t){function n(e){this.cache=e}e.exports=n,n.prototype.resolveRule=function(e,t){return this.resolve("rule",e,t)},n.prototype.resolveConfig=function(e,t){return this.resolve("config",e,t)},n.prototype.resolve=function(e,t,n){var r="".concat(t,"/").concat(n),i=this.cache["".concat(e,":").concat(r)];if(!i)throw new Error("unknown ".concat(e," <").concat(r,">"));return i}},function(e,t,n){var r=n(49),i=n(50);e.exports={configs:{"camunda-cloud-1-0":{rules:{"called-decision-or-task-definition":["error",r.camundaCloud10],"called-element":"error","element-type":["error",i.camundaCloud10],"error-reference":"error","loop-characteristics":"error","message-reference":"error","no-template":"error",subscription:"error","user-task-form":"error"}},"camunda-cloud-1-1":{rules:{"called-decision-or-task-definition":["error",r.camundaCloud11],"called-element":"error","element-type":["error",i.camundaCloud11],"error-reference":"error","loop-characteristics":"error","message-reference":"error","no-template":"error",subscription:"error","user-task-form":"error"}},"camunda-cloud-1-2":{rules:{"called-decision-or-task-definition":["error",r.camundaCloud12],"called-element":"error","element-type":["error",i.camundaCloud12],"error-reference":"error","loop-characteristics":"error","message-reference":"error","no-template":"error",subscription:"error","user-task-form":"error"}},"camunda-cloud-1-3":{rules:{"called-decision-or-task-definition":["error",r.camundaCloud13],"called-element":"error","element-type":["error",i.camundaCloud12],"error-reference":"error","loop-characteristics":"error","message-reference":"error","no-template":"error",subscription:"error","user-task-form":"error"}},"camunda-cloud-8-0":{rules:{"called-decision-or-task-definition":["error",r.camundaCloud13],"called-element":"error","element-type":["error",i.camundaCloud12],"error-reference":"error","loop-characteristics":"error","message-reference":"error",subscription:"error","user-task-form":"error"}}}}},function(e){e.exports=JSON.parse('{"name":"Modeler","uri":"http://camunda.org/schema/modeler/1.0","prefix":"modeler","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"executionPlatform","isAttr":true,"type":"String"},{"name":"executionPlatformVersion","isAttr":true,"type":"String"}]}],"enumerations":[]}')},function(e){e.exports=JSON.parse('{"name":"zeebe","prefix":"zeebe","uri":"http://camunda.org/schema/zeebe/1.0","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"ZeebeServiceTask","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:SendTask","bpmn:EndEvent","bpmn:IntermediateThrowEvent"],"properties":[{"name":"retryCounter","type":"String","isAttr":true}]},{"name":"IoMapping","superClass":["Element"],"properties":[{"name":"ioMapping","type":"IoMapping"},{"name":"inputParameters","isMany":true,"type":"Input"},{"name":"outputParameters","isMany":true,"type":"Output"}],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess"]}},{"name":"InputOutputParameter","properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"}]},{"name":"Subscription","superClass":["Element"],"properties":[{"name":"correlationKey","isAttr":true,"type":"String"}]},{"name":"Input","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","zeebe:ZeebeServiceTask","bpmn:SubProcess"]}},{"name":"Output","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess"]}},{"name":"TaskHeaders","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask"]},"properties":[{"name":"values","type":"Header","isMany":true}]},{"name":"Header","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"key","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"TaskDefinition","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask"]},"properties":[{"name":"type","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true}]},{"name":"LoopCharacteristics","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask","bpmn:ReceiveTask","bpmn:SubProcess"]},"properties":[{"name":"inputCollection","type":"String","isAttr":true},{"name":"inputElement","type":"String","isAttr":true},{"name":"outputCollection","type":"String","isAttr":true},{"name":"outputElement","type":"String","isAttr":true}]},{"name":"CalledElement","superClass":["Element"],"meta":{"allowedIn":["bpmn:CallActivity"]},"properties":[{"name":"processId","type":"String","isAttr":true},{"name":"processIdExpression","type":"String","isAttr":true},{"name":"propagateAllChildVariables","isAttr":true,"type":"Boolean"}]},{"name":"UserTaskForm","superClass":["Element"],"meta":{"allowedIn":["bpmn:Process"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"body","type":"String","isBody":true}]},{"name":"FormDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"formKey","type":"String","isAttr":true}]},{"name":"CalledDecision","superClass":["Element"],"meta":{"allowedIn":["bpmn:BusinessRuleTask"]},"properties":[{"name":"decisionId","type":"String","isAttr":true},{"name":"resultVariable","type":"String","isAttr":true}]},{"name":"AssignmentDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"assignee","type":"String","isAttr":true},{"name":"candidateGroups","type":"String","isAttr":true}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Collaboration","bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"},{"name":"modelerTemplateVersion","isAttr":true,"type":"Integer"},{"name":"modelerTemplateIcon","isAttr":true,"type":"String"}]}]}')},function(e,t,n){"use strict";var r=n(13),i=n(22),o=n(109);function a(e,t){i.Moddle.call(this,e,t)}a.prototype=Object.create(i.Moddle.prototype),a.prototype.fromXML=function(e,t,n){r.isString(t)||(n=t,t="bpmn:Definitions");var i=new o.Reader(r.assign({model:this,lax:!0},n)),a=i.handler(t);return i.fromXML(e,a)},a.prototype.toXML=function(e,t){var n=new o.Writer(t);return new Promise((function(t,r){try{return t({xml:n.toXML(e)})}catch(i){return r(i)}}))};var s={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};e.exports=function(e,t){return new a(r.assign({},s,e),t)}},function(e){e.exports=JSON.parse('{"name":"zeebe","prefix":"zeebe","uri":"http://camunda.org/schema/zeebe/1.0","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"ZeebeServiceTask","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:SendTask","bpmn:EndEvent","bpmn:IntermediateThrowEvent"],"properties":[{"name":"retryCounter","type":"String","isAttr":true}]},{"name":"IoMapping","superClass":["Element"],"properties":[{"name":"ioMapping","type":"IoMapping"},{"name":"inputParameters","isMany":true,"type":"Input"},{"name":"outputParameters","isMany":true,"type":"Output"}],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess"]}},{"name":"InputOutputParameter","properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"}]},{"name":"Subscription","superClass":["Element"],"properties":[{"name":"correlationKey","isAttr":true,"type":"String"}]},{"name":"Input","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","zeebe:ZeebeServiceTask","bpmn:SubProcess"]}},{"name":"Output","superClass":["InputOutputParameter"],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:Event","bpmn:ReceiveTask","zeebe:ZeebeServiceTask","bpmn:SubProcess"]}},{"name":"TaskHeaders","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask"]},"properties":[{"name":"values","type":"Header","isMany":true}]},{"name":"Header","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"key","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"TaskDefinition","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask"]},"properties":[{"name":"type","type":"String","isAttr":true},{"name":"retries","type":"String","isAttr":true}]},{"name":"LoopCharacteristics","superClass":["Element"],"meta":{"allowedIn":["zeebe:ZeebeServiceTask","bpmn:ReceiveTask","bpmn:SubProcess"]},"properties":[{"name":"inputCollection","type":"String","isAttr":true},{"name":"inputElement","type":"String","isAttr":true},{"name":"outputCollection","type":"String","isAttr":true},{"name":"outputElement","type":"String","isAttr":true}]},{"name":"CalledElement","superClass":["Element"],"meta":{"allowedIn":["bpmn:CallActivity"]},"properties":[{"name":"processId","type":"String","isAttr":true},{"name":"processIdExpression","type":"String","isAttr":true},{"name":"propagateAllChildVariables","isAttr":true,"type":"Boolean"}]},{"name":"UserTaskForm","superClass":["Element"],"meta":{"allowedIn":["bpmn:Process"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"body","type":"String","isBody":true}]},{"name":"FormDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"formKey","type":"String","isAttr":true}]},{"name":"CalledDecision","superClass":["Element"],"meta":{"allowedIn":["bpmn:BusinessRuleTask"]},"properties":[{"name":"decisionId","type":"String","isAttr":true},{"name":"resultVariable","type":"String","isAttr":true}]},{"name":"AssignmentDefinition","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"assignee","type":"String","isAttr":true},{"name":"candidateGroups","type":"String","isAttr":true}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Collaboration","bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"},{"name":"modelerTemplateVersion","isAttr":true,"type":"Integer"}]}]}')},function(e,t,n){"use strict";e.exports={__init__:["zeebeModdleExtension"],zeebeModdleExtension:["type",n(99)]}},function(e,t,n){"use strict";var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(n),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,e/i))/Math.log(n)*i;var o=r-Math.floor(r),a="";for(i=0;i<Math.floor(r);i++){a=Math.floor(Math.random()*n).toString(n)+a}if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var p=parseInt(a,n);return p!==1/0&&p>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,r){var i=function(i){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=e||128,i.base=n||16,i}}));function i(e){if(!(this instanceof i))return new i(e);e=e||[128,36,1],this._seed=e.length?r.rack(e[0],e[1],e[2]):e}i.prototype.next=function(e){return this._seed(e||!0)},i.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},i.prototype.claim=function(e,t){this._seed.set(e,t||!0)},i.prototype.assigned=function(e){return this._seed.get(e)||!1},i.prototype.unclaim=function(e){delete this._seed.hats[e]},i.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)},t.a=i},function(e,t,n){"use strict";var r=n(39).default,i=n(47).default,o=function(e,t,n){var r=t<0?e.length+t:t;if(r>=0&&r<e.length){var o=n<0?e.length+n:n,a=e.splice(t,1),s=i(a,1)[0];e.splice(o,0,s)}};e.exports=function(e,t,n){return e=r(e),o(e,t,n),e},e.exports.mutate=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(5);function i(e){var t=function(e){return o(e,"camunda:FormData")[0]}(e);return t&&t.get("fields")||[]}function o(e,t,n){var i=function(e,t){var n=[],i=e.get("extensionElements");if("undefined"!==typeof i){var o=i.get("values");"undefined"!==typeof o&&(n=Object(r.c)(o,(function(e){return function(e,t){return e&&"function"===typeof e.$instanceOf&&e.$instanceOf(t)}(e,t)})))}return n}(e,t);return n?(i[0]||{})[n]||[]:i}function a(e,t){var n=function(e){return(o(e,"camunda:InputOutput")||[])[0]}(e);return n&&n.get(t)||[]}function s(e){for(var t=[],n=e;n.$parent;)t.push(n.$parent),n=n.$parent;return t}function p(e,t,n){n=n||0,Object(r.k)(e)||(e=[e]),Object(r.g)(e,(function(e,i){var o=t(e,i,n);Object(r.k)(o)&&o.length&&p(o,t,n+1)}))}function c(e,t,n){var r=!n||-1===e.indexOf(t);return r&&e.push(t),r}function l(e,t,n){var r=[],i=[];return p(e,(function(e,o,a){c(r,e,t);var s=e.flowElements;if((-1===n||a<n)&&s&&c(i,s,t))return s})),r}function u(e,t){return l(e,!t,-1)}function d(e,t){var n,i,o=Object(r.e)(e,(function(e){return e.name===t.name&&e.scope===t.scope}));o>=0?e[o].origin=(n=e[o].origin,i=t.origin,n.concat(i)):e.push(t)}function f(e,t,n){var i=function(e,t,n){var i=s(e),o=Object(r.d)(i,(function(e){return function(e,t){return e&&"function"===typeof e.$instanceOf&&e.$instanceOf(t)}(e,"bpmn:SubProcess")&&function(e,t){return Object(r.d)(function(e){return a(e,"inputParameters")}(e),(function(e){return e.name===t}))}(e,n)}));return o||t}(e,n,t);return{name:t,origin:[e],scope:i}}function h(e,t){var n=e.eventDefinitions;return n&&t?Object(r.c)(n,(function(e){return function(e,t){return e&&"function"===typeof e.$instanceOf&&e.$instanceOf(t)}(e,t)})):n}var m=[function(e){var t=e.elements,n=e.containerElement,i=e.processVariables;return Object(r.k)(t)||(t=[t]),Object(r.g)(t,(function(e){var t=function(e){return a(e,"outputParameters")}(e);Object(r.g)(t,(function(t){var r=f(e,t.name,n);d(i,r)}))})),i},function(e){var t=e.elements,n=e.containerElement,i=e.processVariables;return Object(r.k)(t)||(t=[t]),Object(r.g)(t,(function(e){var t=function(e){return e.get("camunda:resultVariable")}(e);if(t){var r=f(e,t,n);d(i,r)}})),i},function(e){var t=e.elements,n=e.containerElement,o=e.processVariables;return Object(r.k)(t)||(t=[t]),Object(r.g)(t,(function(e){var t=i(e);Object(r.g)(t,(function(t){var r=f(e,t.id,n);d(o,r)}))})),o},function(e){var t=e.elements,n=e.containerElement,i=e.processVariables;return Object(r.k)(t)||(t=[t]),Object(r.g)(t,(function(e){var t=function(e){return o(e,"camunda:Out")}(e);Object(r.g)(t,(function(t){if(!t.local){var r=f(e,t.target,n);d(i,r)}}))})),i},function(e){var t=e.elements,n=e.containerElement,i=e.processVariables,o=function(e,t){var r=f(e,t,n);d(i,r)};return Object(r.k)(t)||(t=[t]),Object(r.g)(t,(function(e){var t=function(e){return h(e,"bpmn:ErrorEventDefinition")}(e);Object(r.g)(t,(function(t){var n=t.get("errorCodeVariable"),r=t.get("errorMessageVariable");n&&o(e,n),r&&o(e,r)}));var n=function(e){return h(e,"bpmn:EscalationEventDefinition")}(e);Object(r.g)(n,(function(t){var n=t.get("escalationCodeVariable");n&&o(e,n)}))})),i}];function y(e,t){var n,i=function(e){var t=[],n=u([e],!1);return Object(r.g)(m,(function(r){r({elements:n,containerElement:e,processVariables:t})})),t}(t),o=function(e,t){var n=u(t);return Object(r.d)(n,(function(t){return t.id===e}))}(e,t),a=Object(r.c)(i,(function(e){return e.scope.id===o.id})),p=s(o),c=Object(r.c)(i,(function(e){return Object(r.d)(p,(function(t){return t.id===e.scope.id}))}));return n=c,a.concat(n)}},function(e,t,n){"use strict";function r(e,t,n){if(e&&t){"number"!==typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}n.d(t,"a",(function(){return ty}));var i=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(n),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,e/i))/Math.log(n)*i;var o=r-Math.floor(r),a="";for(i=0;i<Math.floor(r);i++){a=Math.floor(Math.random()*n).toString(n)+a}if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var p=parseInt(a,n);return p!==1/0&&p>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,r){var i=function(i){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=e||128,i.base=n||16,i}}));function o(e){if(!(this instanceof o))return new o(e);e=e||[128,36,1],this._seed=e.length?i.rack(e[0],e[1],e[2]):e}o.prototype.next=function(e){return this._seed(e||!0)},o.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},o.prototype.claim=function(e,t){this._seed.set(e,t||!0)},o.prototype.assigned=function(e){return this._seed.get(e)||!1},o.prototype.unclaim=function(e){delete this._seed.hats[e]},o.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};var a=o,s=n(0),p=n(4);function c(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(n){}return e}function l(e,t){return t.appendChild(c(e,t))}function u(e,t){return l(t,e),e}var d={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function f(e,t,n){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=d[r];i?(2===i&&"number"===typeof n&&(n=String(n)+"px"),e.style[r]=n):e.setAttributeNS(null,t,n)}function h(e,t,n){if("string"===typeof t){if(void 0===n)return function(e,t){return d[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);f(e,t,n)}else!function(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)f(e,r,t[r])}(e,t);return e}function m(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var y=/\s+/,v=Object.prototype.toString;function g(e){return"undefined"!==typeof e}function b(e){return new x(e)}function x(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function w(e){var t=e.parentNode;return t&&t.removeChild(e),e}function E(e){for(var t;t=e.firstChild;)w(t);return e}function O(e){return e.cloneNode(!0)}x.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~m(t,e)||t.push(e),g(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},x.prototype.remove=function(e){if("[object RegExp]"===v.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=m(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},x.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},x.prototype.toggle=function(e,t){return this.list?(g(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(g(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},x.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(y);return""===e[0]&&e.shift(),e},x.prototype.has=x.prototype.contains=function(e){return this.list?this.list.contains(e):!!~m(this.array(),e)};var _="http://www.w3.org/2000/svg",P='<svg xmlns="'+_+'"';function j(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(_)&&(e=P+e.substring(4)):(e=P+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var r=document.createDocumentFragment(),i=n.firstChild;i.firstChild;)r.appendChild(i.firstChild);return r}function S(e,t){var n;return"<"===e.charAt(0)?(n=j(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(_,e),t&&h(n,t),n}var k=S("svg");function A(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)e[r]=t[r];return e}function C(e){return e?k.createSVGTransformFromMatrix(e):k.createSVGTransform()}var T=/([&<>]{1})/g,R=/([\n\r"]{1})/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function D(e,t){return e.replace(t,(function(e,t){return M[t]||t}))}function N(e,t){var n,r,i,o,a;switch(e.nodeType){case 3:t.push(D(e.textContent,T));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,r=(i=e.attributes).length;n<r;++n)o=i.item(n),t.push(" ",o.name,'="',D(o.value,R),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,r=(a=e.childNodes).length;n<r;++n)N(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",D(e.nodeValue,T),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function B(e,t){var n=j(t);if(E(e),t){"#document-fragment"!==n.nodeName&&(n=n.documentElement);for(var r,i=(r=n.childNodes,Array.prototype.slice.call(r)),o=0;o<i.length;o++)l(i[o],e)}}function L(e,t){if(void 0!==t){try{B(e,t)}catch(n){throw new Error("error parsing SVG: "+n.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)N(t,n),t=t.nextSibling;return n.join("")}(e)}function I(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function z(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,r;for(e.clear(),n=0;r=t[n];n++)e.appendItem(I(e,r))}(n,t)),n.consolidate()}var $=/^class /;function F(e){return"[object Array]"===Object.prototype.toString.call(e)}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(){var e=Array.prototype.slice.call(arguments);1===e.length&&F(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var V=/constructor\s*[^(]*\(\s*([^)]*)\)/m,H=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,W=/\/\*([^*]*)\*\//m;function G(e){if("function"!==typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return $.test(e.toString())}(e)?V:H);if(!t)return[];var n=t[1]||t[2];return n&&n.split(",").map((function(e){var t=e.match(W);return(t&&t[1]||e).trim()}))||[]}function K(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t)return null;throw a('No provider for "'+e+'"!')}};var n=[],r=this._providers=Object.create(t._providers||null),i=this._instances=Object.create(null),o=i.injector=this,a=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)};function s(e,o){if(!r[e]&&-1!==e.indexOf(".")){for(var p=e.split("."),c=s(p.shift());p.length;)c=c[p.shift()];return c}if(q(i,e))return i[e];if(q(r,e)){if(-1!==n.indexOf(e))throw n.push(e),a("Cannot resolve circular dependency!");return n.push(e),i[e]=r[e][0](r[e][1]),n.pop(),i[e]}return t.get(e,o)}function p(e,t){if("undefined"===typeof t&&(t={}),"function"!==typeof e){if(!F(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=U(e.slice())}return{fn:e,dependencies:(e.$inject||G(e)).map((function(e){return q(t,e)?t[e]:s(e)}))}}function c(e){var t=p(e),n=t.fn,r=t.dependencies;return new(Function.prototype.bind.apply(n,[null].concat(r)))}function l(e,t,n){var r=p(e,n),i=r.fn,o=r.dependencies;return i.apply(t,o)}function u(e){return U((function(t){return e.get(t)}))}function d(e,t){if(t&&t.length){var n,i,a,s,p=Object.create(null),c=Object.create(null),l=[],d=[],f=[];for(var h in r)n=r[h],-1!==t.indexOf(h)&&("private"===n[2]?-1===(i=l.indexOf(n[3]))?(s=u(a=n[3].createChild([],t)),l.push(n[3]),d.push(a),f.push(s),p[h]=[s,h,"private",a]):p[h]=[f[i],h,"private",d[i]]:p[h]=[n[2],n[1]],c[h]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach((function(e){-1!==n[1].$scope.indexOf(e)&&(p[h]=[n[2],n[1]],c[e]=!0)}));t.forEach((function(e){if(!c[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),e.unshift(p)}return new K(e,o)}var f={factory:l,type:c,value:function(e){return e}};function h(e,t){var n=e.__init__||[];return function(){n.forEach((function(e){try{"string"===typeof e?t.get(e):t.invoke(e)}catch(a){if("undefined"!==typeof AggregateError)throw new AggregateError([a],"Failed to initialize!");throw new Error("Failed to initialize! "+a.message)}}))}}function m(e){var t=e.__exports__;if(t){var n=e.__modules__,i=Object.keys(e).reduce((function(t,n){return"__exports__"!==n&&"__modules__"!==n&&"__init__"!==n&&"__depends__"!==n&&(t[n]=e[n]),t}),Object.create(null)),a=d((n||[]).concat(i)),s=U((function(e){return a.get(e)}));t.forEach((function(e){r[e]=[s,e,"private",a]}));var p=(e.__init__||[]).slice();return p.unshift((function(){a.init()})),h(e=Object.assign({},e,{__init__:p}),a)}return Object.keys(e).forEach((function(t){if("__init__"!==t&&"__depends__"!==t)if("private"!==e[t][2]){var n=e[t][0],i=e[t][1];r[t]=[f[n],Y(n,i),n]}else r[t]=e[t]})),h(e,o)}function y(e,t){return-1!==e.indexOf(t)||-1!==(e=(t.__depends__||[]).reduce(y,e)).indexOf(t)?e:e.concat(t)}this.get=s,this.invoke=l,this.instantiate=c,this.createChild=d,this.init=function(e){var t=e.reduce(y,[]).map(m),n=!1;return function(){n||(n=!0,t.forEach((function(e){return e()})))}}(e)}function Y(e,t){return"value"!==e&&F(t)&&(t=U(t.slice())),t}function X(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var r=e.type,i=t.element,o=t.gfx,a=t.attrs;if(n.canRender(i))return"render.shape"===r?n.drawShape(o,i,a):n.drawConnection(o,i,a)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}function Q(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function J(e){for(var t,n="",r=0;t=e[r];r++)n+=t.x+","+t.y+" ";return n}function Z(e,t){var n=S("polyline");return h(n,{points:J(e)}),t&&h(n,t),n}function ee(e){return Object(s.filter)(e,(function(t){return!Object(s.find)(e,(function(e){return e!==t&&te(t,e)}))}))}function te(e,t){if(t){if(e===t)return t;if(e.parent)return te(e.parent,t)}}function ne(e,t,n){var r=!n||-1===e.indexOf(t);return r&&e.push(t),r}function re(e,t,n){n=n||0,Object(s.isArray)(e)||(e=[e]),Object(s.forEach)(e,(function(e,r){var i=t(e,r,n);Object(s.isArray)(i)&&i.length&&re(i,t,n+1)}))}function ie(e,t,n){var r=[],i=[];return re(e,(function(e,o,a){ne(r,e,t);var s=e.children;if((-1===n||a<n)&&s&&ne(i,s,t))return s})),r}function oe(e,t){return ie(e,!t,-1)}function ae(e,t){var n,r,i,o;return t=!!t,Object(s.isArray)(e)||(e=[e]),Object(s.forEach)(e,(function(e){var a=e;e.waypoints&&!t&&(a=ae(e.waypoints,!0));var s=a.x,p=a.y,c=a.height||0,l=a.width||0;(s<n||void 0===n)&&(n=s),(p<r||void 0===r)&&(r=p),(s+l>i||void 0===i)&&(i=s+l),(p+c>o||void 0===o)&&(o=p+c)})),{x:n,y:r,height:o-r,width:i-n}}function se(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function pe(e){return!(!e||!e.isFrame)}function ce(e,t){return Object(s.assign)({},e||{},t||{})}X.prototype.canRender=function(){},X.prototype.drawShape=function(){},X.prototype.drawConnection=function(){},X.prototype.getShapePath=function(){},X.prototype.getConnectionPath=function(){};function le(e,t){X.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}r(le,X),le.prototype.canRender=function(){return!0},le.prototype.drawShape=function(e,t,n){var r=S("rect");return h(r,{x:0,y:0,width:t.width||0,height:t.height||0}),pe(t)?h(r,Object(s.assign)({},this.FRAME_STYLE,n||{})):h(r,Object(s.assign)({},this.SHAPE_STYLE,n||{})),u(e,r),r},le.prototype.drawConnection=function(e,t,n){var r=Z(t.waypoints,Object(s.assign)({},this.CONNECTION_STYLE,n||{}));return u(e,r),r},le.prototype.getShapePath=function(e){var t=e.x,n=e.y,r=e.width;return Q([["M",t,n],["l",r,0],["l",0,e.height],["l",-r,0],["z"]])},le.prototype.getConnectionPath=function(e){var t,n,r=e.waypoints,i=[];for(t=0;n=r[t];t++)n=n.original||n,i.push([0===t?"M":"L",n.x,n.y]);return Q(i)},le.$inject=["eventBus","styles"];var ue={__init__:["defaultRenderer"],defaultRenderer:["type",le],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return Object(s.assign)(r,{class:e})},this.style=function(t,n){Object(s.isArray)(t)||n||(n=t,t=[]);var r=Object(s.reduce)(t,(function(t,n){return Object(s.assign)(t,e[n]||{})}),{});return n?Object(s.assign)(r,n):r},this.computeStyle=function(e,n,r){return Object(s.isArray)(n)||(r=n,n=[]),t.style(n||[],Object(s.assign)({},r,e||{}))}}]};function de(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function fe(e,t,n){if(e&&t){"number"!==typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function he(e,t){return e&&t?e.indexOf(t):-1}function me(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function ye(e,t,n,r){if("undefined"===typeof r&&(r=5),!e||!t||!n)return!1;var i=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=me(e,t);return Math.abs(i/o)<=r}function ve(e,t){var n;return function(e,t){var n;n=Object(s.isArray)(e)?e:[e,t];var r=n.slice().shift();return Object(s.every)(n,(function(e){return Math.abs(r.y-e.y)<=2}))}(n=Object(s.isArray)(e)?e:[e,t])?"h":!!function(e,t){var n;n=Object(s.isArray)(e)?e:[e,t];var r=n.slice().shift();return Object(s.every)(n,(function(e){return Math.abs(r.x-e.x)<=2}))}(n)&&"v"}function ge(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n}function be(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var xe=n(43),we=n.n(xe);function Ee(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function Oe(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function _e(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Pe(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function je(e){for(var t=e.waypoints,n=t.reduce((function(e,n,r){var i,o,a=t[r-1];if(a){var s=e[e.length-1],p=s&&s.endLength||0,c=(i=a,o=n,Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)));e.push({start:a,end:n,startLength:p,endLength:p+c,length:c})}return e}),[]),r=n.reduce((function(e,t){return e+t.length}),0)/2,i=0,o=n[i];o.endLength<r;)o=n[++i];var a=(r-o.startLength)/o.length;return{x:o.start.x+(o.end.x-o.start.x)*a,y:o.start.y+(o.end.y-o.start.y)*a}}function Se(e){return function(e){return!!e.waypoints}(e)?je(e):Oe({x:(t=e).x+(t.width||0)/2,y:t.y+(t.height||0)/2});var t}function ke(e,t,n){n=n||0,Object(s.isObject)(n)||(n={x:n,y:n});var r=_e(e),i=_e(t),o=r.bottom+n.y<=i.top,a=r.left-n.x>=i.right,p=r.top-n.y>=i.bottom,c=o?"top":p?"bottom":null,l=r.right+n.x<=i.left?"left":a?"right":null;return l&&c?c+"-"+l:l||c||"intersect"}function Ae(e,t,n){var r,i,o=(r=e,i=t,we()(r,i));return 1===o.length||2===o.length&&me(o[0],o[1])<1?Oe(o[0]):o.length>1?Oe((o=Object(s.sortBy)(o,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:o.length-1]):null}function Ce(e,t){return Math.round(e*t)/t}function Te(e){return Object(s.isNumber)(e)?e+"px":e}function Re(e,t,n){var r=S("g");b(r).add(t);var i=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(r,e.childNodes[i]||null),r}var Me={shape:["x","y","width","height"],connection:["waypoints"]};function De(e,t,n,r){this._eventBus=t,this._elementRegistry=r,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(e||{})}function Ne(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}De.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],De.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=Object(s.assign)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),Object(p.a)(n,{position:"relative",overflow:"hidden",width:Te(e.width),height:Te(e.height)}),t.appendChild(n),n}(e),r=this._svg=S("svg");h(r,{width:"100%",height:"100%"}),u(n,r);var i=this._viewport=Re(r,"viewport");!1!==e.deferUpdate&&(this._viewboxChanged=Object(s.debounce)(Object(s.bind)(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:r,viewport:i})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},De.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},De.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=se(t);"root"===n?e.removeRootElement(t):e._removeElement(t,n)})),this._planes=[],this._rootElement=null,delete this._cachedViewbox},De.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},De.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),"undefined"!==typeof t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},De.prototype._getChildIndex=function(e){return Object(s.reduce)(this._layers,(function(t,n){return n.visible&&e>=n.index&&t++,t}),0)},De.prototype._createLayer=function(e,t){"undefined"===typeof t&&(t=1);var n=this._getChildIndex(t);return{group:Re(this._viewport,"layer-"+e,n),index:t,visible:!0}},De.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");var t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");var n=this._viewport,r=t.group,i=t.index;if(t.visible)return r;var o=this._getChildIndex(i);return n.insertBefore(r,n.childNodes[o]||null),t.visible=!0,r},De.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");var t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");var n=t.group;return t.visible?(w(n),t.visible=!1,n):n},De.prototype._removeLayer=function(e){var t=this._layers[e];t&&(delete this._layers[e],w(t.group))},De.prototype.getActiveLayer=function(){var e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null},De.prototype.findRoot=function(e){if("string"===typeof e&&(e=this._elementRegistry.get(e)),e){var t=this._findPlaneForRoot(function(e){for(;e.parent;)e=e.parent;return e}(e))||{};return t.rootElement}},De.prototype.getRootElements=function(){return this._planes.map((function(e){return e.rootElement}))},De.prototype._findPlaneForRoot=function(e){return Object(s.find)(this._planes,(function(t){return t.rootElement===e}))},De.prototype.getContainer=function(){return this._container},De.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&(Object(s.forEach)([r.gfx,r.secondaryGfx],(function(e){e&&(n?b(e).add(t):b(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},De.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},De.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},De.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),b(this.getGraphics(e)).has(t)},De.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},De.prototype.getRootElement=function(){var e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))},De.prototype.addRootElement=function(e){var t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});var n=e.layer="root-"+t;this._ensureValid("root",e);var r=this.getLayer(n,0);return this.hideLayer(n),this._addRoot(e,r),this._planes.push({rootElement:e,layer:r}),e},De.prototype.removeRootElement=function(e){if("string"===typeof e&&(e=this._elementRegistry.get(e)),this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter((function(t){return t.rootElement!==e})),this._rootElement===e&&(this._rootElement=null),e},De.prototype.setRootElement=function(e,t){if(Object(s.isDefined)(t))throw new Error("override not supported");if(e!==this._rootElement){if(!e)throw new Error("rootElement required");return this._findPlaneForRoot(e)||(e=this.addRootElement(e)),this._setRoot(e),e}},De.prototype._removeRoot=function(e){var t=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:e}),n.fire("root.removed",{element:e}),t.remove(e)},De.prototype._addRoot=function(e,t){var n=this._elementRegistry,r=this._eventBus;r.fire("root.add",{element:e}),n.add(e,t),r.fire("root.added",{element:e,gfx:t})},De.prototype._setRoot=function(e,t){var n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})},De.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");var n=Me[e];if(!Object(s.every)(n,(function(e){return"undefined"!==typeof t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},De.prototype._setParent=function(e,t,n){fe(t.children,e,n),e.parent=t},De.prototype._addElement=function(e,t,n,r){n=n||this.getRootElement();var i=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,r);var a=o.create(e,t,r);return this._elementRegistry.add(t,a),o.update(e,t,a),i.fire(e+".added",{element:t,gfx:a}),t},De.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},De.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},De.prototype._removeElement=function(e,t){var n=this._elementRegistry,r=this._graphicsFactory,i=this._eventBus;if(e=n.get(e.id||e))return i.fire(t+".remove",{element:e}),r.remove(e),de(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),n.remove(e),e},De.prototype.removeShape=function(e){return this._removeElement(e,"shape")},De.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},De.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},De.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},De.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},De.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,r,i,o,a,s,p=this._viewport,c=this.getSize();return e?(this._changeViewbox((function(){o=Math.min(c.width/e.width,c.height/e.height);var t=this._svg.createSVGMatrix().scale(o).translate(-e.x,-e.y);z(p,t)})),e):(t=(r=this._rootElement?this.getActiveLayer():null)&&r.getBBox()||{},n=(i=z(p))?i.matrix:function(e,t,n,r,i,o){var a=k.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return A(a,e);case 6:return A(a,{a:e,b:t,c:n,d:r,e:i,f:o})}}(),o=Ce(n.a,1e3),a=Ce(-n.e||0,1e3),s=Ce(-n.f||0,1e3),e=this._cachedViewbox={x:a?a/o:0,y:s?s/o:0,width:c.width/o,height:c.height/o,scale:o,inner:{width:t.width||0,height:t.height||0,x:t.x||0,y:t.y||0},outer:c})},De.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=Object(s.assign)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),Ne(t,n)})),{x:n.e,y:n.f}},De.prototype.scrollToElement=function(e,t){var n=100;"string"===typeof e&&(e=this._elementRegistry.get(e));var r=this.findRoot(e);r!==this.getRootElement()&&this.setRootElement(r),t||(t={}),"number"===typeof t&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};var i,o,a=ae(e),s=_e(a),p=this.viewbox(),c=this.zoom();p.y+=t.top/c,p.x+=t.left/c,p.width-=(t.right+t.left)/c,p.height-=(t.bottom+t.top)/c;var l=_e(p);if(a.width<p.width&&a.height<p.height){var u=Math.max(0,s.right-l.right),d=Math.min(0,s.left-l.left),f=Math.max(0,s.bottom-l.bottom),h=Math.min(0,s.top-l.top);i=u||d,o=f||h}else i=a.x-p.x,o=a.y-p.y;this.scroll({dx:-i*c,dy:-o*c})},De.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!==typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)})),Ce(r.a,1e3)):this.viewbox(e).scale;var n,r},De.prototype._fitViewport=function(e){var t,n,r=this.viewbox(),i=r.outer,o=r.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=i.width&&o.y+o.height<=i.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,i.width),height:Math.max(o.height+o.y,i.height)}:(t=Math.min(1,i.width/o.width,i.height/o.height),n={x:o.x+(e?o.width/2-i.width/t/2:0),y:o.y+(e?o.height/2-i.height/t/2:0),width:i.width/t,height:i.height/t}),this.viewbox(n),this.viewbox(!1).scale},De.prototype._setZoom=function(e,t){var n,r,i,o,a=this._svg,p=this._viewport,c=a.createSVGMatrix(),l=a.createSVGPoint(),u=(r=p.getCTM()).a;return t?(n=Object(s.assign)(l,t).matrixTransform(r.inverse()),i=c.translate(n.x,n.y).scale(1/u*e).translate(-n.x,-n.y),o=r.multiply(i)):o=c.scale(e),Ne(this._viewport,o),o},De.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},De.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},De.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Be="data-element-id";function Le(e){this._elements={},this._eventBus=e}Le.$inject=["eventBus"],Le.prototype.add=function(e,t,n){var r=e.id;this._validateId(r),h(t,Be,r),n&&h(n,Be,r),this._elements[r]={element:e,gfx:t,secondaryGfx:n}},Le.prototype.remove=function(e){var t=this._elements,n=e.id||e,r=n&&t[n];r&&(h(r.gfx,Be,""),r.secondaryGfx&&h(r.secondaryGfx,Be,""),delete t[n])},Le.prototype.updateId=function(e,t){this._validateId(t),"string"===typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),r=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,r)},Le.prototype.updateGraphics=function(e,t,n){var r=e.id||e,i=this._elements[r];return n?i.secondaryGfx=t:i.gfx=t,t&&h(t,Be,r),t},Le.prototype.get=function(e){var t;t="string"===typeof e?e:e&&h(e,Be);var n=this._elements[t];return n&&n.element},Le.prototype.filter=function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(n)})),t},Le.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]],o=i.element;if(e(o,i.gfx))return o}},Le.prototype.getAll=function(){return this.filter((function(e){return e}))},Le.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var r=t[n],i=r.element,o=r.gfx;return e(i,o)}))},Le.prototype.getGraphics=function(e,t){var n=e.id||e,r=this._elements[n];return r&&(t?r.secondaryGfx:r.gfx)},Le.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var Ie=n(34),ze=n.n(Ie),$e=new ze.a({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Fe=new ze.a({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),qe=new ze.a({name:"attachers",collection:!0},{name:"host"}),Ue=new ze.a({name:"outgoing",collection:!0},{name:"source"}),Ve=new ze.a({name:"incoming",collection:!0},{name:"target"});function He(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),$e.bind(this,"parent"),Fe.bind(this,"labels"),Ue.bind(this,"outgoing"),Ve.bind(this,"incoming")}function We(){He.call(this),$e.bind(this,"children"),qe.bind(this,"host"),qe.bind(this,"attachers")}function Ge(){We.call(this)}function Ke(){We.call(this),Fe.bind(this,"labelTarget")}function Ye(){He.call(this),Ue.bind(this,"source"),Ve.bind(this,"target")}r(We,He),r(Ge,We),r(Ke,We),r(Ye,He);var Xe={connection:Ye,shape:We,label:Ke,root:Ge};function Qe(){this._uid=12}Qe.prototype.createRoot=function(e){return this.create("root",e)},Qe.prototype.createLabel=function(e){return this.create("label",e)},Qe.prototype.createShape=function(e){return this.create("shape",e)},Qe.prototype.createConnection=function(e){return this.create("connection",e)},Qe.prototype.create=function(e,t){return(t=Object(s.assign)({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=Xe[e];if(!n)throw new Error("unknown type: <"+e+">");return Object(s.assign)(new n,t)}(e,t)};var Je=Array.prototype.slice;function Ze(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function et(){}function tt(e){return e.childNodes[0]}function nt(e,t,n,r,i){var o=C();o.setTranslate(t,n);var a=C();a.setRotate(r||0,0,0);var s=C();s.setScale(i||1,i||1),z(e,[o,a,s])}function rt(e,t,n){var r=C();r.setTranslate(t,n),z(e,r)}function it(e,t){var n=C();n.setRotate(t,0,0),z(e,n)}function ot(e,t){this._eventBus=e,this._elementRegistry=t}function at(e,t,n){var r=n||t.firstChild;e!==r&&t.insertBefore(e,r)}Ze.prototype.on=function(e,t,n,r){if(e=Object(s.isArray)(e)?e:[e],Object(s.isFunction)(t)&&(r=n,n=t,t=1e3),!Object(s.isNumber)(t))throw new Error("priority must be a number");var i=n;r&&((i=Object(s.bind)(n,r)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:i,next:null})}))},Ze.prototype.once=function(e,t,n,r){var i=this;if(Object(s.isFunction)(t)&&(r=n,n=t,t=1e3),!Object(s.isNumber)(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(r,arguments);return i.off(e,o),t}o.__fn=n,this.on(e,t,o)},Ze.prototype.off=function(e,t){e=Object(s.isArray)(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},Ze.prototype.createEvent=function(e){var t=new et;return t.init(e),t},Ze.prototype.fire=function(e,t){var n,r,i,o;if(o=Je.call(arguments),"object"===typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof et?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},Ze.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},Ze.prototype._destroy=function(){this._listeners={}},Ze.prototype._invokeListeners=function(e,t,n){for(var r;n&&!e.cancelBubble;)r=this._invokeListener(e,t,n),n=n.next;return r},Ze.prototype._invokeListener=function(e,t,n){var r;if(n.callback.__isTomb)return r;try{r=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==r&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return r},Ze.prototype._addListener=function(e,t){var n,r=this._getListeners(e);if(r){for(;r;){if(r.priority<t.priority)return t.next=r,void(n?n.next=t:this._setListeners(e,t));n=r,r=r.next}n.next=t}else this._setListeners(e,t)},Ze.prototype._getListeners=function(e){return this._listeners[e]},Ze.prototype._setListeners=function(e,t){this._listeners[e]=t},Ze.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(;o;)n=o.next,(i=o.callback)!==t&&i.__fn!==t||(r?r.next=n:this._setListeners(e,n)),r=o,o=n;else this._setListeners(e,null)},et.prototype.stopPropagation=function(){this.cancelBubble=!0},et.prototype.preventDefault=function(){this.defaultPrevented=!0},et.prototype.init=function(e){Object(s.assign)(this,e||{})},ot.$inject=["eventBus","elementRegistry"],ot.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n),t||(b(t=S("g")).add("djs-children"),u(n.parentNode,t))):t=n,t},ot.prototype._clear=function(e){var t=tt(e);return Object(p.d)(t),t},ot.prototype._createContainer=function(e,t,n,r){var i=S("g");b(i).add("djs-group"),"undefined"!==typeof n?at(i,t,t.childNodes[n]):u(t,i);var o=S("g");b(o).add("djs-element"),b(o).add("djs-"+e),r&&b(o).add("djs-frame"),u(i,o);var a=S("g");return b(a).add("djs-visual"),u(o,a),o},ot.prototype.create=function(e,t,n){var r=this._getChildrenContainer(t.parent);return this._createContainer(e,r,n,pe(t))},ot.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=Object(s.reduce)(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),Object(s.forEach)(t,(function(e){var t=e.children;if(t){var i=n._getChildrenContainer(e);Object(s.forEach)(t.slice().reverse(),(function(e){at(r.getGraphics(e).parentNode,i)}))}}))},ot.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},ot.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},ot.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},ot.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},ot.prototype.update=function(e,t,n){if(t.parent){var r=this._clear(n);if("shape"===e)this.drawShape(r,t),rt(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(r,t)}t.hidden?h(n,"display","none"):h(n,"display","block")}},ot.prototype.remove=function(e){w(this._elementRegistry.getGraphics(e).parentNode)};var st={__depends__:[ue],__init__:["canvas"],canvas:["type",De],elementRegistry:["type",Le],elementFactory:["type",Qe],eventBus:["type",Ze],graphicsFactory:["type",ot]};function pt(e){return function(e){var t=new K(e);return t.init(),t}([{config:["value",e=e||{}]},st].concat(e.modules||[]))}function ct(e,t){this.injector=t=t||pt(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}function lt(){}function ut(e,t){this.model=e,this.properties=t}ct.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},ct.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},lt.prototype.get=function(e){return this.$model.properties.get(this,e)},lt.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},ut.prototype.createType=function(e){var t=this.model,n=this.properties,r=Object.create(lt.prototype);Object(s.forEach)(e.properties,(function(e){e.isMany||void 0===e.default||(r[e.name]=e.default)})),n.defineModel(r,t),n.defineDescriptor(r,e);var i=e.ns.name;function o(e){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),Object(s.forEach)(e,Object(s.bind)((function(e,t){this.set(t,e)}),this))}return o.prototype=r,o.hasType=r.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var dt={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},ft={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function ht(e,t){var n=ft[e];return n?n(t):t}function mt(e){return!!dt[e]}function yt(e){return!!ft[e]}function vt(e,t){var n,r,i=e.split(/:/);if(1===i.length)n=e,r=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=i[1],r=i[0]}return{name:e=(r?r+":":"")+n,prefix:r,localName:n}}function gt(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function bt(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Object(s.forEach)(e,Object(s.bind)(this.registerPackage,this))}function xt(e,t,n){var r=t[n];if(r in e)throw new Error("package with "+n+" <"+r+"> already defined")}function wt(e){this.model=e}function Et(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function Ot(e){this.properties=new wt(this),this.factory=new ut(this,this.properties),this.registry=new bt(e,this.properties),this.typeCache={}}gt.prototype.build=function(){return Object(s.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},gt.prototype.addProperty=function(e,t,n){"boolean"===typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var r=this.properties;void 0!==t?r.splice(t,0,e):r.push(e)},gt.prototype.replaceProperty=function(e,t,n){var r=e.ns,i=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=i.indexOf(e);if(-1===s)throw new Error("property <"+r.name+"> not found in property list");i.splice(s,1),this.addProperty(t,n?void 0:s,a),o[r.name]=o[r.localName]=t},gt.prototype.redefineProperty=function(e,t,n){var r=e.ns.prefix,i=t.split("#"),o=vt(i[0],r),a=vt(i[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},gt.prototype.addNamedProperty=function(e,t){var n=e.ns,r=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),r[n.name]=r[n.localName]=e},gt.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},gt.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},gt.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},gt.prototype.assertNotDefined=function(e,t){var n=e.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},gt.prototype.hasProperty=function(e){return this.propertiesByName[e]},gt.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,i=e.name;i in n||(Object(s.forEach)(e.properties,Object(s.bind)((function(n){n=Object(s.assign)({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,i=n.redefines;r||i?this.redefineProperty(n,r||i,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[i]=e)},bt.prototype.getPackage=function(e){return this.packageMap[e]},bt.prototype.getPackages=function(){return this.packages},bt.prototype.registerPackage=function(e){e=Object(s.assign)({},e);var t=this.packageMap;xt(t,e,"prefix"),xt(t,e,"uri"),Object(s.forEach)(e.types,Object(s.bind)((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},bt.prototype.registerType=function(e,t){var n=vt((e=Object(s.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Object(s.assign)(e.meta||{})})).name,t.prefix),r=n.name,i={};Object(s.forEach)(e.properties,Object(s.bind)((function(e){var t=vt(e.name,n.prefix),r=t.name;mt(e.type)||(e.type=vt(e.type,t.prefix).name),Object(s.assign)(e,{ns:t,name:r}),i[r]=e}),this)),Object(s.assign)(e,{ns:n,name:r,propertiesByName:i}),Object(s.forEach)(e.extends,Object(s.bind)((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(r)}),this)),this.definePackage(e,t),this.typeMap[r]=e},bt.prototype.mapTypes=function(e,t,n){var r=mt(e.name)?{name:e.name}:this.typeMap[e.name],i=this;function o(e){return a(e,!0)}function a(n,r){var o=vt(n,mt(n)?"":e.prefix);i.mapTypes(o,t,r)}if(!r)throw new Error("unknown type <"+e.name+">");Object(s.forEach)(r.superClass,n?o:a),t(r,!n),Object(s.forEach)(r.traits,o)},bt.prototype.getEffectiveDescriptor=function(e){var t=vt(e),n=new gt(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},bt.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},wt.prototype.set=function(e,t,n){var r=this.model.getPropertyDescriptor(e,t),i=r&&r.name;"undefined"===typeof n?r?delete e[i]:delete e.$attrs[t]:r?i in e?e[i]=n:Et(e,r,n):e.$attrs[t]=n},wt.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var r=n.name;return!e[r]&&n.isMany&&Et(e,n,[]),e[r]},wt.prototype.define=function(e,t,n){if(!n.writable){var r=n.value;delete(n=Object(s.assign)({},n,{get:function(){return r}})).value}Object.defineProperty(e,t,n)},wt.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},wt.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},Ot.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},Ot.prototype.getType=function(e){var t=this.typeCache,n=Object(s.isString)(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},Ot.prototype.createAny=function(e,t,n){var r=vt(e),i={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(i,o),this.properties.defineModel(i,this),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),this.properties.define(i,"$instanceOf",{enumerable:!1,writable:!0}),Object(s.forEach)(n,(function(e,t){Object(s.isObject)(e)&&void 0!==e.value?i[e.name]=e.value:i[t]=e})),i},Ot.prototype.getPackage=function(e){return this.registry.getPackage(e)},Ot.prototype.getPackages=function(){return this.registry.getPackages()},Ot.prototype.getElementDescriptor=function(e){return e.$descriptor},Ot.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},Ot.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},Ot.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var _t=String.fromCharCode,Pt=Object.prototype.hasOwnProperty,jt=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,St={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function kt(e,t,n,r){return r?Pt.call(St,r)?St[r]:"&"+r+";":_t(t||parseInt(n,16))}function At(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(jt,kt):e}Object.keys(St).forEach((function(e){St[e.toUpperCase()]=St[e]}));var Ct="xsi:type",Tt="non-whitespace outside of root node";function Rt(e){return new Error(e)}function Mt(e){return"missing namespace for prefix <"+e+">"}function Dt(e){return{get:e,enumerable:!0}}function Nt(e){var t,n={};for(t in e)n[t]=e[t];return n}function Bt(e){return e+"$uri"}function Lt(){return{line:0,column:0}}function It(e){throw e}function zt(e){if(!this)return new zt(e);var t,n,r,i,o,a,s,p,c,l=e&&e.proxy,u=It,d=Lt,f=!1,h=!1,m=null,y=!1;function v(e){e instanceof Error||(e=Rt(e)),m=e,u(e,d)}function g(e){o&&(e instanceof Error||(e=Rt(e)),o(e,d))}this.on=function(e,c){if("function"!==typeof c)throw Rt("required args <name, cb>");switch(e){case"openTag":n=c;break;case"text":t=c;break;case"closeTag":r=c;break;case"error":u=c;break;case"warn":o=c;break;case"cdata":i=c;break;case"attention":p=c;break;case"question":s=c;break;case"comment":a=c;break;default:throw Rt("unsupported event: "+e)}return this},this.ns=function(e){if("undefined"===typeof e&&(e={}),"object"!==typeof e)throw Rt("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",h=!0,c=n,this},this.parse=function(e){if("string"!==typeof e)throw Rt("required args <xml=string>");return m=null,function(e){var o,u,m,b,x,w,E,O,_,P,j,S=h?[]:null,k=h?function(e){var t,n,r={};for(t in e)r[n=e[t]]=n,r[Bt(n)]=t;return r}(c):null,A=[],C=0,T=!1,R=!1,M=0,D=0,N="",B=0;function L(){if(null!==j)return j;var e,t,n,r,i,o,a,s,p,l,u,d=h&&k.xmlns,m=h&&f?[]:null,y=B,v=N,b=v.length,x={},w={};e:for(;y<b;y++)if(p=!1,!(32===(l=v.charCodeAt(y))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(g("illegal first char attribute name"),p=!0),u=y+1;u<b;u++)if(!((l=v.charCodeAt(u))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){g("missing attribute value"),y=u;continue e}if(61===l)break;g("illegal attribute name char"),p=!0}if("xmlns:xmlns"===(s=v.substring(y,u))&&(g("illegal declaration of xmlns"),p=!0),34===(l=v.charCodeAt(u+1)))-1===(u=v.indexOf('"',y=u+2))&&-1!==(u=v.indexOf("'",y))&&(g("attribute value quote missmatch"),p=!0);else if(39===l)-1===(u=v.indexOf("'",y=u+2))&&-1!==(u=v.indexOf('"',y))&&(g("attribute value quote missmatch"),p=!0);else for(g("missing attribute value quotes"),p=!0,u+=1;u<b&&!(32===(l=v.charCodeAt(u+1))||l<14&&l>8);u++);for(-1===u&&(g("missing closing quotes"),u=b,p=!0),p||(o=v.substring(y,u)),y=u;u+1<b&&!(32===(l=v.charCodeAt(u+1))||l<14&&l>8);u++)y===u&&(g("illegal character after attribute end"),p=!0);if(y=u+1,!p)if(s in w)g("attribute <"+s+"> already defined");else if(w[s]=!0,h)if(f){if(null!==(i="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=At(o),t=Bt(i),!(a=c[e])){if("xmlns"===i||t in k&&k[t]!==e)do{a="ns"+C++}while("undefined"!==typeof k[a]);else a=i;c[e]=a}k[i]!==a&&(r||(k=Nt(k),r=!0),k[i]=a,"xmlns"===i&&(k[Bt(a)]=e,d=a),k[t]=e),x[s]=o;continue}m.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=k[s.substring(0,l)])?((s=d===n?s.substr(l+1):n+s.substr(l))===Ct&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=k[n]||n)+o.substring(l)):o=d+":"+o),x[s]=o):g(Mt(s.substring(0,l))):x[s]=o;else x[s]=o}if(f)for(y=0,b=m.length;y<b;y++){if(s=m[y++],o=m[y],-1!==(l=s.indexOf(":"))){if(!(n=k[s.substring(0,l)])){g(Mt(s.substring(0,l)));continue}(s=d===n?s.substr(l+1):n+s.substr(l))===Ct&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=k[n]||n)+o.substring(l)):o=d+":"+o)}x[s]=o}return j=x}function I(){for(var t,n,r=/(\r\n|\r|\n)/g,i=0,o=0,a=0,s=D;M>=a&&(t=r.exec(e))&&!((s=t[0].length+t.index)>M);)i+=1,a=s;return-1==M?(o=s,n=e.substring(D)):0===D?n=e.substring(D,M):(o=M-a,n=-1==D?e.substring(M):e.substring(M,D+1)),{data:n,line:i,column:o}}d=I,l&&(P=Object.create({},{name:Dt((function(){return O})),originalName:Dt((function(){return _})),attrs:Dt(L),ns:Dt((function(){return k}))}));for(;-1!==D;){if(-1===(M=60===e.charCodeAt(D)?D:e.indexOf("<",D)))return A.length?v("unexpected end of file"):0===D?v("missing start tag"):void(D<e.length&&e.substring(D).trim()&&g(Tt));if(D!==M)if(A.length){if(t&&(t(e.substring(D,M),At,d),y))return}else if(e.substring(D,M).trim()&&(g(Tt),y))return;if(33===(x=e.charCodeAt(M+1))){if(91===(b=e.charCodeAt(M+2))&&"CDATA["===e.substr(M+3,6)){if(-1===(D=e.indexOf("]]>",M)))return v("unclosed cdata");if(i&&(i(e.substring(M+9,D),d),y))return;D+=3;continue}if(45===b&&45===e.charCodeAt(M+3)){if(-1===(D=e.indexOf("--\x3e",M)))return v("unclosed comment");if(a&&(a(e.substring(M+4,D),At,d),y))return;D+=3;continue}}if(63!==x){for(u=M+1;;u++){if(w=e.charCodeAt(u),isNaN(w))return D=-1,v("unclosed tag");if(34===w)u=-1!==(b=e.indexOf('"',u+1))?b:u;else if(39===w)u=-1!==(b=e.indexOf("'",u+1))?b:u;else if(62===w){D=u;break}}if(33!==x){if(j={},47===x){if(T=!1,R=!0,!A.length)return v("missing open tag");if(u=O=A.pop(),b=M+2+u.length,e.substring(M+2,b)!==u)return v("closing tag mismatch");for(;b<D;b++)if(!(32===(x=e.charCodeAt(b))||x>8&&x<14))return v("close tag")}else{if(47===e.charCodeAt(D-1)?(u=O=e.substring(M+1,D-1),T=!0,R=!0):(u=O=e.substring(M+1,D),T=!0,R=!1),!(x>96&&x<123||x>64&&x<91||95===x||58===x))return v("illegal first char nodeName");for(b=1,m=u.length;b<m;b++)if(!((x=u.charCodeAt(b))>96&&x<123||x>64&&x<91||x>47&&x<59||45===x||95===x||46==x)){if(32===x||x<14&&x>8){O=u.substring(0,b),j=null;break}return v("invalid nodeName")}R||A.push(O)}if(h){if(o=k,T&&(R||S.push(o),null===j&&(f=-1!==u.indexOf("xmlns",b))&&(B=b,N=u,L(),f=!1)),_=O,-1!==(x=O.indexOf(":"))){if(!(E=k[O.substring(0,x)]))return v("missing namespace on <"+_+">");O=O.substr(x+1)}else E=k.xmlns;E&&(O=E+":"+O)}if(T&&(B=b,N=u,n&&(l?n(P,At,R,d):n(O,L,At,R,d),y)))return;if(R){if(r&&(r(l?P:O,At,T,d),y))return;h&&(k=T?o:S.pop())}D+=1}else{if(p&&(p(e.substring(M,D+1),At,d),y))return;D+=1}}else{if(-1===(D=e.indexOf("?>",M)))return v("unclosed question");if(s&&(s(e.substring(M,D+2),d),y))return;D+=2}}}(e),d=Lt,y=!1,m},this.stop=function(){y=!0}}function $t(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var Ft={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},qt="xsi:type";function Ut(e){return e.xml&&e.xml.serialize}function Vt(e){return Ut(e)===qt}function Ht(e,t){return $t(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function Wt(e){return new Error(e)}function Gt(e){return e.$descriptor}function Kt(e){Object(s.assign)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw Wt("expected element");var t,n=this.elementsById,r=Gt(e).idProperty;if(r&&(t=e.get(r.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw Wt("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function Yt(){}function Xt(){}function Qt(){}function Jt(e,t){this.property=e,this.context=t}function Zt(e,t){this.element=t,this.propertyDesc=e}function en(){}function tn(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function nn(e,t,n){tn.call(this,e,t,n)}function rn(e,t,n){this.model=e,this.context=n}function on(e){e instanceof Ot&&(e={model:e}),Object(s.assign)(this,{lax:!1},e)}Yt.prototype.handleEnd=function(){},Yt.prototype.handleText=function(){},Yt.prototype.handleNode=function(){},Xt.prototype=Object.create(Yt.prototype),Xt.prototype.handleNode=function(){return this},Qt.prototype=Object.create(Yt.prototype),Qt.prototype.handleText=function(e){this.body=(this.body||"")+e},Jt.prototype=Object.create(Qt.prototype),Jt.prototype.handleNode=function(e){if(this.element)throw Wt("expected no sub nodes");return this.element=this.createReference(e),this},Jt.prototype.handleEnd=function(){this.element.id=this.body},Jt.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},Zt.prototype=Object.create(Qt.prototype),Zt.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=ht(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},en.prototype=Object.create(Qt.prototype),en.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},tn.prototype=Object.create(en.prototype),tn.prototype.addReference=function(e){this.context.addReference(e)},tn.prototype.handleText=function(e){if(!Gt(this.element).bodyProperty)throw Wt("unexpected body text <"+e+">");Qt.prototype.handleText.call(this,e)},tn.prototype.handleEnd=function(){var e=this.body,t=this.element,n=Gt(t).bodyProperty;n&&void 0!==e&&(e=ht(n.type,e),t.set(n.name,e))},tn.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,i=Gt(r),o=this.context,a=new r({}),p=this.model;return Object(s.forEach)(n,(function(e,n){var r,c=i.propertiesByName[n];c&&c.isReference?c.isMany?(r=e.split(" "),Object(s.forEach)(r,(function(e){o.addReference({element:a,property:c.ns.name,id:e})}))):o.addReference({element:a,property:c.ns.name,id:e}):(c?e=ht(c.type,e):"xmlns"!==n&&(t=vt(n,i.ns.prefix),p.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))})),a},tn.prototype.getPropertyForNode=function(e){var t,n,r=vt(e.name),i=this.type,o=this.model,a=Gt(i),p=r.name,c=a.propertiesByName[p];if(c&&!c.isAttr)return Vt(c)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=vt(e);return function(e,t){var n=e.name,r=e.localName,i=t.xml&&t.xml.typePrefix;return i&&0===r.indexOf(i)?e.prefix+":"+r.slice(i.length):n}(n,t.getPackage(n.prefix))}(t,o),n=o.getType(t),Object(s.assign)({},c,{effectiveType:Gt(n).name})):c;var l=o.getPackage(r.prefix);if(l){if(t=Ht(r,l),n=o.getType(t),c=Object(s.find)(a.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return Object(s.assign)({},c,{effectiveType:Gt(n).name})}else if(c=Object(s.find)(a.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return c;throw Wt("unrecognized element <"+r.name+">")},tn.prototype.toString=function(){return"ElementDescriptor["+Gt(this.type).name+"]"},tn.prototype.valueHandler=function(e,t){return new Zt(e,t)},tn.prototype.referenceHandler=function(e){return new Jt(e,this.context)},tn.prototype.handler=function(e){return"Element"===e?new rn(this.model,e,this.context):new tn(this.model,e,this.context)},tn.prototype.handleChild=function(e){var t,n,r,i;if(t=this.getPropertyForNode(e),r=this.element,yt(n=t.effectiveType||t.type))return this.valueHandler(t,r);var o=(i=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?r.get(t.name).push(o):r.set(t.name,o),t.isReference?(Object(s.assign)(o,{element:r}),this.context.addReference(o)):o.$parent=r),i},nn.prototype=Object.create(tn.prototype),nn.prototype.createElement=function(e){var t=e.name,n=vt(t),r=this.model,i=this.type,o=r.getPackage(n.prefix),a=o&&Ht(n,o)||t;if(!i.hasType(a))throw Wt("unexpected element <"+e.originalName+">");return tn.prototype.createElement.call(this,e)},rn.prototype=Object.create(en.prototype),rn.prototype.createElement=function(e){var t=e.name,n=vt(t).prefix,r=e.ns[n+"$uri"],i=e.attributes;return this.model.createAny(t,r,i)},rn.prototype.handleChild=function(e){var t=new rn(this.model,"Element",this.context).handleNode(e),n=this.element,r=t.element;return void 0!==r&&((n.$children=n.$children||[]).push(r),r.$parent=n),t},rn.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},on.prototype.fromXML=function(e,t,n){var r=t.rootHandler;t instanceof tn?(r=t,t={}):"string"===typeof t?(r=this.handler(t),t={}):"string"===typeof r&&(r=this.handler(r));var i=this.model,o=this.lax,a=new Kt(Object(s.assign)({},t,{rootHandler:r})),p=new zt({proxy:!0}),c=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function l(e,t,n){var r=t(),i=r.line,o=r.column,s=r.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var p="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+i+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:p,error:e}),!0;throw Wt(p)}function u(e,t){return l(e,t,!0)}r.context=a,c.push(r);var d=/^<\?xml /i,f=/ encoding="([^"]+)"/i,h=/^utf-8$/i;function m(e,t){try{c.peek().handleText(e)}catch(n){u(n,t)}}var y=i.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return p.ns(y).on("openTag",(function(e,t,n,r){var i=e.attrs||{},a=Object.keys(i).reduce((function(e,n){var r=t(i[n]);return e[n]=r,e}),{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(r){l(r,t,o)&&c.push(new Xt)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},r)})).on("question",(function(e){if(d.test(e)){var t=f.exec(e),n=t&&t[1];n&&!h.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){c.pop().handleEnd()})).on("cdata",m).on("text",(function(e,t,n){!function(e,t){e.trim()&&m(e,t)}(t(e),n)})).on("error",l).on("warn",u),new Promise((function(t,n){var i;try{p.parse(e),function(){var e,t,n=a.elementsById,r=a.references;for(e=0;t=r[e];e++){var i=t.element,o=n[t.id],s=Gt(i).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var p=i.get(s.name),c=p.indexOf(t);-1===c&&(c=p.length),o?p[c]=o:p.splice(c,1)}else i.set(s.name,o)}}()}catch(u){i=u}var o=r.element;i||o||(i=Wt("failed to parse document as <"+r.type.$descriptor.name+">"));var s=a.warnings,c=a.references,l=a.elementsById;return i?(i.warnings=s,n(i)):t({rootElement:o,elementsById:l,references:c,warnings:s})}))},on.prototype.handler=function(e){return new nn(this.model,e)};var an=/<|>|'|"|&|\n\r|\n/g,sn=/<|>|&/g;function pn(e){var t={},n={},r={},i=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?i.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,i=this.getNSKey(t);r[i]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(i,o).filter((function(e){var n=t.getNSKey(e);return r[n]}))}}function cn(e,t){return $t(t)?(n=e).charAt(0).toLowerCase()+n.slice(1):e;var n}function ln(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function un(e){return Object(s.isString)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var dn={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},fn={"<":"lt",">":"gt","&":"amp"};function hn(e,t,n){return(e=Object(s.isString)(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function mn(e){this.tagName=e}function yn(){}function vn(e){this.tagName=e}function gn(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function bn(e,t){gn.call(this,e,t)}function xn(){this.value="",this.write=function(e){this.value+=e}}function wn(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function En(e){return e=Object(s.assign)({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var r=n||new xn,i=new wn(r,e.format);if(e.preamble&&i.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new gn).build(t).serializeTo(i),!n)return r.value}}}function On(e,t){Ot.call(this,e,t)}mn.prototype.build=function(e){return this.element=e,this},mn.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},yn.prototype.serializeValue=yn.prototype.serializeTo=function(e){e.append(this.escape?hn(this.value,sn,fn):this.value)},yn.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(sn)&&(this.escape=!0),this},ln(vn,yn),vn.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},gn.prototype.build=function(e){this.element=e;var t,n,r,i=e.$descriptor,o=this.propertyDescriptor,a=i.isGeneric;return t=a?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(i),this.tagName=this.addTagName(this.ns),a||(n=function(e){var t=e.$descriptor;return Object(s.filter)(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!Object(s.has)(e,n))return!1;var r=e[n];return r!==t.default&&null!==r&&(!t.isMany||r.length)}))}(e),this.parseAttributes((r=n,Object(s.filter)(r,(function(e){return e.isAttr})))),this.parseContainments(function(e){return Object(s.filter)(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},gn.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?Object(s.assign)({localName:t.ns.localName},e):Object(s.assign)({localName:cn(t.ns.localName,t.$pkg)},e)}(this.logNamespaceUsed(e.ns),e)},gn.prototype.nsPropertyTagName=function(e){return function(e,t){return Object(s.assign)({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},gn.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},gn.prototype.nsAttributeName=function(e){var t;if(t=Object(s.isString)(e)?vt(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:Object(s.assign)({localName:t.localName},n)},gn.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return Object(s.forEach)(e,(function(i,o){"$body"===o?n.push((new yn).build({type:"String"},i)):"$children"===o?Object(s.forEach)(i,(function(e){n.push(new gn(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,i)&&r.push({name:o,value:i})})),r},gn.prototype.parseNsAttribute=function(e,t,n){var r,i=e.$model,o=vt(t);if("xmlns"===o.prefix&&(r={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(r={uri:n}),!r)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(r,!0,!0);else{var a=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(a)}},gn.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,i=[];return Object(s.forEach)(r,(function(t,r){var o=n.parseNsAttribute(e,r,t);o&&i.push(o)})),i},gn.prototype.parseGenericAttributes=function(e,t){var n=this;Object(s.forEach)(t,(function(t){if(t.name!==qt)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(r){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,r)}}))},gn.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;Object(s.forEach)(e,(function(e){var i=r.get(e.name),o=e.isReference;if(e.isMany||(i=[i]),e.isBody)n.push((new yn).build(e,i[0]));else if(yt(e.type))Object(s.forEach)(i,(function(r){n.push(new vn(t.addTagName(t.nsPropertyTagName(e))).build(e,r))}));else if(o)Object(s.forEach)(i,(function(r){n.push(new mn(t.addTagName(t.nsPropertyTagName(e))).build(r))}));else{var a=Vt(e),p=function(e){return"property"===Ut(e)}(e);Object(s.forEach)(i,(function(r){var i;i=a?new bn(t,e):p?new gn(t,e):new gn(t),n.push(i.build(r))}))}}))},gn.prototype.getNamespaces=function(e){var t,n=this.namespaces,r=this.parent;return n||(t=r&&r.getNamespaces(),e||!t?this.namespaces=n=new pn(t):n=t),n},gn.prototype.logNamespace=function(e,t,n){var r=this.getNamespaces(n),i=e.uri,o=e.prefix;return r.byUri(i)&&!n||r.add(e,t),r.mapPrefix(o,i),e},gn.prototype.logNamespaceUsed=function(e,t){var n,r,i,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,p=e.uri;if(!s&&!p)return{localName:e.localName};if(i=Ft[s]||o&&(o.getPackage(s)||{}).uri,!(p=p||i||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(p))){for(n=s,r=1;a.uriByPrefix(n);)n=s+"_"+r++;e=this.logNamespace({prefix:n,uri:p},i===p)}return s&&a.mapPrefix(s,p),e},gn.prototype.parseAttributes=function(e){var t=this,n=this.element;Object(s.forEach)(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var i=[];Object(s.forEach)(r,(function(e){i.push(e.id)})),r=i.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},gn.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),un(e)},gn.prototype.addAttribute=function(e,t){var n=this.attrs;Object(s.isString)(t)&&(t=hn(t,an,dn)),n.push({name:e,value:t})},gn.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return e.getUsed().filter((function(e){return"xml"!==e.prefix})).map((function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),Object(s.forEach)(t,(function(t){e.append(" ").append(un(t.name)).append('="').append(t.value).append('"')}))},gn.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==yn;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),Object(s.forEach)(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},ln(bn,gn),bn.prototype.parseNsAttributes=function(e){var t=gn.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(qt),(r.prefix?r.prefix+":":"")+o+n.ns.localName),t},bn.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},On.prototype=Object.create(Ot.prototype),On.prototype.fromXML=function(e,t,n){Object(s.isString)(t)||(n=t,t="bpmn:Definitions");var r=new on(Object(s.assign)({model:this,lax:!0},n)),i=r.handler(t);return r.fromXML(e,i)},On.prototype.toXML=function(e,t){var n=new En(t);return new Promise((function(t,r){try{return t({xml:n.toXML(e)})}catch(i){return r(i)}}))};var _n={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};var Pn=function(e,t){return new On(Object(s.assign)({},_n,e),t)};function jn(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}function Sn(e){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var t=arguments.length;if(!(t>=1&&Object(s.isFunction)(arguments[t-1])))return e.apply(this,arguments);var n=arguments[t-1];console.warn(new Error("Passing callbacks to "+e.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var r=Array.prototype.slice.call(arguments,0,-1);e.apply(this,r).then((function(e){var t=Object.keys(e)[0];return n(null,e[t])}),(function(e){return n(e,e.warnings)}))}}function kn(e){Object(s.has)(e,"di")||Object.defineProperty(e,"di",{get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function An(e,t){return e.$instanceOf(t)}function Cn(e,t){var n={},r=[],i={};function o(e,t){return function(n){e(n,t)}}function a(e){n[e.id]=e}function p(n,r){try{var o=i[n.id]&&function(n,r){if(n.gfx)throw new Error(t("already rendered {element}",{element:jn(n)}));return e.element(n,i[n.id],r)}(n,r);return a(n),o}catch(s){c(s.message,{element:n,error:s}),console.error(t("failed to import {element}",{element:jn(n)})),console.error(s)}}function c(t,n){e.error(t,n)}function l(e){var n=e.bpmnElement;n?i[n.id]?c(t("multiple DI elements defined for {element}",{element:jn(n)}),{element:n}):(i[n.id]=e,kn(n)):c(t("no bpmnElement referenced in {element}",{element:jn(e)}),{element:e})}function u(e){var t;l(t=e.plane),Object(s.forEach)(t.planeElement,d)}function d(e){l(e)}function f(){for(;r.length;)r.shift()()}function h(e,t){S(e,t),w(e.ioSpecification,t),x(e.artifacts,t),a(e)}function m(e,t){p(e,t)}function y(e,t){p(e,t)}function v(e,t){p(e,t)}function g(e,t){p(e,t)}function b(e,t){p(e,t)}function x(e,t){Object(s.forEach)(e,(function(e){An(e,"bpmn:Association")?r.push((function(){b(e,t)})):b(e,t)}))}function w(e,t){e&&(Object(s.forEach)(e.dataInputs,o(v,t)),Object(s.forEach)(e.dataOutputs,o(g,t)))}function E(e,t){S(e,t),x(e.artifacts,t)}function O(e,t){var n=p(e,t);An(e,"bpmn:SubProcess")&&E(e,n||t),An(e,"bpmn:Activity")&&w(e.ioSpecification,t),r.push((function(){Object(s.forEach)(e.dataInputAssociations,o(y,t)),Object(s.forEach)(e.dataOutputAssociations,o(y,t))}))}function _(e,t){p(e,t)}function P(e,t){r.push((function(){var n=p(e,t);e.childLaneSet&&j(e.childLaneSet,n||t),function(e){Object(s.forEach)(e.flowNodeRef,(function(t){var n=t.get("lanes");n&&n.push(e)}))}(e)}))}function j(e,t){Object(s.forEach)(e.lanes,o(P,t))}function S(e,n){!function(e,n){Object(s.forEach)(e,(function(e){An(e,"bpmn:SequenceFlow")?r.push((function(){!function(e,t){p(e,t)}(e,n)})):An(e,"bpmn:BoundaryEvent")?r.unshift((function(){O(e,n)})):An(e,"bpmn:FlowNode")?O(e,n):An(e,"bpmn:DataObject")||(An(e,"bpmn:DataStoreReference")||An(e,"bpmn:DataObjectReference")?_(e,n):c(t("unrecognized flowElement {element} in context {context}",{element:jn(e),context:n?jn(n.businessObject):"null"}),{element:e,context:n}))}))}(e.flowElements,n),e.laneSets&&function(e,t){Object(s.forEach)(e,o(j,t))}(e.laneSets,n)}function k(e,t){var n=p(e,t),r=e.processRef;r&&h(r,n||t)}return{handleDeferred:f,handleDefinitions:function(a,p){var d=a.diagrams;if(p&&-1===d.indexOf(p))throw new Error(t("diagram not part of bpmn:Definitions"));if(!p&&d&&d.length&&(p=d[0]),!p)throw new Error(t("no diagram to display"));i={},u(p);var y=p.plane;if(!y)throw new Error(t("no plane for {element}",{element:jn(p)}));var v=y.bpmnElement;if(!v){if(v=function(e){return Object(s.find)(e.rootElements,(function(e){return An(e,"bpmn:Process")||An(e,"bpmn:Collaboration")}))}(a),!v)throw new Error(t("no process or collaboration to display"));c(t("correcting missing bpmnElement on {plane} to {rootElement}",{plane:jn(y),rootElement:jn(v)})),y.bpmnElement=v,l(y)}var g,b,w=function(t,n){return e.root(t,i[t.id],n)}(v,y);if(An(v,"bpmn:Process")||An(v,"bpmn:SubProcess"))h(v,w);else{if(!An(v,"bpmn:Collaboration"))throw new Error(t("unsupported bpmnElement for {plane}: {rootElement}",{plane:jn(y),rootElement:jn(v)}));g=v,b=w,Object(s.forEach)(g.participants,o(k,b)),x(g.artifacts,b),r.push((function(){!function(e,t){Object(s.forEach)(e,o(m,t))}(g.messageFlows,b)})),function(e,t){Object(s.filter)(e,(function(e){return!n[e.id]&&An(e,"bpmn:Process")&&e.laneSets})).forEach(o(h,t))}(a.rootElements,w)}f()},handleSubProcess:E,registerDi:l}}function Tn(e,t){var n=Mn(e);return n&&"function"===typeof n.$instanceOf&&n.$instanceOf(t)}function Rn(e,t){return Object(s.some)(t,(function(t){return Tn(e,t)}))}function Mn(e){return e&&e.businessObject||e}function Dn(e){return e&&e.di}function Nn(e,t,n){var r,i,o,a,p=[];function c(e,t){var n=new Cn({root:function(e,t){return r.add(e,t)},element:function(e,t,n){return r.add(e,t,n)},error:function(e,t){p.push({message:e,context:t})}},o);t=t||e.diagrams&&e.diagrams[0];var i=function(e,t){if(!t)return;var n,r=t.plane.bpmnElement,i=r;Tn(r,"bpmn:Process")||Tn(r,"bpmn:Collaboration")||(i=function(e){var t=e;for(;t;){if(Tn(t,"bpmn:Process"))return t;t=t.$parent}}(r));n=Tn(i,"bpmn:Collaboration")?i:Object(s.find)(e.rootElements,(function(e){if(Tn(e,"bpmn:Collaboration"))return Object(s.find)(e.participants,(function(e){return e.processRef===i}))}));var o=[i];n&&(o=Object(s.map)(n.participants,(function(e){return e.processRef}))).push(n);var a=Bn(o),p=[t],c=[r];return Object(s.forEach)(e.diagrams,(function(e){var t=e.plane.bpmnElement;-1!==a.indexOf(t)&&-1===c.indexOf(t)&&(p.push(e),c.push(t))})),p}(e,t);if(!i)throw new Error(o("no diagram to display"));Object(s.forEach)(i,(function(t){n.handleDefinitions(e,t)}));var c=t.plane.bpmnElement.id;a.setRootElement(a.findRoot(c+"_plane")||a.findRoot(c))}return new Promise((function(s,l){try{return r=e.get("bpmnImporter"),i=e.get("eventBus"),o=e.get("translate"),a=e.get("canvas"),i.fire("import.render.start",{definitions:t}),c(t,n),i.fire("import.render.complete",{error:undefined,warnings:p}),s({warnings:p})}catch(u){return u.warnings=p,l(u)}}))}function Bn(e){var t=[];return Object(s.forEach)(e,(function(e){e&&(t.push(e),t=t.concat(Bn(e.flowElements)))})),t}var Ln,In='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',zn={verticalAlign:"middle"},$n={color:"#404040"},Fn={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},qn={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Un={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"};function Vn(){Ln||(Ln=Object(p.g)('<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg></a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>'),Object(p.a)(Ln,Fn),Object(p.a)(Object(p.j)("svg",Ln),zn),Object(p.a)(Object(p.j)(".backdrop",Ln),qn),Object(p.a)(Object(p.j)(".notice",Ln),Un),Object(p.a)(Object(p.j)(".link",Ln),$n,{margin:"15px 20px 15px 10px",alignSelf:"center"}),p.f.bind(Ln,".backdrop","click",(function(e){document.body.removeChild(Ln)}))),document.body.appendChild(Ln)}function Hn(e){e=Object(s.assign)({},Gn,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),function(e){var t='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+In+"</a>",n=Object(p.g)(t);Object(p.a)(Object(p.j)("svg",n),zn),Object(p.a)(n,$n,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(n),p.h.bind(n,"click",(function(e){Vn(),e.preventDefault()}))}(this._container),this._init(this._container,this._moddle,e)}function Wn(e,t){return e.warnings=t,e}r(Hn,ct),Hn.prototype.importXML=Sn((function(e,t){var n=this;return new Promise((function(r,i){e=n._emit("import.parse.start",{xml:e})||e,n._moddle.fromXML(e,"bpmn:Definitions").then((function(e){var o=e.rootElement,a=e.references,s=e.warnings,p=e.elementsById;o=n._emit("import.parse.complete",function(e){var t=n.get("eventBus").createEvent(e);return Object.defineProperty(t,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:e.warnings,references:e.references,elementsById:e.elementsById}}}),t}({error:null,definitions:o,elementsById:p,references:a,warnings:s}))||o,n.importDefinitions(o,t).then((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:null,warnings:t}),r({warnings:t})})).catch((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:e,warnings:t}),i(Wn(e,t))}))})).catch((function(e){return n._emit("import.parse.complete",{error:e}),e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+t[2]);return e}(e),n._emit("import.done",{error:e,warnings:e.warnings}),i(e)}))}))})),Hn.prototype.importDefinitions=Sn((function(e,t){var n=this;return new Promise((function(r,i){n._setDefinitions(e),n.open(t).then((function(e){var t=e.warnings;return r({warnings:t})})).catch((function(e){return i(e)}))}))})),Hn.prototype.open=Sn((function(e){var t=this._definitions,n=e,r=this;return new Promise((function(i,o){if(!t){var a=new Error("no XML imported");return o(Wn(a,[]))}if("string"===typeof e&&(n=function(e,t){if(!t)return null;return Object(s.find)(e.diagrams,(function(e){return e.id===t}))||null}(t,e),!n)){var p=new Error("BPMNDiagram <"+e+"> not found");return o(Wn(p,[]))}try{r.clear()}catch(c){return o(Wn(c,[]))}Nn(r,t,n).then((function(e){var t=e.warnings;return i({warnings:t})})).catch((function(e){return o(e)}))}))})),Hn.prototype.saveXML=Sn((function(e){e=e||{};var t=this,n=this._definitions;return new Promise((function(r){if(!n)return r({error:new Error("no definitions loaded")});n=t._emit("saveXML.start",{definitions:n})||n,t._moddle.toXML(n,e).then((function(e){var n=e.xml;return n=t._emit("saveXML.serialized",{xml:n})||n,r({xml:n})}))})).catch((function(e){return{error:e}})).then((function(e){t._emit("saveXML.done",e);var n=e.error;return n?Promise.reject(n):e}))})),Hn.prototype.saveSVG=Sn((function(e){e=e||{};var t=this;return new Promise((function(e,n){var r,i;t._emit("saveSVG.start");try{var o=t.get("canvas"),a=o.getActiveLayer(),s=Object(p.j)("defs",o._svg),c=L(a),l=s?"<defs>"+L(s)+"</defs>":"",u=a.getBBox();r='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+u.width+'" height="'+u.height+'" viewBox="'+u.x+" "+u.y+" "+u.width+" "+u.height+'" version="1.1">'+l+c+"</svg>"}catch(d){i=d}return t._emit("saveSVG.done",{error:i,svg:r}),i?n(i):e({svg:r})}))})),Hn.prototype._setDefinitions=function(e){this._definitions=e},Hn.prototype.getModules=function(){return this._modules},Hn.prototype.clear=function(){this.getDefinitions()&&ct.prototype.clear.call(this)},Hn.prototype.destroy=function(){ct.prototype.destroy.call(this),Object(p.l)(this._container)},Hn.prototype.on=function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)},Hn.prototype.off=function(e,t){this.get("eventBus").off(e,t)},Hn.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"===typeof e&&(e=Object(p.j)(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Hn.prototype.getDefinitions=function(){return this._definitions},Hn.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},Hn.prototype._init=function(e,t,n){var r=n.modules||this.getModules(),i=n.additionalModules||[],o=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],r,i),a=Object(s.assign)(Object(s.omit)(n,["additionalModules"]),{canvas:Object(s.assign)({},n.canvas,{container:e}),modules:o});ct.call(this,a),n&&n.container&&this.attachTo(n.container)},Hn.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},Hn.prototype._createContainer=function(e){var t=Object(p.g)('<div class="bjs-container"></div>');return Object(p.a)(t,{width:Kn(e.width),height:Kn(e.height),position:e.position}),t},Hn.prototype._createModdle=function(e){var t=Object(s.assign)({},this._moddleExtensions,e.moddleExtensions);return new Pn(t)},Hn.prototype._modules=[];var Gn={width:"100%",height:"100%",position:"relative"};function Kn(e){return e+(Object(s.isNumber)(e)?"px":"")}function Yn(e){Hn.call(this,e),this.on("import.parse.complete",(function(e){e.error||this._collectIds(e.definitions,e.elementsById)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}function Xn(e,t){return!Tn(e,"bpmn:CallActivity")&&(Tn(e,"bpmn:SubProcess")?!(!(t=t||Dn(e))||!Tn(t,"bpmndi:BPMNPlane"))||t&&!!t.isExpanded:!Tn(e,"bpmn:Participant")||!!Mn(e).processRef)}function Qn(e){return e&&!!Mn(e).triggeredByEvent}function Jn(e,t){var n=Mn(e),r=!1;return n.eventDefinitions&&Object(s.forEach)(n.eventDefinitions,(function(e){Tn(e,t)&&(r=!0)})),r}function Zn(e){return Tn(e,"bpmn:FlowElement")||Tn(e,"bpmn:Participant")||Tn(e,"bpmn:Lane")||Tn(e,"bpmn:SequenceFlow")||Tn(e,"bpmn:MessageFlow")||Tn(e,"bpmn:DataInput")||Tn(e,"bpmn:DataOutput")?"name":Tn(e,"bpmn:TextAnnotation")?"text":Tn(e,"bpmn:Group")?"categoryValueRef":void 0}function er(e){var t=e.businessObject,n=Zn(t);if(n)return"categoryValueRef"===n?function(e){var t=e.categoryValueRef;return t&&t.value||""}(t):t[n]||""}r(Yn,Hn),Yn.prototype._createModdle=function(e){var t=Hn.prototype._createModdle.call(this,e);return t.ids=new a([32,36,1]),t},Yn.prototype._collectIds=function(e,t){var n,r=e.$model.ids;for(n in r.clear(),t)r.claim(n,t[n])};var tr="hsl(225, 10%, 15%)";function nr(e,t,n){return Object(s.some)(e.eventDefinitions,(function(r){return r.$type===t&&function(e,t){return Object(s.every)(t,(function(t,n){return e[n]==t}))}(e,n)}))}function rr(e){return e.businessObject}function ir(e,t){var n=Dn(e);return n.get("color:background-color")||n.get("bioc:fill")||t||"white"}function or(e,t){var n=Dn(e);return n.get("color:border-color")||n.get("bioc:stroke")||t||tr}function ar(e,t,n){var r=Dn(e).get("label");return r&&r.get("color:color")||t||or(e,n)}var sr=new a,pr=.95;function cr(e,t,n,r,i,o,a){X.call(this,t,a);var c=e&&e.defaultFillColor,l=e&&e.defaultStrokeColor,d=e&&e.defaultLabelColor,f=sr.next(),m={},y=n.computeStyle;function v(e,t){var n=Object(s.assign)({fill:tr,strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),r=t.ref||{x:0,y:0},o=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var a=S("marker");h(t.element,n),u(a,t.element),h(a,{id:e,viewBox:"0 0 20 20",refX:r.x,refY:r.y,markerWidth:20*o,markerHeight:20*o,orient:"auto"});var c=Object(p.j)("defs",i._svg);c||(c=S("defs"),u(i._svg,c)),u(c,a),m[e]=a}function g(e){return e.replace(/[^0-9a-zA-z]+/g,"_")}function x(e,t,n){var r=e+"-"+g(t)+"-"+g(n)+"-"+f;return m[r]||function(e,t,n,r){if("sequenceflow-end"===t){var i=S("path");h(i,{d:"M 1 5 L 11 10 L 1 15 Z"}),v(e,{element:i,ref:{x:11,y:10},scale:.5,attrs:{fill:r,stroke:r}})}if("messageflow-start"===t){var o=S("circle");h(o,{cx:6,cy:6,r:3.5}),v(e,{element:o,attrs:{fill:n,stroke:r},ref:{x:6,y:6}})}if("messageflow-end"===t){var a=S("path");h(a,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),v(e,{element:a,attrs:{fill:n,stroke:r,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===t){var s=S("path");h(s,{d:"M 11 5 L 1 10 L 11 15"}),v(e,{element:s,attrs:{fill:"none",stroke:r,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===t){var p=S("path");h(p,{d:"M 1 5 L 11 10 L 1 15"}),v(e,{element:p,attrs:{fill:"none",stroke:r,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===t){var c=S("path");h(c,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),v(e,{element:c,attrs:{fill:n,stroke:r},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===t){var l=S("path");h(l,{d:"M 6 4 L 10 16"}),v(e,{element:l,attrs:{stroke:r},ref:{x:0,y:10},scale:.5})}}(r,e,t,n),"url(#"+r+")"}function w(e,t,n,r,i){Object(s.isObject)(r)&&(i=r,r=0),r=r||0,"none"===(i=y(i,{stroke:tr,strokeWidth:2,fill:"white"})).fill&&delete i.fillOpacity;var o=t/2,a=n/2,p=S("circle");return h(p,{cx:o,cy:a,r:Math.round((t+n)/4-r)}),h(p,i),u(e,p),p}function E(e,t,n,r,i,o){Object(s.isObject)(i)&&(o=i,i=0),i=i||0,o=y(o,{stroke:tr,strokeWidth:2,fill:"white"});var a=S("rect");return h(a,{x:i,y:i,width:t-2*i,height:n-2*i,rx:r,ry:r}),h(a,o),u(e,a),a}function O(e,t,n){var r=Z(t,n=y(n,["no-fill"],{stroke:tr,strokeWidth:2,fill:"none"}));return u(e,r),r}function _(e,t,n){n=y(n,["no-fill"],{strokeWidth:2,stroke:tr});var r=S("path");return h(r,{d:t}),h(r,n),u(e,r),r}function P(e,t,n,r){return _(t,n,Object(s.assign)({"data-marker":e},r))}function j(e){return D[e]}function k(e){return function(t,n){return j(e)(t,n)}}function A(e,t){var n=rr(e),r=function(e){return"bpmn:IntermediateThrowEvent"===e.$type||"bpmn:EndEvent"===e.$type}(n);return n.eventDefinitions&&n.eventDefinitions.length>1?n.parallelMultiple?j("bpmn:ParallelMultipleEventDefinition")(t,e,r):j("bpmn:MultipleEventDefinition")(t,e,r):nr(n,"bpmn:MessageEventDefinition")?j("bpmn:MessageEventDefinition")(t,e,r):nr(n,"bpmn:TimerEventDefinition")?j("bpmn:TimerEventDefinition")(t,e,r):nr(n,"bpmn:ConditionalEventDefinition")?j("bpmn:ConditionalEventDefinition")(t,e):nr(n,"bpmn:SignalEventDefinition")?j("bpmn:SignalEventDefinition")(t,e,r):nr(n,"bpmn:EscalationEventDefinition")?j("bpmn:EscalationEventDefinition")(t,e,r):nr(n,"bpmn:LinkEventDefinition")?j("bpmn:LinkEventDefinition")(t,e,r):nr(n,"bpmn:ErrorEventDefinition")?j("bpmn:ErrorEventDefinition")(t,e,r):nr(n,"bpmn:CancelEventDefinition")?j("bpmn:CancelEventDefinition")(t,e,r):nr(n,"bpmn:CompensateEventDefinition")?j("bpmn:CompensateEventDefinition")(t,e,r):nr(n,"bpmn:TerminateEventDefinition")?j("bpmn:TerminateEventDefinition")(t,e,r):null}function C(e,t,n){n=Object(s.assign)({size:{width:100}},n);var r=o.createText(t||"",n);return b(r).add("djs-label"),u(e,r),r}function T(e,t,n){return C(e,rr(t).name,{box:t,align:n,padding:5,style:{fill:ar(t,d,l)}})}function R(e,t,n){nt(C(e,t,{box:{height:30,width:n.height},align:"center-middle",style:{fill:ar(n,d,l)}}),0,-(-1*n.height),270)}function M(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,r=1;r<t.length;r++)n+="L"+t[r].x+","+t[r].y+" ";return n}var D=this.handlers={"bpmn:Event":function(e,t,n){return"fillOpacity"in n||(n.fillOpacity=pr),w(e,t.width,t.height,n)},"bpmn:StartEvent":function(e,t){var n={fill:ir(t,c),stroke:or(t,l)};rr(t).isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round",fill:ir(t,c),stroke:or(t,l)});var r=j("bpmn:Event")(e,t,n);return A(t,e),r},"bpmn:MessageEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:n?or(t,l):ir(t,c),stroke:n?ir(t,c):or(t,l)})},"bpmn:TimerEventDefinition":function(e,t){var n=w(e,t.width,t.height,.2*t.height,{strokeWidth:2,fill:ir(t,c),stroke:or(t,l)});_(e,r.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:or(t,l)});for(var i=0;i<12;i++){var o=r.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),a=t.width/2;_(e,o,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*i+","+t.height/2+","+a+")",stroke:or(t,l)})}return n},"bpmn:EscalationEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?or(t,l):"none",stroke:or(t,l)})},"bpmn:ConditionalEventDefinition":function(e,t){return _(e,r.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:or(t,l)})},"bpmn:LinkEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:n?or(t,l):"none",stroke:or(t,l)})},"bpmn:ErrorEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:n?or(t,l):"none",stroke:or(t,l)})},"bpmn:CancelEventDefinition":function(e,t,n){var i=_(e,r.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:n?or(t,l):"none",stroke:or(t,l)});return it(i,45),i},"bpmn:CompensateEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:n?or(t,l):"none",stroke:or(t,l)})},"bpmn:SignalEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?or(t,l):"none",stroke:or(t,l)})},"bpmn:MultipleEventDefinition":function(e,t,n){return _(e,r.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:n?or(t,l):"none"})},"bpmn:ParallelMultipleEventDefinition":function(e,t){return _(e,r.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:or(t,l),stroke:or(t,l)})},"bpmn:EndEvent":function(e,t){var n=j("bpmn:Event")(e,t,{strokeWidth:4,fill:ir(t,c),stroke:or(t,l)});return A(t,e),n},"bpmn:TerminateEventDefinition":function(e,t){return w(e,t.width,t.height,8,{strokeWidth:4,fill:or(t,l),stroke:or(t,l)})},"bpmn:IntermediateEvent":function(e,t){var n=j("bpmn:Event")(e,t,{strokeWidth:1,fill:ir(t,c),stroke:or(t,l)});return w(e,t.width,t.height,3,{strokeWidth:1,fill:ir(t,"none"),stroke:or(t,l)}),A(t,e),n},"bpmn:IntermediateCatchEvent":k("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":k("bpmn:IntermediateEvent"),"bpmn:Activity":function(e,t,n){return"fillOpacity"in(n=n||{})||(n.fillOpacity=pr),E(e,t.width,t.height,10,n)},"bpmn:Task":function(e,t){var n={fill:ir(t,c),stroke:or(t,l)},r=j("bpmn:Activity")(e,t,n);return T(e,t,"center-middle"),N(e,t),r},"bpmn:ServiceTask":function(e,t){var n=j("bpmn:Task")(e,t);return _(e,r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:ir(t,c),stroke:or(t,l)}),_(e,r.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:ir(t,c)}),_(e,r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:ir(t,c),stroke:or(t,l)}),n},"bpmn:UserTask":function(e,t){var n=j("bpmn:Task")(e,t);return _(e,r.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:ir(t,c),stroke:or(t,l)}),_(e,r.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:ir(t,c),stroke:or(t,l)}),_(e,r.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:or(t,l),stroke:or(t,l)}),n},"bpmn:ManualTask":function(e,t){var n=j("bpmn:Task")(e,t);return _(e,r.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:ir(t,c),stroke:or(t,l)}),n},"bpmn:SendTask":function(e,t){var n=j("bpmn:Task")(e,t);return _(e,r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:or(t,l),stroke:ir(t,c)}),n},"bpmn:ReceiveTask":function(e,t){var n,i=rr(t),o=j("bpmn:Task")(e,t);return i.instantiate?(w(e,28,28,4.4,{strokeWidth:1}),n=r.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):n=r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),_(e,n,{strokeWidth:1,fill:ir(t,c),stroke:or(t,l)}),o},"bpmn:ScriptTask":function(e,t){var n=j("bpmn:Task")(e,t);return _(e,r.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:or(t,l)}),n},"bpmn:BusinessRuleTask":function(e,t){var n=j("bpmn:Task")(e,t);return h(_(e,r.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:ir(t,"#aaaaaa"),stroke:or(t,l)}),h(_(e,r.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:or(t,l)}),n},"bpmn:SubProcess":function(e,t,n){n=Object(s.assign)({fill:ir(t,c),stroke:or(t,l)},n);var r=j("bpmn:Activity")(e,t,n),i=Xn(t);return Qn(t)&&h(r,{strokeDasharray:"1,2"}),T(e,t,i?"center-top":"center-middle"),i?N(e,t):N(e,t,["SubProcessMarker"]),r},"bpmn:AdHocSubProcess":function(e,t){return j("bpmn:SubProcess")(e,t)},"bpmn:Transaction":function(e,t){var r=j("bpmn:SubProcess")(e,t),i=n.style(["no-fill","no-events"],{stroke:or(t,l)});return E(e,t.width,t.height,8,3,i),r},"bpmn:CallActivity":function(e,t){return j("bpmn:SubProcess")(e,t,{strokeWidth:5})},"bpmn:Participant":function(e,t){var n={fillOpacity:pr,fill:ir(t,c),stroke:or(t,l)},r=j("bpmn:Lane")(e,t,n);Xn(t)?(O(e,[{x:30,y:0},{x:30,y:t.height}],{stroke:or(t,l)}),R(e,rr(t).name,t)):C(e,rr(t).name,{box:t,align:"center-middle",style:{fill:ar(t,d,l)}});return!!rr(t).participantMultiplicity&&j("ParticipantMultiplicityMarker")(e,t),r},"bpmn:Lane":function(e,t,n){var r=E(e,t.width,t.height,0,Object(s.assign)({fill:ir(t,c),fillOpacity:.35,stroke:or(t,l)},n)),i=rr(t);"bpmn:Lane"===i.$type&&R(e,i.name,t);return r},"bpmn:InclusiveGateway":function(e,t){var n=j("bpmn:Gateway")(e,t);return w(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:ir(t,c),stroke:or(t,l)}),n},"bpmn:ExclusiveGateway":function(e,t){var n=j("bpmn:Gateway")(e,t),i=r.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return Dn(t).isMarkerVisible&&_(e,i,{strokeWidth:1,fill:or(t,l),stroke:or(t,l)}),n},"bpmn:ComplexGateway":function(e,t){var n=j("bpmn:Gateway")(e,t);return _(e,r.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:or(t,l),stroke:or(t,l)}),n},"bpmn:ParallelGateway":function(e,t){var n=j("bpmn:Gateway")(e,t);return _(e,r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:or(t,l),stroke:or(t,l)}),n},"bpmn:EventBasedGateway":function(e,t){var n=rr(t),i=j("bpmn:Gateway")(e,t);w(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:"none",stroke:or(t,l)});var o=n.eventGatewayType,a=!!n.instantiate;if("Parallel"===o){var s=r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}});h(_(e,s),{strokeWidth:1,fill:"none"})}else if("Exclusive"===o){if(!a)h(w(e,t.width,t.height,.26*t.height),{strokeWidth:1,fill:"none",stroke:or(t,l)});!function(){var n=r.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}}),i={strokeWidth:2,fill:ir(t,"none"),stroke:or(t,l)};_(e,n,i)}()}return i},"bpmn:Gateway":function(e,t){var n={fill:ir(t,c),fillOpacity:pr,stroke:or(t,l)};return function(e,t,n,r){var i=t/2,o=n/2,a=[{x:i,y:0},{x:t,y:o},{x:i,y:n},{x:0,y:o}].map((function(e){return e.x+","+e.y})).join(" ");r=y(r,{stroke:tr,strokeWidth:2,fill:"white"});var s=S("polygon");return h(s,{points:a}),h(s,r),u(e,s),s}(e,t.width,t.height,n)},"bpmn:SequenceFlow":function(e,t){var n,r=M(t),i=ir(t,c),o=or(t,l),a=_(e,r,{strokeLinejoin:"round",markerEnd:x("sequenceflow-end",i,o),stroke:or(t,l)}),s=rr(t);return t.source&&(n=t.source.businessObject,s.conditionExpression&&n.$instanceOf("bpmn:Activity")&&h(a,{markerStart:x("conditional-flow-marker",i,o)}),n.default&&(n.$instanceOf("bpmn:Gateway")||n.$instanceOf("bpmn:Activity"))&&n.default===s&&h(a,{markerStart:x("conditional-default-flow-marker",i,o)})),a},"bpmn:Association":function(e,t,n){var r=rr(t),i=ir(t,c),o=or(t,l);return n=Object(s.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:or(t,l)},n||{}),"One"!==r.associationDirection&&"Both"!==r.associationDirection||(n.markerEnd=x("association-end",i,o)),"Both"===r.associationDirection&&(n.markerStart=x("association-start",i,o)),O(e,t.waypoints,n)},"bpmn:DataInputAssociation":function(e,t){var n=ir(t,c),r=or(t,l);return j("bpmn:Association")(e,t,{markerEnd:x("association-end",n,r)})},"bpmn:DataOutputAssociation":function(e,t){var n=ir(t,c),r=or(t,l);return j("bpmn:Association")(e,t,{markerEnd:x("association-end",n,r)})},"bpmn:MessageFlow":function(e,t){var n=rr(t),i=Dn(t),o=ir(t,c),a=or(t,l),s=_(e,M(t),{markerEnd:x("messageflow-end",o,a),markerStart:x("messageflow-start",o,a),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:or(t,l)});if(n.messageRef){var p=s.getPointAtLength(s.getTotalLength()/2),u=r.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:p.x,y:p.y}}),f={strokeWidth:1};"initiating"===i.messageVisibleKind?(f.fill="white",f.stroke=tr):(f.fill="#888",f.stroke="white");var h=_(e,u,f),m=C(e,n.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:or(t,d)}}),y=h.getBBox(),v=m.getBBox();nt(m,p.x-v.width/2,p.y+y.height/2+10,0)}return s},"bpmn:DataObject":function(e,t){var n=_(e,r.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:ir(t,c),fillOpacity:pr,stroke:or(t,l)});return function(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}(rr(t))&&function(e,t){var n=(t.height-18)/t.height,i=r.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.33,my:n}});_(e,i,{strokeWidth:2})}(e,t),n},"bpmn:DataObjectReference":k("bpmn:DataObject"),"bpmn:DataInput":function(e,t){var n=r.getRawPath("DATA_ARROW"),i=j("bpmn:DataObject")(e,t);return _(e,n,{strokeWidth:1}),i},"bpmn:DataOutput":function(e,t){var n=r.getRawPath("DATA_ARROW"),i=j("bpmn:DataObject")(e,t);return _(e,n,{strokeWidth:1,fill:tr}),i},"bpmn:DataStoreReference":function(e,t){return _(e,r.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:ir(t,c),fillOpacity:pr,stroke:or(t,l)})},"bpmn:BoundaryEvent":function(e,t){var n=rr(t).cancelActivity,r={strokeWidth:1,fill:ir(t,c),stroke:or(t,l)};n||(r.strokeDasharray="6",r.strokeLinecap="round");var i=Object(s.assign)({},r,{fillOpacity:1}),o=Object(s.assign)({},r,{fill:"none"}),a=j("bpmn:Event")(e,t,i);return w(e,t.width,t.height,3,o),A(t,e),a},"bpmn:Group":function(e,t){return E(e,t.width,t.height,10,{stroke:or(t,l),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(e,t){return function(e,t){var n={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return C(e,er(t),{box:n,fitBox:!0,style:Object(s.assign)({},o.getExternalStyle(),{fill:ar(t,d,l)})})}(e,t)},"bpmn:TextAnnotation":function(e,t){var n=E(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return _(e,r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}}),{stroke:or(t,l)}),C(e,rr(t).text||"",{box:t,align:"left-top",padding:5,style:{fill:ar(t,d,l)}}),n},ParticipantMultiplicityMarker:function(e,t){P("participant-multiplicity",e,r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}}),{strokeWidth:2,fill:ir(t,c),stroke:or(t,l)})},SubProcessMarker:function(e,t){rt(E(e,14,14,0,{strokeWidth:1,fill:ir(t,c),stroke:or(t,l)}),t.width/2-7.5,t.height-20),P("sub-process",e,r.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}),{fill:ir(t,c),stroke:or(t,l)})},ParallelMarker:function(e,t,n){P("parallel",e,r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.parallel)/t.width,my:(t.height-20)/t.height}}),{fill:ir(t,c),stroke:or(t,l)})},SequentialMarker:function(e,t,n){P("sequential",e,r.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.seq)/t.width,my:(t.height-19)/t.height}}),{fill:ir(t,c),stroke:or(t,l)})},CompensationMarker:function(e,t,n){P("compensation",e,r.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1,fill:ir(t,c),stroke:or(t,l)})},LoopMarker:function(e,t,n){P("loop",e,r.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.loop)/t.width,my:(t.height-7)/t.height}}),{strokeWidth:1,fill:ir(t,c),stroke:or(t,l),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(e,t,n){P("adhoc",e,r.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.adhoc)/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:or(t,l),stroke:or(t,l)})}};function N(e,t,n){var r,i=rr(t),o=n&&-1!==n.indexOf("SubProcessMarker");r=o?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},Object(s.forEach)(n,(function(n){j(n)(e,t,r)})),i.isForCompensation&&j("CompensationMarker")(e,t,r),"bpmn:AdHocSubProcess"===i.$type&&j("AdhocMarker")(e,t,r);var a=i.loopCharacteristics,p=a&&a.isSequential;a&&(void 0===p&&j("LoopMarker")(e,t,r),!1===p&&j("ParallelMarker")(e,t,r),!0===p&&j("SequentialMarker")(e,t,r))}this._drawPath=_,this._renderer=j}r(cr,X),cr.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],cr.prototype.canRender=function(e){return Tn(e,"bpmn:BaseElement")},cr.prototype.drawShape=function(e,t){var n=t.type;return this._renderer(n)(e,t)},cr.prototype.drawConnection=function(e,t){var n=t.type;return this._renderer(n)(e,t)},cr.prototype.getShapePath=function(e){return Tn(e,"bpmn:Event")?function(e){var t=e.x+e.width/2,n=e.y+e.height/2,r=e.width/2;return Q([["M",t,n],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]])}(e):Tn(e,"bpmn:Activity")?function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height;return Q([["M",n+t,r],["l",i-2*t,0],["a",t,t,0,0,1,t,t],["l",0,o-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-i,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-o],["a",t,t,0,0,1,t,-t],["z"]])}(e,10):Tn(e,"bpmn:Gateway")?function(e){var t=e.width/2,n=e.height/2;return Q([["M",e.x+t,e.y],["l",t,n],["l",-t,n],["l",-t,-n],["z"]])}(e):function(e){var t=e.x,n=e.y,r=e.width;return Q([["M",t,n],["l",r,0],["l",0,e.height],["l",-r,0],["z"]])}(e)};var lr={width:150,height:50};function ur(e,t){var n;t.textContent=e;try{var r,i=""===e;return t.textContent=i?"dummy":e,r={width:(n=t.getBBox()).width+2*n.x,height:n.height},i&&(r.width=0),r}catch(o){return{width:0,height:0}}}function dr(e,t,n){for(var r,i=e.shift(),o=i;;){if((r=ur(o,n)).width=o?r.width:0," "===o||""===o||r.width<Math.round(t)||o.length<2)return fr(e,o,i,r);o=hr(o,r.width,t)}}function fr(e,t,n,r){if(t.length<n.length){var i=n.slice(t.length).trim();e.unshift(i)}return{width:r.width,height:r.height,text:t}}function hr(e,t,n){var r=Math.max(e.length*(n/t),1),i=function(e,t){var n,r=e.split(/(\s|-|\u00AD)/g),i=[],o=0;if(r.length>1)for(;n=r.shift();){if(!(n.length+o<t)){"-"!==n&&"\xad"!==n||i.pop();break}i.push(n),o+=n.length}var a=i[i.length-1];return a&&"\xad"===a&&(i[i.length-1]="-"),i.join("")}(e,r);return i||(i=e.slice(0,Math.max(Math.round(r-1),1))),i}function mr(e){this._config=Object(s.assign)({},{size:lr,padding:0,style:{},align:"center-top"},e||{})}mr.prototype.createText=function(e,t){return this.layoutText(e,t).element},mr.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},mr.prototype.layoutText=function(e,t){var n=Object(s.assign)({},this._config.size,t.box),r=Object(s.assign)({},this._config.style,t.style),i=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return Object(s.isObject)(e)?Object(s.assign)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,p=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),c=e.split(/\u00AD?\r?\n/),l=[],d=n.width-o.left-o.right,f=S("text");for(h(f,{x:0,y:0}),h(f,r),u(function(){var e=document.getElementById("helper-svg");return e||(h(e=S("svg"),{id:"helper-svg",width:0,height:0,visibility:"hidden",position:"fixed"}),document.body.appendChild(e)),e}(),f);c.length;)l.push(dr(c,d,f));"middle"===i.vertical&&(o.top=o.bottom=0);var m=Object(s.reduce)(l,(function(e,t,n){return e+(p||t.height)}),0)+o.top+o.bottom,y=Object(s.reduce)(l,(function(e,t,n){return t.width>e?t.width:e}),0),v=o.top;"middle"===i.vertical&&(v+=(n.height-m)/2),v-=(p||l[0].height)/4;var g=S("text");return h(g,r),Object(s.forEach)(l,(function(e){var t;switch(v+=p||e.height,i.horizontal){case"left":t=o.left;break;case"right":t=(a?y:d)-o.right-e.width;break;default:t=Math.max(((a?y:d)-e.width)/2+o.left,0)}var n=S("tspan");h(n,{x:t,y:v}),n.textContent=e.text,u(g,n)})),w(f),{dimensions:{width:y,height:m},element:g}};function yr(e){var t=Object(s.assign)({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,r=Object(s.assign)({},t,{fontSize:n},e&&e.externalStyle||{}),i=new mr({style:t});this.getExternalLabelBounds=function(e,t){var n=i.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:r});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(e,n){var r=i.getDimensions(n,{box:e,style:t,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(30,Math.round(r.height))}},this.createText=function(e,t){return i.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return r}}yr.$inject=["config.textRenderer"];var vr=/\{([^{}]+)\}/g,gr=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;var br={__init__:["bpmnRenderer"],bpmnRenderer:["type",cr],textRenderer:["type",yr],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,r,i=this.pathMap[e];t.abspos?(n=t.abspos.x,r=t.abspos.y):(n=t.containerWidth*t.position.mx,r=t.containerHeight*t.position.my);var o,a,s={};if(t.position){for(var p=t.containerHeight/i.height*t.yScaleFactor,c=t.containerWidth/i.width*t.xScaleFactor,l=0;l<i.heightElements.length;l++)s["y"+l]=i.heightElements[l]*p;for(var u=0;u<i.widthElements.length;u++)s["x"+u]=i.widthElements[u]*c}return o=i.d,a={mx:n,my:r,e:s},String(o).replace(vr,(function(e,t){return function(e,t,n){var r=n;return t.replace(gr,(function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))})),r=(null==r||r==n?e:r)+""}(e,t,a)}))}}]};var xr={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]},wr={width:90,height:20};function Er(e){return Tn(e,"bpmn:Event")||Tn(e,"bpmn:Gateway")||Tn(e,"bpmn:DataStoreReference")||Tn(e,"bpmn:DataObjectReference")||Tn(e,"bpmn:DataInput")||Tn(e,"bpmn:DataOutput")||Tn(e,"bpmn:SequenceFlow")||Tn(e,"bpmn:MessageFlow")||Tn(e,"bpmn:Group")}function Or(e){return jr(e.label)}function _r(e){var t=e.length/2-1,n=e[Math.floor(t)],r=e[Math.ceil(t+.01)],i=function(e){var t=e.length/2-1,n=e[Math.floor(t)],r=e[Math.ceil(t+.01)];return{x:n.x+(r.x-n.x)/2,y:n.y+(r.y-n.y)/2}}(e),o=Math.atan((r.y-n.y)/(r.x-n.x)),a=i.x,s=i.y;return Math.abs(o)<Math.PI/2?s-=15:a+=15,{x:a,y:s}}function Pr(e){return e.waypoints?_r(e.waypoints):Tn(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+wr.height/2}:{x:e.x+e.width/2,y:e.y+e.height+wr.height/2}}function jr(e){return e&&!!e.labelTarget}function Sr(e,t,n){return Object(s.assign)({id:e.id,type:e.$type,businessObject:e,di:t},n)}function kr(e,t,n){var r=e.waypoint;return!r||r.length<2?[Se(t),Se(n)]:r.map((function(e){return{x:e.x,y:e.y}}))}function Ar(e,t,n,r){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:jn(n),referenced:jn(t),property:r}))}function Cr(e,t,n,r,i,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=r,this._translate=i,this._textRenderer=o}Cr.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Cr.prototype.add=function(e,t,n){var r,i,o,a=this._translate;if(Tn(t,"bpmndi:BPMNPlane")){var s=Tn(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};r=this._elementFactory.createRoot(Sr(e,t,s)),this._canvas.addRootElement(r)}else if(Tn(t,"bpmndi:BPMNShape")){var p=!Xn(e,t),c=function(e){return Tn(e,"bpmn:Group")}(e);i=n&&(n.hidden||n.collapsed);var l=t.bounds;r=this._elementFactory.createShape(Sr(e,t,{collapsed:p,hidden:i,x:Math.round(l.x),y:Math.round(l.y),width:Math.round(l.width),height:Math.round(l.height),isFrame:c})),Tn(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,r),Tn(e,"bpmn:Lane")&&(o=0),Tn(e,"bpmn:DataStoreReference")&&(function(e,t){var n=t.x,r=t.y;return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}(n,Se(l))||(n=this._canvas.findRoot(n))),this._canvas.addShape(r,n,o)}else{if(!Tn(t,"bpmndi:BPMNEdge"))throw new Error(a("unknown di {di} for element {semantic}",{di:jn(t),semantic:jn(e)}));var u=this._getSource(e),d=this._getTarget(e);i=n&&(n.hidden||n.collapsed),r=this._elementFactory.createConnection(Sr(e,t,{hidden:i,source:u,target:d,waypoints:kr(t,u,d)})),Tn(e,"bpmn:DataAssociation")&&(n=this._canvas.findRoot(n)),Tn(e,"bpmn:SequenceFlow")&&(o=0),this._canvas.addConnection(r,n,o)}return Er(e)&&er(r)&&this.addLabel(e,t,r),this._eventBus.fire("bpmnElement.added",{element:r}),r},Cr.prototype._attachBoundary=function(e,t){var n=this._translate,r=e.attachedToRef;if(!r)throw new Error(n("missing {semantic}#attachedToRef",{semantic:jn(e)}));var i=this._elementRegistry.get(r.id),o=i&&i.attachers;if(!i)throw Ar(n,e,r,"attachedToRef");t.host=i,o||(i.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Cr.prototype.addLabel=function(e,t,n){var r,i,o;return r=function(e,t){var n,r,i,o=e.label;return o&&o.bounds?(i=o.bounds,r={width:Math.max(wr.width,i.width),height:i.height},n={x:i.x+i.width/2,y:i.y+i.height/2}):(n=Pr(t),r=wr),Object(s.assign)({x:n.x-r.width/2,y:n.y-r.height/2},r)}(t,n),(i=er(n))&&(r=this._textRenderer.getExternalLabelBounds(r,i)),o=this._elementFactory.createLabel(Sr(e,t,{id:e.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!er(n),x:Math.round(r.x),y:Math.round(r.y),width:Math.round(r.width),height:Math.round(r.height)})),this._canvas.addShape(o,n.parent)},Cr.prototype._getEnd=function(e,t){var n,r,i=e.$type,o=this._translate;if(r=e[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===i&&(r=r&&r[0]),("source"===t&&"bpmn:DataOutputAssociation"===i||"target"===t&&"bpmn:DataInputAssociation"===i)&&(r=e.$parent),n=r&&this._getElement(r))return n;throw r?Ar(o,e,r,t+"Ref"):new Error(o("{semantic}#{side} Ref not specified",{semantic:jn(e),side:t}))},Cr.prototype._getSource=function(e){return this._getEnd(e,"source")},Cr.prototype._getTarget=function(e){return this._getEnd(e,"target")},Cr.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};var Tr={__depends__:[br,{__depends__:[xr],bpmnImporter:["type",Cr]}]};function Rr(e){e&&"function"===typeof e.stopPropagation&&e.stopPropagation()}function Mr(e){return e.originalEvent||e.srcEvent}function Dr(e,t){Rr(e),Rr(Mr(e))}function Nr(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function Br(e,t){return(Mr(e)||e).button===t}function Lr(e){return Br(e,0)}function Ir(e){var t=Mr(e)||e;return!!Lr(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function zr(e){var t=Mr(e)||e;return Lr(e)&&t.shiftKey}function $r(e){return!0}function Fr(e){return Lr(e)||function(e){return Br(e,1)}(e)}function qr(e,t,n){var r=this;function i(n,r,i){var o,a;(function(e,t){return!(l[e]||Lr)(t)})(n,r)||(i?a=t.getGraphics(i):(o=r.delegateTarget||r.target)&&(a=o,i=t.get(a)),a&&i&&!1===e.fire(n,{element:i,gfx:a,originalEvent:r})&&(r.stopPropagation(),r.preventDefault()))}var o={};function a(e){return o[e]}var c={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},l={"element.contextmenu":$r,"element.mousedown":Fr,"element.mouseup":Fr,"element.click":Fr,"element.dblclick":Fr};function d(e,t,n,r){var a=o[n]=function(e){i(n,e)};r&&(l[n]=r),a.$delegate=p.f.bind(e,"svg, .djs-element",t,a)}function f(e,t,n){var r=a(n);r&&p.f.unbind(e,t,r.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,Object(s.forEach)(c,(function(e,n){f(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,Object(s.forEach)(c,(function(e,n){d(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,r=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:r})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,r=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:r})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;r.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;r.updateDefaultHit(t,n)}));var m=g("djs-hit djs-hit-stroke"),y=g("djs-hit djs-hit-click-stroke"),v={all:g("djs-hit djs-hit-all"),"click-stroke":y,stroke:m,"no-move":g("djs-hit djs-hit-no-move")};function g(e,t){return t=Object(s.assign)({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function b(e,t){var n=v[t];if(!n)throw new Error("invalid hit type <"+t+">");return h(e,n),e}function x(e,t){u(e,t)}this.removeHits=function(e){var t=Object(p.k)(".djs-hit",e);Object(s.forEach)(t,w)},this.createDefaultHit=function(e,t){var n,r=e.waypoints,i=e.isFrame;return r?this.createWaypointsHit(t,r):(n=i?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=Z(t);return b(n,"stroke"),x(e,n),n},this.createBoxHit=function(e,t,n){n=Object(s.assign)({x:0,y:0},n);var r=S("rect");return b(r,t),h(r,n),x(e,r),r},this.updateDefaultHit=function(e,t){var n=Object(p.j)(".djs-hit",t);if(n)return e.waypoints?function(e,t){h(e,{points:J(t)})}(n,e.waypoints):h(n,{width:e.width,height:e.height}),n},this.fire=i,this.triggerMouseEvent=function(e,t,n){var r=c[e];if(!r)throw new Error("unmapped DOM event name <"+e+">");return i(r,t,n)},this.mouseHandler=a,this.registerEvent=d,this.unregisterEvent=f}qr.$inject=["eventBus","elementRegistry","styles"];var Ur={__init__:["interactionEvents"],interactionEvents:["type",qr]};function Vr(e,t,n){this.offset=6;var r=t.cls("djs-outline",["no-fill"]),i=this;function o(e,t){var n=S("rect");return h(n,Object(s.assign)({x:10,y:10,rx:3,width:100,height:100},r)),u(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,r=Object(p.j)(".djs-outline",n);r||(r=o(n)),i.updateShapeOutline(r,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,r=Object(p.j)(".djs-outline",n);r||(r=o(n)),i.updateConnectionOutline(r,t)}))}Vr.prototype.updateShapeOutline=function(e,t){h(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},Vr.prototype.updateConnectionOutline=function(e,t){var n=ae(t);h(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},Vr.$inject=["eventBus","styles","elementRegistry"];var Hr={__init__:["outline"],outline:["type",Vr]};function Wr(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var n=this;e.on(["shape.remove","connection.remove"],(function(e){var t=e.element;n.deselect(t)})),e.on(["diagram.clear","root.set"],(function(e){n.select(null)}))}Wr.$inject=["eventBus","canvas"],Wr.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var r=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:t})}},Wr.prototype.get=function(){return this._selectedElements},Wr.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},Wr.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();Object(s.isArray)(e)||(e=e?[e]:[]);var i=this._canvas,o=i.getRootElement();e=e.filter((function(e){var t=i.findRoot(e);return o===t})),t?Object(s.forEach)(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var Gr="hover",Kr="selected";function Yr(e,t,n){this._canvas=e;var r=this;function i(t,n){e.addMarker(t,n)}function o(t,n){e.removeMarker(t,n)}this._multiSelectionBox=null,t.on("element.hover",(function(e){i(e.element,Gr)})),t.on("element.out",(function(e){o(e.element,Gr)})),t.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;Object(s.forEach)(t,(function(e){-1===n.indexOf(e)&&o(e,Kr)})),Object(s.forEach)(n,(function(e){-1===t.indexOf(e)&&i(e,Kr)})),r._updateSelectionOutline(n)})),t.on("element.changed",(function(e){n.isSelected(e.element)&&r._updateSelectionOutline(n.get())}))}function Xr(e,t,n,r){e.on("create.end",500,(function(e){var n=e.context,r=n.canExecute,i=n.elements,o=(n.hints||{}).autoSelect;if(r){if(!1===o)return;Object(s.isArray)(o)?t.select(o):t.select(i.filter(Qr))}})),e.on("connect.end",500,(function(e){var n=e.context.connection;n&&t.select(n)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],i=r.get(e.context.shape.id);Object(s.find)(n,(function(e){return i.id===e.id}))||t.select(i)})),e.on("element.click",(function(e){if(Lr(e)){var r=e.element;r===n.getRootElement()&&(r=null);var i=t.isSelected(r),o=t.get().length>1,a=Ir(e)||zr(e);if(i&&o)return a?t.deselect(r):t.select(r);i?t.deselect(r):t.select(r,a)}}))}function Qr(e){return!e.hidden}Yr.$inject=["canvas","eventBus","selection"],Yr.prototype._updateSelectionOutline=function(e){var t=this._canvas.getLayer("selectionOutline");E(t);var n=e.length>1;if(b(this._canvas.getContainer())[n?"add":"remove"]("djs-multi-select"),n){var r=function(e){return{x:e.x-6,y:e.y-6,width:e.width+12,height:e.height+12}}(ae(e)),i=S("rect");h(i,Object(s.assign)({rx:3},r)),b(i).add("djs-selection-outline"),u(t,i)}},Xr.$inject=["eventBus","selection","canvas","elementRegistry"];var Jr={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Ur,Hr],selection:["type",Wr],selectionVisuals:["type",Yr],selectionBehavior:["type",Xr]};function Zr(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Zr.prototype.next=function(){return this._prefix+ ++this._counter};var ei=new Zr("ov");function ti(e,t,n,r){this._eventBus=t,this._canvas=n,this._elementRegistry=r,this._ids=ei,this._overlayDefaults=Object(s.assign)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function(e){var t=Object(p.g)('<div class="djs-overlay-container" />');return Object(p.a)(t,{position:"absolute",width:0,height:0}),e.insertBefore(t,e.firstChild),t}(n.getContainer()),this._init()}function ni(e,t,n){Object(p.a)(e,{left:t+"px",top:n+"px"})}function ri(e,t){e.style.display=!1===t?"none":""}function ii(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}ti.$inject=["config.overlays","eventBus","canvas","elementRegistry"],ti.prototype.get=function(e){if(Object(s.isString)(e)&&(e={id:e}),Object(s.isString)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?Object(s.filter)(t.overlays,Object(s.matchPattern)({type:e.type})):t.overlays.slice():[]}return e.type?Object(s.filter)(this._overlays,Object(s.matchPattern)({type:e.type})):e.id?this._overlays[e.id]:null},ti.prototype.add=function(e,t,n){if(Object(s.isObject)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var r=this._ids.next();return n=Object(s.assign)({},this._overlayDefaults,n,{id:r,type:t,element:e,html:n.html}),this._addOverlay(n),r},ti.prototype.remove=function(e){var t=this.get(e)||[];Object(s.isArray)(t)||(t=[t]);var n=this;Object(s.forEach)(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(Object(p.l)(e.html),Object(p.l)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var r=t.overlays.indexOf(e);-1!==r&&t.overlays.splice(r,1)}}))},ti.prototype.show=function(){ri(this._overlayRoot)},ti.prototype.hide=function(){ri(this._overlayRoot,!1)},ti.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Object(p.d)(this._overlayRoot)},ti.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,r=t.x,i=t.y;if(t.waypoints){var o=ae(t);r=o.x,i=o.y}ni(n,r,i),Object(p.b)(e.html,"data-container-id",t.id)},ti.prototype._updateOverlay=function(e){var t,n,r=e.position,i=e.htmlContainer,o=e.element,a=r.left,s=r.top;void 0!==r.right&&(t=o.waypoints?ae(o).width:o.width,a=-1*r.right+t);void 0!==r.bottom&&(n=o.waypoints?ae(o).height:o.height,s=-1*r.bottom+n);ni(i,a||0,s||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())},ti.prototype._createOverlayContainer=function(e){var t=Object(p.g)('<div class="djs-overlays" />');Object(p.a)(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},ti.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";ii(this._overlayRoot,n)},ti.prototype._getOverlayContainer=function(e,t){var n=Object(s.find)(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},ti.prototype._addOverlay=function(e){var t,n,r=e.id,i=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),Object(s.isString)(o)&&(o=Object(p.g)(o)),n=this._getOverlayContainer(i),t=Object(p.g)('<div class="djs-overlay" data-overlay-id="'+r+'">'),Object(p.a)(t,{position:"absolute"}),t.appendChild(o),e.type&&Object(p.c)(t).add("djs-overlay-"+e.type),ri(t,this._canvas.findRoot(i)===this._canvas.getRootElement()),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[r]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},ti.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,r=this._canvas.findRoot(e.element),i=n&&n.minZoom,o=n&&n.maxZoom,a=e.htmlContainer,p=!0;(r!==this._canvas.getRootElement()||n&&(Object(s.isDefined)(i)&&i>t.scale||Object(s.isDefined)(o)&&o<t.scale))&&(p=!1),ri(a,p),this._updateOverlayScale(e,t)},ti.prototype._updateOverlayScale=function(e,t){var n,r,i,o=e.scale,a=e.htmlContainer,p="";!0!==o&&(!1===o?(n=1,r=1):(n=o.min,r=o.max),Object(s.isDefined)(n)&&t.scale<n&&(i=(1/t.scale||1)*n),Object(s.isDefined)(r)&&t.scale>r&&(i=(1/t.scale||1)*r)),Object(s.isDefined)(i)&&(p="scale("+i+","+i+")"),ii(a,p)},ti.prototype._updateOverlaysVisibilty=function(e){var t=this;Object(s.forEach)(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},ti.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element,r=t.get({element:n});Object(s.forEach)(r,(function(e){t.remove(e.id)}));var i=t._getOverlayContainer(n);if(i){Object(p.l)(i.html);var o=t._overlayContainers.indexOf(i);-1!==o&&t._overlayContainers.splice(o,1)}})),e.on("element.changed",500,(function(e){var n=e.element,r=t._getOverlayContainer(n,!0);r&&(Object(s.forEach)(r.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(r))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&Object(p.c)(n.html)[e.add?"add":"remove"](e.marker)})),e.on("root.set",(function(){t._updateOverlaysVisibilty(t._canvas.viewbox())})),e.on("diagram.clear",this.clear,this)};var oi={__init__:["overlays"],overlays:["type",ti]};function ai(e,t,n,r){e.on("element.changed",(function(r){var i=r.element;(i.parent||i===t.getRootElement())&&(r.gfx=n.getGraphics(i)),r.gfx&&e.fire(se(i)+".changed",r)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),r.updateContainments(n)})),e.on("shape.changed",(function(e){r.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){r.update("connection",e.element,e.gfx)}))}ai.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var si={__init__:["changeSupport"],changeSupport:["type",ai]};function pi(e){this._eventBus=e}pi.$inject=["eventBus"],pi.prototype.on=function(e,t,n,r,i,o){if((Object(s.isFunction)(t)||Object(s.isNumber)(t))&&(o=i,i=r,r=n,n=t,t=null),Object(s.isFunction)(n)&&(o=i,i=r,r=n,n=1e3),Object(s.isObject)(i)&&(o=i,i=!1),!Object(s.isFunction)(r))throw new Error("handlerFn must be a function");Object(s.isArray)(e)||(e=[e]);var a=this._eventBus;Object(s.forEach)(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");a.on(s,n,i?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(r,o):r,o)}))};function ci(e,t){t.invoke(pi,this),this.executed((function(t){var n=t.context;n.rootElement?e.setRootElement(n.rootElement):n.rootElement=e.getRootElement()})),this.revert((function(t){var n=t.context;n.rootElement&&e.setRootElement(n.rootElement)}))}Object(s.forEach)(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){pi.prototype[e]=function(t,n,r,i,o){(Object(s.isFunction)(t)||Object(s.isNumber)(t))&&(o=i,i=r,r=n,n=t,t=null),this.on(t,e,n,r,i,o)}})),r(ci,pi),ci.$inject=["canvas","injector"];var li={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",ci]},ui=n(35),di=n.n(ui),fi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hi(e){return(e=""+e)&&e.replace(/[&<>"']/g,(function(e){return fi[e]}))}var mi="_plane";function yi(e){return function(e){return e.replace(new RegExp("_plane$"),"")}(e.id)}function vi(e){var t=e.id;return Tn(e,"bpmn:SubProcess")?xi(t):t}function gi(e){return xi(e)}function bi(e){return Tn(Dn(e),"bpmndi:BPMNPlane")}function xi(e){return e+mi}function wi(e,t,n,r){var i=Object(p.g)('<ul class="bjs-breadcrumbs"></ul>'),o=r.getContainer(),a=Object(p.c)(o);o.appendChild(i);var c=[];function l(e){e&&(c=function(e){for(var t=Mn(e),n=[],r=t;r;r=r.$parent)(Tn(r,"bpmn:SubProcess")||Tn(r,"bpmn:Process"))&&n.push(r);return n.reverse()}(e));var n=c.map((function(e){var n=hi(e.name||e.id),i=Object(p.g)('<li><span class="bjs-crumb"><a title="'+n+'">'+n+"</a></span></li>"),o=r.findRoot(vi(e))||r.findRoot(e.id);if(!o&&Tn(e,"bpmn:Process")){var a=t.find((function(t){var n=Mn(t);return n&&n.processRef&&n.processRef===e}));o=r.findRoot(a.id)}return i.addEventListener("click",(function(){r.setRootElement(o)})),i}));i.innerHTML="";var o=n.length>1;a.toggle("bjs-breadcrumbs-shown",o),n.forEach((function(e){i.appendChild(e)}))}e.on("element.changed",(function(e){var t=Mn(e.element);Object(s.find)(c,(function(e){return e===t}))&&l()})),e.on("root.set",(function(e){l(e.element)}))}function Ei(e,t){var n=null,r=new Oi;e.on("root.set",(function(e){var i=e.element,o=t.viewbox(),a=r.get(i);if(r.set(n,{x:o.x,y:o.y,zoom:o.scale}),n=i,!Tn(i,"bpmn:Collaboration")||a){a=a||{x:0,y:0,zoom:1};var s=(o.x-a.x)*o.scale,p=(o.y-a.y)*o.scale;0===s&&0===p||t.scroll({dx:s,dy:p}),a.zoom!==o.scale&&t.zoom(a.zoom,{x:0,y:0})}})),e.on("diagram.clear",(function(){r.clear(),n=null}))}function Oi(){this._entries=[],this.set=function(e,t){var n=!1;for(var r in this._entries)if(this._entries[r][0]===e){this._entries[r][1]=t,n=!0;break}n||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var n in this._entries)if(this._entries[n][0]===e){t=n;break}-1!==t&&this._entries.splice(t,1)}}wi.$inject=["eventBus","elementRegistry","overlays","canvas"],Ei.$inject=["eventBus","canvas"];var _i=180,Pi=160;function ji(e,t){this._eventBus=e,this._moddle=t;var n=this;e.on("import.render.start",1500,(function(e,t){n.handleImport(t.definitions)}))}function Si(e){return Tn(e,"bpmndi:BPMNDiagram")?e:Si(e.$parent)}ji.prototype.handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach((function(e){e.plane&&e.plane.bpmnElement&&(t._processToDiagramMap[e.plane.bpmnElement.id]=e)}));var n=[];e.diagrams.forEach((function(e){var r=t.createNewDiagrams(e.plane);Array.prototype.push.apply(n,r)})),n.forEach((function(e){t.movePlaneElementsToOrigin(e.plane)}))}},ji.prototype.createNewDiagrams=function(e){var t=this,n=[],r=[];e.get("planeElement").forEach((function(t){var i=t.bpmnElement;if(i){var o=i.$parent;Tn(i,"bpmn:SubProcess")&&!t.isExpanded&&n.push(i),function(e,t){var n=e.$parent;if(!Tn(n,"bpmn:SubProcess")||n===t.bpmnElement)return!1;if(Rn(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))return!1;return!0}(i,e)&&r.push({diElement:t,parent:o})}}));var i=[];return n.forEach((function(e){if(!t._processToDiagramMap[e.id]){var n=t.createDiagram(e);t._processToDiagramMap[e.id]=n,i.push(n)}})),r.forEach((function(e){for(var r=e.diElement,i=e.parent;i&&-1===n.indexOf(i);)i=i.$parent;if(i){var o=t._processToDiagramMap[i.id];t.moveToDiPlane(r,o.plane)}})),i},ji.prototype.movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),n=function(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach((function(e){if(e.bounds){var n=_e(e.bounds);t.top=Math.min(n.top,t.top),t.left=Math.min(n.left,t.left)}})),Pe(t)}(e),r=n.x-_i,i=n.y-Pi;t.forEach((function(e){e.waypoint?e.waypoint.forEach((function(e){e.x=e.x-r,e.y=e.y-i})):e.bounds&&(e.bounds.x=e.bounds.x-r,e.bounds.y=e.bounds.y-i)}))},ji.prototype.moveToDiPlane=function(e,t){var n=Si(e).plane.get("planeElement");n.splice(n.indexOf(e),1),t.get("planeElement").push(e)},ji.prototype.createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),n=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=n,t.bpmnElement=e,n.$parent=this._definitions,this._definitions.diagrams.push(n),n},ji.$inject=["eventBus","moddle"];var ki=250;function Ai(e,t,n,r){pi.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=n,this._overlays=r;var i=this;this.executed("shape.toggleCollapse",ki,(function(e){var t=e.shape;i.canDrillDown(t)?i.addOverlay(t):i.removeOverlay(t)}),!0),this.reverted("shape.toggleCollapse",ki,(function(e){var t=e.shape;i.canDrillDown(t)?i.addOverlay(t):i.removeOverlay(t)}),!0),this.executed(["shape.create","shape.move","shape.delete"],ki,(function(e){var t=e.oldParent,n=e.newParent||e.parent,r=e.shape;i.canDrillDown(r)&&i.addOverlay(r),i.updateDrilldownOverlay(t),i.updateDrilldownOverlay(n),i.updateDrilldownOverlay(r)}),!0),this.reverted(["shape.create","shape.move","shape.delete"],ki,(function(e){var t=e.oldParent,n=e.newParent||e.parent,r=e.shape;i.canDrillDown(r)&&i.addOverlay(r),i.updateDrilldownOverlay(t),i.updateDrilldownOverlay(n),i.updateDrilldownOverlay(r)}),!0),t.on("import.render.complete",(function(){n.filter((function(e){return i.canDrillDown(e)})).map((function(e){i.addOverlay(e)}))}))}r(Ai,pi),Ai.prototype.updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var n=t.findRoot(e);n&&this.updateOverlayVisibility(n)}},Ai.prototype.canDrillDown=function(e){var t=this._canvas;return Tn(e,"bpmn:SubProcess")&&t.findRoot(vi(e))},Ai.prototype.updateOverlayVisibility=function(e){var t=this._overlays,n=e.businessObject,r=t.get({element:n.id,type:"drilldown"})[0];if(r){var i=n&&n.flowElements&&n.flowElements.length;Object(p.c)(r.html).toggle("bjs-drilldown-empty",!i)}},Ai.prototype.addOverlay=function(e){var t=this._canvas,n=this._overlays;n.get({element:e,type:"drilldown"}).length&&this.removeOverlay(e);var r=Object(p.g)('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');r.addEventListener("click",(function(){t.setRootElement(t.findRoot(vi(e)))})),n.add(e,"drilldown",{position:{bottom:-7,right:-8},html:r}),this.updateOverlayVisibility(e)},Ai.prototype.removeOverlay=function(e){this._overlays.remove({element:e,type:"drilldown"})},Ai.$inject=["canvas","eventBus","elementRegistry","overlays"];var Ci={__depends__:[oi,si,li],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",wi],drilldownCentering:["type",Ei],drilldownOverlayBehavior:["type",Ai],subprocessCompatibility:["type",ji]};function Ti(e){Hn.call(this,e)}function Ri(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function Mi(e,t){return-1!==(e=Object(s.isArray)(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)}function Di(e){return e.shiftKey}r(Ti,Hn),Ti.prototype._modules=[Tr,xr,Jr,oi,Ci],Ti.prototype._moddleExtensions={};var Ni="keyboard.keydown",Bi="input-handle-modified-keys";function Li(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}Li.$inject=["config.keyboard","eventBus"],Li.prototype._keydownHandler=function(e){this._keyHandler(e,Ni)},Li.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},Li.prototype._keyHandler=function(e,t){if(!this._isEventIgnored(e)){var n={keyEvent:e};this._eventBus.fire(t||Ni,n)&&e.preventDefault()}},Li.prototype._isEventIgnored=function(e){return(t=e.target)&&(Object(p.i)(t,"input, textarea")||"true"===t.contentEditable)&&this._isModifiedKeyIgnored(e);var t},Li.prototype._isModifiedKeyIgnored=function(e){return!Ri(e)||-1===this._getAllowedModifiers(e.target).indexOf(e.key)},Li.prototype._getAllowedModifiers=function(e){var t=Object(p.e)(e,"[input-handle-modified-keys]",!0);return!t||this._node&&!this._node.contains(t)?[]:t.getAttribute(Bi).split(",")},Li.prototype.bind=function(e){this.unbind(),this._node=e,p.h.bind(e,"keydown",this._keydownHandler,!0),p.h.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},Li.prototype.getBinding=function(){return this._node},Li.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),p.h.unbind(e,"keydown",this._keydownHandler,!0),p.h.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},Li.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},Li.prototype.addListener=function(e,t,n){Object(s.isFunction)(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||Ni,e,t)},Li.prototype.removeListener=function(e,t){this._eventBus.off(t||Ni,e)},Li.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},Li.prototype.isCmd=Ri,Li.prototype.isShift=Di,Li.prototype.isKey=Mi;var Ii=["c","C",67],zi=["v","V",86],$i=["y","Y",89],Fi=["z","Z",90];function qi(e,t){var n=this;e.on("editorActions.init",500,(function(e){var r=e.editorActions;n.registerBindings(t,r)}))}qi.$inject=["eventBus","keyboard"],qi.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}n("undo",(function(e){var n=e.keyEvent;if(Ri(n)&&!Di(n)&&Mi(Fi,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(Ri(n)&&(Mi($i,n)||Mi(Fi,n)&&Di(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if(Ri(n)&&Mi(Ii,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if(Ri(n)&&Mi(zi,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(Mi(["+","Add","="],n)&&Ri(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(Mi(["-","Subtract"],n)&&Ri(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(Mi("0",n)&&Ri(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(Mi(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};var Ui={__init__:["keyboard","keyboardBindings"],keyboard:["type",Li],keyboardBindings:["type",qi]},Vi={moveSpeed:50,moveSpeedAccelerated:200};function Hi(e,t,n){var r=this;this._config=Object(s.assign)({},Vi,e||{}),t.addListener((function(e){var n=e.keyEvent,i=r._config;if(!t.isCmd(n))return;if(t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?i.moveSpeedAccelerated:i.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return r.moveCanvas({speed:a,direction:o}),!0}})),this.moveCanvas=function(e){var t=0,r=0,i=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=i;break;case"up":r=i;break;case"right":t=-i;break;case"down":r=-i}n.scroll({dx:t,dy:r})}}Hi.$inject=["config.keyboardMove","keyboard","canvas"];var Wi={__depends__:[Ui],__init__:["keyboardMove"],keyboardMove:["type",Hi]},Gi=/^djs-cursor-.*$/;function Ki(e){var t=Object(p.c)(document.body);t.removeMatching(Gi),e&&t.add("djs-cursor-"+e)}function Yi(){Ki(null)}function Xi(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}function Qi(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function Ji(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zi(e,t){var n;function r(r){var i,o=n.start,a=n.button,s=Nr(r),p=Ji(s,o);(!n.dragging&&(i=p,Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))>15)&&(n.dragging=!0,0===a&&Xi(e),Ki("grab")),n.dragging)&&(p=Ji(s,n.last||n.start),t.scroll({dx:p.x,dy:p.y}),n.last=s);r.preventDefault()}function i(e){p.h.unbind(document,"mousemove",r),p.h.unbind(document,"mouseup",i),n=null,Yi()}e.on("element.mousedown",500,(function(e){return function(e){if(Object(p.e)(e.target,".djs-draggable"))return;var t=e.button;if(t>=2||e.ctrlKey||e.shiftKey||e.altKey)return;return n={button:t,start:Nr(e)},p.h.bind(document,"mousemove",r),p.h.bind(document,"mouseup",i),!0}(e.originalEvent)})),this.isActive=function(){return!!n}}Zi.$inject=["eventBus","canvas"];var eo={__init__:["moveCanvas"],moveCanvas:["type",Zi]};function to(e){return Math.log(e)/Math.log(10)}function no(e,t){var n=to(e.min),r=to(e.max);return(Math.abs(n)+Math.abs(r))/t}var ro=Math.sign||function(e){return e>=0?1:-1},io={min:.2,max:4};function oo(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=Object(s.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var r=this;t.on("canvas.init",(function(t){r._init(!1!==e.enabled)}))}oo.$inject=["config.zoomScroll","eventBus","canvas"],oo.prototype.scroll=function(e){this._canvas.scroll(e)},oo.prototype.reset=function(){this._canvas.zoom("fit-viewport")},oo.prototype.zoom=function(e,t){var n=no(io,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},oo.prototype._handleWheel=function(e){if(!Object(p.e)(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,i=e.shiftKey,o=-1*this._scale;if(o*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*ro(e.deltaY)*o,this.zoom(n,s)}else n=i?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},oo.prototype.stepZoom=function(e,t){var n=no(io,10);this._zoom(e,t,n)},oo.prototype._zoom=function(e,t,n){var r=this._canvas,i=e>0?1:-1,o=to(r.zoom()),a=Math.round(o/n)*n;a+=n*i;var s,p,c=Math.pow(10,a);r.zoom((s=io,p=c,Math.max(s.min,Math.min(s.max,p))),t)},oo.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,r=this._enabled;return"undefined"===typeof e&&(e=!r),r!==e&&p.h[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},oo.prototype._init=function(e){this.toggle(e)};var ao={__init__:["zoomScroll"],zoomScroll:["type",oo]};function so(e){Ti.call(this,e)}r(so,Ti),so.prototype._navigationModules=[Wi,eo,ao],so.prototype._modules=[].concat(Ti.prototype._modules,so.prototype._navigationModules);var po=n(29),co=n.n(po),lo=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function uo(e,t){return t.get(e,!1)}function fo(e){e.preventDefault(),"function"===typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"===typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"===typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function ho(e){function t(t){setTimeout((function(){Object(s.forEach)(lo,(function(t){p.h.unbind(e,t,fo,!0)}))}),500)}p.h.bind(e,"touchstart",(function(t){Object(s.forEach)(lo,(function(t){p.h.bind(e,t,fo,!0)}))}),!0),p.h.bind(e,"touchend",t,!0),p.h.bind(e,"touchcancel",t,!0);var n=new co.a.Manager(e,{inputClass:co.a.TouchInput,recognizers:[],domEvents:!0}),r=new co.a.Tap,i=new co.a.Pan({threshold:10}),o=new co.a.Press,a=new co.a.Pinch,c=new co.a.Tap({event:"doubletap",taps:2});return a.requireFailure(i),a.requireFailure(o),n.add([i,o,a,c,r]),n.reset=function(e){var t=this.recognizers,r=this.session;r.stopped||(n.stop(e),setTimeout((function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;r.curRecognizer=null}),0))},n.on("hammer.input",(function(e){e.srcEvent.defaultPrevented&&n.reset(!0)})),n}function mo(e,t,n,r,i){var o,a=uo("dragging",e),s=uo("move",e),c=uo("contextPad",e),l=uo("palette",e);function u(e,t){return function(n){var o=d(n.target),a=o&&r.get(o);return t&&(n.srcEvent.button=t),i.fire(e,n,a)}}function d(e){return Object(p.e)(e,"svg, .djs-element",!0)}function f(e){function n(e){var n=d(e.target),i=n&&r.get(n);if(s&&t.getRootElement()!==i)return s.start(e,i,!0);!function(e){var n=0,r=0;function i(e){var i=e.deltaX-n,o=e.deltaY-r;t.scroll({dx:i,dy:o}),n=e.deltaX,r=e.deltaY}function a(e){o.off("panmove",i),o.off("panend",a),o.off("pancancel",a)}o.on("panmove",i),o.on("panend",a),o.on("pancancel",a)}()}(o=ho(e)).on("tap",u("element.click")),o.on("doubletap",u("element.dblclick",1)),o.on("panstart",n),o.on("press",n),o.on("pinchstart",(function(e){var n=t.zoom(),r=e.center;function i(e){var i=1-(1-e.scale)/1.5,o=Math.max(.2,Math.min(4,i*n));t.zoom(o,r),fo(e)}function a(e){o.off("pinchmove",i),o.off("pinchend",a),o.off("pinchcancel",a),o.reset(!0)}o.on("pinchmove",i),o.on("pinchend",a),o.on("pinchcancel",a)}))}a&&n.on("drag.move",(function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=Nr(t),i=d(document.elementFromPoint(n.x,n.y)),o=i&&r.get(i);o!==e.hover&&(e.hover&&a.out(e),o&&(a.hover({element:o,gfx:i}),e.hover=o,e.hoverGfx=i))}})),c&&n.on("contextPad.create",(function(e){var t=ho(e.pad.html);t.on("panstart",(function(e){c.trigger("dragstart",e,!0)})),t.on("press",(function(e){c.trigger("dragstart",e,!0)})),t.on("tap",(function(e){c.trigger("click",e)}))})),l&&n.on("palette.create",(function(e){var t=ho(e.container);t.on("panstart",(function(e){l.trigger("dragstart",e,!0)})),t.on("press",(function(e){l.trigger("dragstart",e,!0)})),t.on("tap",(function(e){l.trigger("click",e)}))})),n.on("canvas.init",(function(e){f(e.svg)}))}function yo(e,t){var n=this;t.on("canvas.init",(function(e){n.addBBoxMarker(e.svg)}))}mo.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],yo.$inject=["canvas","eventBus"],yo.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=S("rect");h(n,{x:-1e4,y:1e4,width:10,height:10}),h(n,t),u(e,n);var r=S("rect");h(r,{x:1e4,y:1e4,width:10,height:10}),h(r,t),u(e,r)};var vo={__depends__:[{__depends__:[Ur],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",mo],touchFix:["type",yo]}]};function go(e){return e&&e[e.length-1]}function bo(e){return e.y}function xo(e){return e.x}var wo={left:xo,center:xo,right:function(e){return e.x+e.width},top:bo,middle:bo,bottom:function(e){return e.y+e.height}};function Eo(e){this._modeling=e}Eo.$inject=["modeling"],Eo.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},Eo.prototype._isType=function(e,t){return-1!==t.indexOf(e)},Eo.prototype._alignmentPosition=function(e,t){var n,r,i,o=this._getOrientationDetails(e),a=o.axis,p=o.dimension,c={},l={},u=!1;if(this._isType(e,["left","top"]))c[e]=t[0][a];else if(this._isType(e,["right","bottom"]))i=go(t),c[e]=i[a]+i[p];else if(this._isType(e,["center","middle"])){if(Object(s.forEach)(t,(function(e){var t=e[a]+Math.round(e[p]/2);l[t]?l[t].elements.push(e):l[t]={elements:[e],center:t}})),n=Object(s.sortBy)(l,(function(e){return e.elements.length>1&&(u=!0),e.elements.length})),u)return c[e]=go(n).center,c;r=t[0],i=go(t=Object(s.sortBy)(t,(function(e){return e[a]+e[p]}))),c[e]=function(e,t){return Math.round((e[a]+t[a]+t[p])/2)}(r,i)}return c},Eo.prototype.trigger=function(e,t){var n=this._modeling,r=Object(s.filter)(e,(function(e){return!(e.waypoints||e.host||e.labelTarget)}));if(!(r.length<2)){var i=wo[t],o=Object(s.sortBy)(r,i),a=this._alignmentPosition(t,o);n.alignElements(o,a)}};var Oo={__init__:["alignElements"],alignElements:["type",Eo]};function _o(e,t,n,r){for(var i;i=jo(e,n,t);)n=r(t,n,i);return n}function Po(e){return function(t,n,r){var i={x:n.x,y:n.y};return["x","y"].forEach((function(o){var a=e[o];if(a){var s="x"===o?"width":"height",p=a.margin,c=a.minDistance;i[o]=p<0?Math.min(r[o]+p-t[s]/2,n[o]-c+p):Math.max(r[o]+r[s]+p+t[s]/2,n[o]+c+p)}})),i}}function jo(e,t,n){var r={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height},i=function(e){var t=So(e);e.host&&(t=t.concat(So(e.host)));e.attachers&&(t=t.concat(e.attachers.reduce((function(e,t){return e.concat(So(t))}),[])));return t}(e);return Object(s.find)(i,(function(e){return e!==n&&"intersect"===ke(e,r,10)}))}function So(e){return(t=e,t.outgoing.map((function(e){return e.target}))).concat(function(e){return e.incoming.map((function(e){return e.source}))}(e));var t}function ko(){return!0}function Ao(e,t,n){e.on("autoPlace",100,(function(e){var t=e.shape;return function(e,t,n){n||(n={});var r=n.defaultDistance||50,i=Se(e);return{x:_e(e).right+r+t.width/2,y:i.y}}(e.source,t)})),e.on("autoPlace.end",(function(e){n.scrollToElement(e.shape)})),this.append=function(n,r,i){e.fire("autoPlace.start",{source:n,shape:r});var o=e.fire("autoPlace",{source:n,shape:r}),a=t.appendShape(n,r,o,n.parent,i);return e.fire("autoPlace.end",{source:n,shape:a}),a}}function Co(e,t){e.on("autoPlace.end",500,(function(e){t.select(e.shape)}))}Ao.$inject=["eventBus","modeling","canvas"],Co.$inject=["eventBus","selection"];var To={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Ao],autoPlaceSelectionBehavior:["type",Co]};function Ro(e,t){return Tn(t,"bpmn:TextAnnotation")?function(e,t){var n=_e(e),r={x:n.right+t.width/2,y:n.top-50-t.height/2};(function(e){return!!e.waypoints})(e)&&((r=Se(e)).x+=100,r.y-=50);return _o(e,t,r,Po({y:{margin:-30,minDistance:20}}))}(e,t):Rn(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(e,t){var n=_e(e),r={x:n.right-10+t.width/2,y:n.bottom+40+t.width/2};return _o(e,t,r,Po({x:{margin:30,minDistance:30}}))}(e,t):Tn(t,"bpmn:FlowNode")?function(e,t){var n=_e(e),r=Se(e),i=function(e,t){t||(t={});var n=t.defaultDistance||50,r=t.direction||"e",i=t.filter,o=t.getWeight||function(t){return t.source===e?1:-1},a=t.maxDistance||250,p=t.reference||"start";function c(e,t){return"n"===r?"start"===p?_e(e).top-_e(t).bottom:"center"===p?_e(e).top-Se(t).y:_e(e).top-_e(t).top:"w"===r?"start"===p?_e(e).left-_e(t).right:"center"===p?_e(e).left-Se(t).x:_e(e).left-_e(t).left:"s"===r?"start"===p?_e(t).top-_e(e).bottom:"center"===p?Se(t).y-_e(e).bottom:_e(t).bottom-_e(e).bottom:"start"===p?_e(t).left-_e(e).right:"center"===p?Se(t).x-_e(e).right:_e(t).right-_e(e).right}i||(i=ko);var l=e.incoming.filter(i).map((function(t){var n=o(t),r=n<0?c(t.source,e):c(e,t.source);return{id:t.source.id,distance:r,weight:n}})),u=e.outgoing.filter(i).map((function(t){var n=o(t),r=n>0?c(e,t.target):c(t.target,e);return{id:t.target.id,distance:r,weight:n}})),d=l.concat(u).reduce((function(e,t){return e[t.id+"__weight_"+t.weight]=t,e}),{});return Object(s.reduce)(d,(function(e,t){var n=t.distance,r=t.weight;return n<0||n>a||(e[String(n)]||(e[String(n)]=0),e[String(n)]+=1*r,(!e.distance||e[e.distance]<e[String(n)])&&(e.distance=n)),e}),{}).distance||n}(e,{filter:function(e){return Tn(e,"bpmn:SequenceFlow")}}),o=30,a=80,p="left";Tn(e,"bpmn:BoundaryEvent")&&-1!==(p=ke(e,e.host,-25)).indexOf("top")&&(o*=-1);var c={x:n.right+i+t.width/2,y:r.y+Mo(p,a)};return _o(e,t,c,Po({y:{margin:o,minDistance:a}}))}(e,t):void 0}function Mo(e,t){return-1!=e.indexOf("top")?-1*t:-1!=e.indexOf("bottom")?t:0}function Do(e){e.on("autoPlace",(function(e){var t=e.shape;return Ro(e.source,t)}))}Do.$inject=["eventBus"];var No={__depends__:[To],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",Do]};function Bo(e,t,n,r){pi.call(this,e),this._elementRegistry=t,this._modeling=n,this._rules=r;var i=this;this.postExecuted(["shape.create"],(function(e){var t=e.context,n=t.hints||{},r=t.shape,o=t.parent||t.newParent;!1!==n.autoResize&&i._expand([r],o)})),this.postExecuted(["elements.move"],(function(e){var t=e.context,n=Object(s.flatten)(Object(s.values)(t.closure.topLevel)),r=t.hints,o=!r||r.autoResize;if(!1!==o){var a=Object(s.groupBy)(n,(function(e){return e.parent.id}));Object(s.forEach)(a,(function(e,t){Object(s.isArray)(o)&&(e=e.filter((function(e){return Object(s.find)(o,Object(s.matchPattern)({id:e.id}))}))),i._expand(e,t)}))}})),this.postExecuted(["shape.toggleCollapse"],(function(e){var t=e.context,n=t.hints,r=t.shape;n&&!1===n.autoResize||r.collapsed||i._expand(r.children||[],r)})),this.postExecuted(["shape.resize"],(function(e){var t=e.context,n=t.hints,r=t.shape,o=r.parent;n&&!1===n.autoResize||o&&i._expand([r],o)}))}function Lo(e){e.invoke(Bo,this)}function Io(e){pi.call(this,e),this.init()}function zo(e){Io.call(this,e);var t=this;this.addRule("element.autoResize",(function(e){return t.canResize(e.elements,e.target)}))}function $o(e,t){zo.call(this,e),this._modeling=t}Bo.$inject=["eventBus","elementRegistry","modeling","rules"],r(Bo,pi),Bo.prototype._getOptimalBounds=function(e,t){var n=this.getOffset(t),r=this.getPadding(t),i=_e(ae(e)),o=_e(t),a={};return i.top-o.top<r.top&&(a.top=i.top-n.top),i.left-o.left<r.left&&(a.left=i.left-n.left),o.right-i.right<r.right&&(a.right=i.right+n.right),o.bottom-i.bottom<r.bottom&&(a.bottom=i.bottom+n.bottom),Pe(Object(s.assign)({},o,a))},Bo.prototype._expand=function(e,t){if("string"===typeof t&&(t=this._elementRegistry.get(t)),this._rules.allowed("element.autoResize",{elements:e,target:t})){var n=this._getOptimalBounds(e,t);if(function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(n,t)){var r=function(e,t){var n="";e=_e(e),t=_e(t),e.top>t.top&&(n=n.concat("n"));e.right<t.right&&(n=n.concat("w"));e.bottom<t.bottom&&(n=n.concat("s"));e.left>t.left&&(n=n.concat("e"));return n}(Object(s.pick)(t,["x","y","width","height"]),n);this.resize(t,n,{autoResize:r});var i=t.parent;i&&this._expand([t],i)}}},Bo.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}},Bo.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}},Bo.prototype.resize=function(e,t,n){this._modeling.resizeShape(e,t,null,n)},Lo.$inject=["injector"],r(Lo,Bo),Lo.prototype.resize=function(e,t,n){Tn(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,n):this._modeling.resizeShape(e,t,null,n)},Io.$inject=["eventBus"],r(Io,pi),Io.prototype.addRule=function(e,t,n){var r=this;"string"===typeof e&&(e=[e]),e.forEach((function(e){r.canExecute(e,t,(function(e,t,r){return n(e)}),!0)}))},Io.prototype.init=function(){},zo.$inject=["eventBus"],r(zo,Io),zo.prototype.canResize=function(e,t){return!1},r($o,zo),$o.$inject=["eventBus","modeling"],$o.prototype.canResize=function(e,t){if(Tn(t.di,"bpmndi:BPMNPlane"))return!1;if(!Tn(t,"bpmn:Participant")&&!Tn(t,"bpmn:Lane")&&!Tn(t,"bpmn:SubProcess"))return!1;var n=!0;return Object(s.forEach)(e,(function(e){(Tn(e,"bpmn:Lane")||e.labelTarget)&&(n=!1)})),n};var Fo={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Lo],bpmnAutoResizeProvider:["type",$o]};function qo(e,t,n){var r=this,i=n.get("dragging",!1);i&&t.on("drag.start",(function(n){t.once("drag.move",1500,(function(t){!function(t){if(!t.hover){var n=t.originalEvent,o=r._findTargetGfx(n),a=o&&e.get(o);o&&a&&(t.stopPropagation(),i.hover({element:a,gfx:o}),i.move(n))}}(t)}))})),function(){var e,n;t.on("element.hover",(function(t){e=t.gfx,n=t.element})),t.on("element.hover",1500,(function(r){n&&t.fire("element.out",{element:n,gfx:e})})),t.on("element.out",(function(){e=null,n=null}))}(),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=Nr(e),function(e){return Object(p.e)(e,"svg, .djs-element",!0)}(document.elementFromPoint(t.x,t.y))}}qo.$inject=["elementRegistry","eventBus","injector"];var Uo={__init__:["hoverFix"],hoverFix:["type",qo]},Vo=Math.round,Ho="djs-drag-active";function Wo(e){e.preventDefault()}function Go(e,t,n,r){var i,o={threshold:5,trapClick:!0};function a(e){var n=t.viewbox(),r=t._container.getBoundingClientRect();return{x:n.x+(e.x-r.left)/n.scale,y:n.y+(e.y-r.top)/n.scale}}function c(t,n){n=n||i;var r=e.createEvent(Object(s.assign)({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,r)&&e.fire(n.prefix+"."+t,r)}function l(e,r){var o,p=i.payload,l=i.displacement,u=i.globalStart,d=Nr(e),f=Ji(d,u),h=i.localStart,m=a(d),y=Ji(m,h);if(!i.active&&(r||(o=f,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>i.threshold))){if(Object(s.assign)(p,{x:Vo(h.x+l.x),y:Vo(h.y+l.y),dx:0,dy:0},{originalEvent:e}),!1===c("start"))return v();i.active=!0,i.keepSelection||(p.previousSelection=n.get(),n.select(null)),i.cursor&&Ki(i.cursor),t.addMarker(t.getRootElement(),Ho)}Dr(e),i.active&&(Object(s.assign)(p,{x:Vo(m.x+l.x),y:Vo(m.y+l.y),dx:Vo(y.x),dy:Vo(y.y)},{originalEvent:e}),c("move"))}function u(e){var t=!0;i.active&&(e&&(i.payload.originalEvent=e,Dr(e)),t=c("end")),!1===t&&c("rejected"),c("ended",g(!0!==t))}function d(e){27===e.which&&(Wo(e),v())}function f(t){var n;i.active&&(n=Xi(e),setTimeout(n,400),Wo(t)),u(t)}function h(e){l(e)}function m(e){var t=i.payload;t.hoverGfx=e.gfx,t.hover=e.element,c("hover")}function y(e){c("out");var t=i.payload;t.hoverGfx=null,t.hover=null}function v(e){var t;if(i){var n=i.active;n&&c("cancel"),t=g(e),n&&c("canceled",t)}}function g(o){var a,s;c("cleanup"),Yi(),s=i.trapClick?f:u,p.h.unbind(document,"mousemove",l),p.h.unbind(document,"dragstart",Wo),p.h.unbind(document,"selectstart",Wo),p.h.unbind(document,"mousedown",s,!0),p.h.unbind(document,"mouseup",s,!0),p.h.unbind(document,"keyup",d),p.h.unbind(document,"touchstart",h,!0),p.h.unbind(document,"touchcancel",v,!0),p.h.unbind(document,"touchmove",l,!0),p.h.unbind(document,"touchend",u,!0),e.off("element.hover",m),e.off("element.out",y),t.removeMarker(t.getRootElement(),Ho);var g=i.payload.previousSelection;return!1!==o&&g&&!n.get().length&&function(e){var t=e.filter((function(e){return r.get(e.id)}));t.length&&n.select(t)}(g),a=i,i=null,a}e.on("diagram.destroy",v),this.init=function(t,n,r,g){i&&v(!1),"string"===typeof n&&(g=r,r=n,n=null);var b,x,w,E,O,_=(g=Object(s.assign)({},o,g||{})).data||{};E=g.trapClick?f:u,t?(b=Mr(t)||t,x=Nr(t),Dr(t),"dragstart"===b.type&&Wo(b)):(b=null,x={x:0,y:0}),w=a(x),n||(n=w),O=function(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}(b),i=Object(s.assign)({prefix:r,data:_,payload:{},globalStart:x,displacement:Ji(n,w),localStart:w,isTouch:O},g),g.manual||(O?(p.h.bind(document,"touchstart",h,!0),p.h.bind(document,"touchcancel",v,!0),p.h.bind(document,"touchmove",l,!0),p.h.bind(document,"touchend",u,!0)):(p.h.bind(document,"mousemove",l),p.h.bind(document,"dragstart",Wo),p.h.bind(document,"selectstart",Wo),p.h.bind(document,"mousedown",E,!0),p.h.bind(document,"mouseup",E,!0)),p.h.bind(document,"keyup",d),e.on("element.hover",m),e.on("element.out",y)),c("init"),g.autoActivate&&l(t,!0)},this.move=l,this.hover=m,this.out=y,this.end=u,this.cancel=v,this.context=function(){return i},this.setOptions=function(e){Object(s.assign)(o,e)}}Go.$inject=["eventBus","canvas","selection","elementRegistry"];var Ko={__depends__:[Uo,Jr],dragging:["type",Go]};function Yo(e,t,n){this._canvas=n,this._opts=Object(s.assign)({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var r=this;t.on("drag.move",(function(e){var t=r._toBorderPoint(e);r.startScroll(t)})),t.on(["drag.cleanup"],(function(){r.stopScroll()}))}function Xo(e,t,n){return t<e&&e<n}Yo.$inject=["config.autoScroll","eventBus","canvas"],Yo.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,r=this,i=t.getContainer().getBoundingClientRect(),o=[e.x,e.y,i.width-e.x,i.height-e.y];this.stopScroll();for(var a=0,s=0,p=0;p<4;p++)Xo(o[p],n.scrollThresholdOut[p],n.scrollThresholdIn[p])&&(0===p?a=n.scrollStep:1==p?s=n.scrollStep:2==p?a=-n.scrollStep:3==p&&(s=-n.scrollStep));0===a&&0===s||(t.scroll({dx:a,dy:s}),this._scrolling=setTimeout((function(){r.startScroll(e)}),n.scrollRepeatTimeout))},Yo.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Yo.prototype.setOptions=function(e){this._opts=Object(s.assign)({},this._opts,e)},Yo.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=Nr(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};var Qo={__depends__:[Ko],__init__:["autoScroll"],autoScroll:["type",Yo]};function Jo(e){this._commandStack=e.get("commandStack",!1)}Jo.$inject=["injector"],Jo.prototype.allowed=function(e,t){var n=!0,r=this._commandStack;return r&&(n=r.canExecute(e,t)),void 0===n||n};var Zo={__init__:["rules"],rules:["type",Jo]},ea=Math.round,ta=Math.max;function na(e,t){return function(e,t){var n,r;for(n=0;r=e[n];n++)if(me(r,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,r,i,o=we()((r=10,[["M",(n=t).x,n.y],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]]),function(e){var t=[];return e.forEach((function(e,n){t.push([0===n?"M":"L",e.x,e.y])})),t}(e)),a=o[0],s=o[o.length-1];return a?a!==s?a.segment2!==s.segment2?{point:e[i=ta(a.segment2,s.segment2)-1],bendpoint:!0,index:i}:{point:{x:ea(a.x+s.x)/2,y:ea(a.y+s.y)/2},index:a.segment2}:{point:{x:ea(a.x),y:ea(a.y)},index:a.segment2}:null}(e,t)}function ra(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function ia(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function oa(e,t){var n=t[0],r=t[1],i={x:r.x-n.x,y:r.y-n.y},o=function(e,t,n){var r=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}];return-(r[0].n*t[0]+r[1].n*t[1])/(r[0].lambda*t[0]+r[1].lambda*t[1])}([n.x,n.y],[i.x,i.y],[e.x,e.y]);return{x:n.x+o*i.x,y:n.y+o*i.y}}function aa(e,t){var n=oa(e,t);return ra({x:n.x-e.x,y:n.y-e.y})}function sa(e,t){return ra({x:e.x-t.x,y:e.y-t.y})}var pa="djs-bendpoint",ca="djs-segment-dragger";function la(e,t,n){var r=function(e,t){var n,r=Nr(t),i=e._container.getBoundingClientRect();n={x:i.left,y:i.top};var o=e.viewbox();return{x:o.x+(r.x-n.x)/o.scale,y:o.y+(r.y-n.y)/o.scale}}(e,n);return na(t,r)}function ua(e,t){var n=S("g");b(n).add(pa),u(e,n);var r=S("circle");h(r,{cx:0,cy:0,r:4}),b(r).add("djs-visual"),u(n,r);var i=S("circle");return h(i,{cx:0,cy:0,r:10}),b(i).add("djs-hit"),u(n,i),t&&b(n).add(t),n}function da(e,t,n,r){var i=S("g");u(e,i);var o=function(e,t,n){var r=t.x-e.x,i=t.y-e.y;return ha("h"===n?r:i)}(t,n,r),a=S("rect");h(a,{x:-9,y:-3,width:18,height:6}),b(a).add("djs-visual"),u(i,a);var s=S("rect");return h(s,{x:-o/2,y:-8.5,width:o,height:17}),b(s).add("djs-hit"),u(i,s),it(i,"v"===r?90:0),i}function fa(e,t,n){var r=S("g"),i=be(t,n),o=ve(t,n);return u(e,r),da(r,t,n,o),b(r).add(ca),b(r).add("h"===o?"horizontal":"vertical"),rt(r,i.x,i.y),r}function ha(e){return Math.abs(Math.round(2*e/3))}function ma(e,t){var n=function(e,t){for(var n,r=t.waypoints,i=1/0,o=0;o<r.length-1;o++){var a=aa(e,[r[o],r[o+1]]);a<i&&(i=a,n=o)}return[r[n],r[n+1]]}(e,t);return oa(e,n)}function ya(e,t,n,r,i){function o(e,n){var o,a=n.waypoints,s=la(t,a,e);if(s)return o=function(e,t){var n,r,i=e.waypoints;return t.index<=0||t.bendpoint?null:(r=ve((n={start:i[t.index-1],end:i[t.index]}).start,n.end))?ha("h"===r?n.end.x-n.start.x:n.end.y-n.start.y)/2:null}(n,s),!function(e,t,n){var r,i,o,a,s,p,c=e.index,l=e.point;return!(c<=0||e.bendpoint)&&(o=be(r=t[c-1],i=t[c]),a=ve(r,i),s=Math.abs(l.x-o.x),p=Math.abs(l.y-o.y),a&&s<=n&&p<=n)}(s,a,o)?r.start(e,n,s.index,!s.bendpoint):i.start(e,n,s.index),!0}function a(e,t,r){p.h.bind(e,t,(function(e){n.triggerMouseEvent(t,e,r),e.stopPropagation()}))}function c(e,n){var r=t.getLayer("overlays"),i=Object(p.j)('.djs-bendpoints[data-element-id="'+di()(e.id)+'"]',r);return!i&&n&&(h(i=S("g"),{"data-element-id":e.id}),b(i).add("djs-bendpoints"),u(r,i),a(i,"mousedown",e),a(i,"click",e),a(i,"dblclick",e)),i}function l(e,t){return Object(p.j)('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function d(e,t){t.waypoints.forEach((function(t,n){var r=ua(e);u(e,r),rt(r,t.x,t.y)})),ua(e,"floating")}function f(e,t){for(var n,r,i,o=t.waypoints,s=1;s<o.length;s++)ve(n=o[s-1],r=o[s])&&(h(i=fa(e,n,r),{"data-segment-idx":s}),a(i,"mousemove",t))}function m(e){var t=c(e);return t||(d(t=c(e,!0),e),f(t,e)),t}function y(e){var t=c(e);t&&(!function(e){Object(s.forEach)(Object(p.k)(".djs-segment-dragger",e),(function(e){w(e)}))}(t),function(e){Object(s.forEach)(Object(p.k)(".djs-bendpoint",e),(function(e){w(e)}))}(t),f(t,e),d(t,e))}function v(e,t,n){var r,i,o=l(t.index,e),a=n[t.index-1],s=n[t.index],c=t.point,u=be(a,s),d=ve(a,s);o&&(r=function(e){return Object(p.j)(".djs-visual",e)}(o),i={x:c.x-u.x,y:c.y-u.y},"v"===d&&(i={x:i.y,y:i.x}),rt(r,i.x,i.y))}e.on("connection.changed",(function(e){y(e.element)})),e.on("connection.remove",(function(e){var t=c(e.element);t&&w(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=m(n),e.add?b(t).add(e.marker):b(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var n,r,i=e.element,o=i.waypoints;if(o){if(n=c(i,!0),!(r=la(t,o,e.originalEvent)))return;!function(e,t){var n=Object(p.j)(".floating",e),r=t.point;n&&rt(n,r.x,r.y)}(n,r),r.bendpoint||v(n,r,o)}})),e.on("element.mousedown",(function(e){if(Lr(e)){var t=e.originalEvent,n=e.element;if(n.waypoints)return o(t,n)}})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&m(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(m(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var r=c(t);r&&h(r,{"data-element-id":n})}})),this.addHandles=m,this.updateHandles=y,this.getBendpointsContainer=c,this.getSegmentDragger=l}ya.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var va=Math.round,ga="reconnectStart",ba="reconnectEnd",xa="updateWaypoints";function wa(e,t,n,r,i,o){this._injector=e,this.start=function(e,t,o,a){var s,p=n.getGraphics(t),c=t.source,l=t.target,u=t.waypoints,d=(s=a||0!==o?a||o!==u.length-1?xa:ba:ga)===xa?"connection.updateWaypoints":"connection.reconnect",f=i.allowed(d,{connection:t,source:c,target:l});!1===f&&(f=i.allowed(d,{connection:t,source:l,target:c})),!1!==f&&r.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:p,context:{allowed:f,bendpointIndex:o,connection:t,source:c,target:l,insert:a,type:s}}})},t.on("bendpoint.move.hover",(function(e){var t,n=e.context,r=n.connection,o=r.source,a=r.target,s=e.hover,p=n.type;if(n.hover=s,s){var c=p===xa?"connection.updateWaypoints":"connection.reconnect";if(t=n.allowed=i.allowed(c,{connection:r,source:p===ga?s:o,target:p===ba?s:a}))return n.source=p===ga?s:o,void(n.target=p===ba?s:a);!1===t&&(t=n.allowed=i.allowed(c,{connection:r,source:p===ba?s:a,target:p===ga?s:o})),t&&(n.source=p===ba?s:a,n.target=p===ga?s:o)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context,n=t.type;t.hover=null,t.source=null,t.target=null,n!==xa&&(t.allowed=!1)})),t.on("bendpoint.move.end",(function(e){var t=e.context,n=t.allowed,r=t.bendpointIndex,i=t.connection,a=t.insert,s=i.waypoints.slice(),p=t.source,c=t.target,l=t.type,u=t.hints||{},d={x:va(e.x),y:va(e.y)};if(!n)return!1;l===xa?(a?s.splice(r,0,d):s[r]=d,u.bendpointMove={insert:a,bendpointIndex:r},s=this.cropWaypoints(i,s),o.updateWaypoints(i,function(e){e=e.slice();for(var t,n,r,i=0;e[i];)t=e[i],n=e[i-1],0===me(t,r=e[i+1])||ye(n,r,t)?e.splice(i,1):i++;return e}(s),u)):(l===ga?(u.docking="source",Ea(t)&&(u.docking="target",u.newWaypoints=s.reverse())):l===ba&&(u.docking="target",Ea(t)&&(u.docking="source",u.newWaypoints=s.reverse())),o.reconnect(i,p,c,d,u))}),this)}function Ea(e){var t=e.hover,n=e.source,r=e.target,i=e.type;return i===ga?t&&r&&t===r&&n!==r:i===ba?t&&n&&t===n&&n!==r:void 0}wa.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],wa.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var r=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=r,t};var Oa="updateWaypoints",_a="connect-ok",Pa="connect-not-ok",ja="connect-hover",Sa="djs-updating",ka="djs-element-hidden";function Aa(e,t,n,r){this._injector=t;var i=t.get("connectionPreview",!1);n.on("bendpoint.move.start",(function(e){var t=e.context,n=t.bendpointIndex,i=t.connection,o=t.insert,a=i.waypoints,s=a.slice();t.waypoints=a,o&&s.splice(n,0,{x:e.x,y:e.y}),i.waypoints=s,b(t.draggerGfx=ua(r.getLayer("overlays"))).add("djs-dragging"),r.addMarker(i,ka),r.addMarker(i,Sa)})),n.on("bendpoint.move.hover",(function(e){var t=e.context,n=t.allowed,i=t.hover,o=t.type;if(i){if(r.addMarker(i,ja),o===Oa)return;n?(r.removeMarker(i,Pa),r.addMarker(i,_a)):!1===n&&(r.removeMarker(i,_a),r.addMarker(i,Pa))}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(e){var t=e.context,n=t.hover,i=t.target;n&&(r.removeMarker(n,ja),r.removeMarker(n,i?_a:Pa))})),n.on("bendpoint.move.move",(function(t){var n=t.context,r=n.allowed,o=n.bendpointIndex,a=n.draggerGfx,s=n.hover,p=n.type,c=n.connection,l=c.source,u=c.target,d=c.waypoints.slice(),f={x:t.x,y:t.y},h=n.hints||{},m={};i&&(h.connectionStart&&(m.connectionStart=h.connectionStart),h.connectionEnd&&(m.connectionEnd=h.connectionEnd),"reconnectStart"===p?Ea(n)?(m.connectionEnd=m.connectionEnd||f,m.source=u,m.target=s||l,d=d.reverse()):(m.connectionStart=m.connectionStart||f,m.source=s||l,m.target=u):"reconnectEnd"===p?Ea(n)?(m.connectionStart=m.connectionStart||f,m.source=s||u,m.target=l,d=d.reverse()):(m.connectionEnd=m.connectionEnd||f,m.source=l,m.target=s||u):(m.noCropping=!0,m.noLayout=!0,d[o]=f),p===Oa&&(d=e.cropWaypoints(c,d)),m.waypoints=d,i.drawPreview(n,r,m)),rt(a,t.x,t.y)}),this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(e){var t=e.context,n=t.connection,o=t.draggerGfx,a=t.hover,s=t.target,p=t.waypoints;n.waypoints=p,w(o),r.removeMarker(n,Sa),r.removeMarker(n,ka),a&&(r.removeMarker(a,_a),r.removeMarker(a,s?_a:Pa)),i&&i.cleanUp(t)}))}Aa.$inject=["bendpointMove","injector","eventBus","canvas"];var Ca="connect-hover",Ta="djs-updating";function Ra(e,t,n){return Ma(e,t,e[t]+n)}function Ma(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function Da(e){return"x"===e?"y":"x"}function Na(e,t,n){var r,i;return e.original?e.original:(r=Se(t),Ma(e,i=Da(n),r[i]))}function Ba(e,t,n,r,i,o){var a=e.get("connectionDocking",!1);function s(e,t){if(!a)return t;var n,r=e.waypoints;return e.waypoints=t,n=a.getCroppedWaypoints(e),e.waypoints=r,n}function p(e){i.update("connection",e.connection,e.connectionGfx)}function c(e,t,n){var r=e.newWaypoints,i=function(e,t,n,r){var i=Math.max(t[r],n[r]),o=Math.min(t[r],n[r]);return Ma(t,r,Math.min(Math.max(o+20,e[r]),i-20))}(n,r[e.segmentStartIndex+t],r[e.segmentEndIndex+t],Da(e.axis));rt(e.draggerGfx,i.x,i.y)}this.start=function(e,t,i){var o,a,s,p,c=n.getGraphics(t),l=i-1,u=i,d=t.waypoints,f=d[l],h=d[u],m=la(n,d,e);(a=ve(f,h))&&(s="v"===a?"x":"y",0===l&&(f=Na(f,t.source,s)),u===d.length-1&&(h=Na(h,t.target,s)),o={connection:t,segmentStartIndex:l,segmentEndIndex:u,segmentStart:f,segmentEnd:h,axis:s,dragPosition:p=m?m.point:{x:(f.x+h.x)/2,y:(f.y+h.y)/2}},r.init(e,p,"connectionSegment.move",{cursor:"x"===s?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:c,context:o}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,r=e.connection,i=n.getLayer("overlays");t.originalWaypoints=r.waypoints.slice(),t.draggerGfx=fa(i,t.segmentStart,t.segmentEnd),b(t.draggerGfx).add("djs-dragging"),n.addMarker(r,Ta)})),t.on("connectionSegment.move.move",(function(e){var t,n,r=e.context,i=r.connection,o=r.segmentStartIndex,a=r.segmentEndIndex,l=r.segmentStart,u=r.segmentEnd,d=r.axis,f=r.originalWaypoints.slice(),h=Ra(l,d,e["d"+d]),m=Ra(u,d,e["d"+d]),y=f.length,v=0;f[o]=h,f[a]=m,o<2&&(t=ke(i.source,h),1===o?"intersect"===t&&(f.shift(),f[0]=h,v--):"intersect"!==t&&(f.unshift(l),v++)),a>y-3&&(n=ke(i.target,m),a===y-2?"intersect"===n&&(f.pop(),f[f.length-1]=m):"intersect"!==n&&f.push(u)),r.newWaypoints=i.waypoints=s(i,f),c(r,v,e),r.newSegmentStartIndex=o+v,p(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,Ca)})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,Ca)})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,r=t.connection;t.draggerGfx&&w(t.draggerGfx),n.removeMarker(r,Ta)})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,p(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,r=t.newWaypoints,i=t.newSegmentStartIndex,a=function(e,t){var n=0;return{waypoints:e.filter((function(r,i){return!ye(e[i-1],e[i+1],r)||(n=i<=t?n-1:n,!1)})),segmentOffset:n}}(r=r.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}})),i),p=s(n,a.waypoints),c=a.segmentOffset,l={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:i+c}};o.updateWaypoints(n,p,l)}))}Ba.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var La=Math.abs,Ia=Math.round;function za(e){return{x:e.x,y:e.y}}function $a(e){return{x:e.x+e.width,y:e.y+e.height}}function Fa(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:Ia(e.x+e.width/2),y:Ia(e.y+e.height/2)}}function qa(e,t){var n=e.snapped;return!!n&&("string"===typeof t?n[t]:n.x&&n.y)}function Ua(e,t,n){if("string"!==typeof t)throw new Error("axis must be in [x, y]");if("number"!==typeof n&&!1!==n)throw new Error("value must be Number or false");var r,i=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,r=n-i,e[t]+=r,e["d"+t]+=r),i}function Va(e){return e.children||[]}var Ha=Math.abs,Wa=Math.round;function Ga(e){function t(e,t){if(Object(s.isArray)(e)){for(var n=e.length;n--;)if(Ha(e[n]-t)<=10)return e[n]}else{var r=t%(e=+e);if(r<10)return t-r;if(r>e-10)return t-r+e}return t}function n(e,t){return e.waypoints?ma(t,e):e.width?{x:Wa(e.width/2+e.x),y:Wa(e.height/2+e.y)}:void 0}e.on("connectionSegment.move.move",1500,(function(e){var r,i,o=function(e){var t=e.context,r=t.snapPoints,i=t.connection,o=i.waypoints,a=t.segmentStart,p=t.segmentStartIndex,c=t.segmentEnd,l=t.segmentEndIndex,u=t.axis;if(r)return r;var d=[o[p-1],a,c,o[l+1]];return p<2&&d.unshift(n(i.source,e)),l>o.length-3&&d.unshift(n(i.target,e)),t.snapPoints=r={horizontal:[],vertical:[]},Object(s.forEach)(d,(function(e){e&&(e=e.original||e,"y"===u&&r.horizontal.push(e.y),"x"===u&&r.vertical.push(e.x))})),r}(e),a=e.x,p=e.y;if(o){var c=a-(r=t(o.vertical,a)),l=p-(i=t(o.horizontal,p));Object(s.assign)(e,{dx:e.dx-c,dy:e.dy-l,x:r,y:i}),(c||-1!==o.vertical.indexOf(a))&&Ua(e,"x",r),(l||-1!==o.horizontal.indexOf(p))&&Ua(e,"y",i)}})),e.on(["connect.hover","connect.move","connect.end"],1500,(function(e){var t,r=e.context.hover,i=r&&n(r,e);(t=r)&&t.waypoints&&i&&i.x&&i.y&&(Ua(e,"x",i.x),Ua(e,"y",i.y))})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(e){var r,i,o=e.context,a=function(e){var t=e.snapPoints,n=e.connection.waypoints,r=e.bendpointIndex;if(t)return t;var i=[n[r-1],n[r+1]];return e.snapPoints=t={horizontal:[],vertical:[]},Object(s.forEach)(i,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(o),p=o.hover,c=p&&n(p,e),l=e.x,u=e.y;if(a){var d=l-(r=t(c?a.vertical.concat([c.x]):a.vertical,l)),f=u-(i=t(c?a.horizontal.concat([c.y]):a.horizontal,u));Object(s.assign)(e,{dx:e.dx-d,dy:e.dy-f,x:e.x-d,y:e.y-f}),(d||-1!==a.vertical.indexOf(l))&&Ua(e,"x",r),(f||-1!==a.horizontal.indexOf(u))&&Ua(e,"y",i)}}))}Ga.$inject=["eventBus"];var Ka={__depends__:[Ko,Zo],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",ya],bendpointMove:["type",wa],bendpointMovePreview:["type",Aa],connectionSegmentMove:["type",Ba],bendpointSnapping:["type",Ga]};function Ya(e,t,n,r){function i(e,t){return r.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",(function(e){var t,n=e.context,r=n.start,o=e.hover;if(n.hover=o,t=n.canExecute=i(r,o),!Object(s.isNil)(t)){if(!1!==t)return n.source=r,void(n.target=o);t=n.canExecute=i(o,r),Object(s.isNil)(t)||!1!==t&&(n.source=o,n.target=r)}})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.canExecute=!1})),e.on("connect.end",(function(e){var t=e.context,r=t.canExecute,i=t.connectionStart,o={x:e.x,y:e.y},a=t.source,p=t.target;if(!r)return!1;var c=null,l={connectionStart:Xa(t)?o:i,connectionEnd:Xa(t)?i:o};Object(s.isObject)(r)&&(c=r),t.connection=n.connect(a,p,c,l)})),this.start=function(e,n,r,i){Object(s.isObject)(r)||(i=r,r=Se(n)),t.init(e,"connect",{autoActivate:i,data:{shape:n,context:{start:n,connectionStart:r}}})}}function Xa(e){var t=e.hover,n=e.source,r=e.target;return t&&n&&t===n&&n!==r}Ya.$inject=["eventBus","dragging","modeling","rules"];var Qa="connect-ok",Ja="connect-not-ok";function Za(e,t,n){var r=e.get("connectionPreview",!1);r&&t.on("connect.move",(function(e){var t=e.context,n=t.canExecute,i=t.hover,o=t.source,a=t.start,s=t.startPosition,p=t.target,c=t.connectionStart||s,l=t.connectionEnd||{x:e.x,y:e.y},u=c,d=l;Xa(t)&&(u=l,d=c),r.drawPreview(t,n,{source:o||a,target:p||i,connectionStart:u,connectionEnd:d})})),t.on("connect.hover",900,(function(e){var t=e.context,r=e.hover,i=t.canExecute;null!==i&&n.addMarker(r,i?Qa:Ja)})),t.on(["connect.out","connect.cleanup"],1100,(function(e){var t=e.hover;t&&(n.removeMarker(t,Qa),n.removeMarker(t,Ja))})),r&&t.on("connect.cleanup",(function(e){r.cleanUp(e.context)}))}Za.$inject=["injector","eventBus","canvas"];var es={__depends__:[Jr,Zo,Ko],__init__:["connectPreview"],connect:["type",Ya],connectPreview:["type",Za]};function ts(e,t,n,r){this._canvas=t,this._graphicsFactory=n,this._elementFactory=r,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}ts.$inject=["injector","canvas","graphicsFactory","elementFactory"],ts.prototype.drawPreview=function(e,t,n){n=n||{};var r,i=e.connectionPreviewGfx,o=e.getConnection,a=n.source,s=n.target,p=n.waypoints,c=n.connectionStart,l=n.connectionEnd,u=n.noLayout,d=n.noCropping,f=n.noNoop,h=this;i||(i=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),E(i),o||(o=e.getConnection=function(e){var t={};return function(n){var r=JSON.stringify(n),i=t[r];return i||(i=t[r]=e.apply(null,arguments)),i}}((function(e,t,n){return h.getConnection(e,t,n)}))),t&&(r=o(t,a,s)),r?(r.waypoints=p||[],this._layouter&&!u&&(r.waypoints=this._layouter.layoutConnection(r,{source:a,target:s,connectionStart:c,connectionEnd:l,waypoints:n.waypoints||r.waypoints})),r.waypoints&&r.waypoints.length||(r.waypoints=[a?Se(a):c,s?Se(s):l]),this._connectionDocking&&(a||s)&&!d&&(r.waypoints=this._connectionDocking.getCroppedWaypoints(r,a,s)),this._graphicsFactory.drawConnection(i,r)):!f&&this.drawNoopPreview(i,n)},ts.prototype.drawNoopPreview=function(e,t){var n=t.source,r=t.target,i=t.connectionStart||Se(n),o=t.connectionEnd||Se(r),a=this.cropWaypoints(i,o,n,r);u(e,this.createNoopConnection(a[0],a[1]))},ts.prototype.cropWaypoints=function(e,t,n,r){var i=this._graphicsFactory,o=n&&i.getShapePath(n),a=r&&i.getShapePath(r),s=i.getConnectionPath({waypoints:[e,t]});return[e=n&&Ae(o,s,!0)||e,t=r&&Ae(a,s,!1)||t]},ts.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&w(e.connectionPreviewGfx)},ts.prototype.getConnection=function(e){var t=function(e){return Object(s.isObject)(e)?e:{}}(e);return this._elementFactory.createConnection(t)},ts.prototype.createConnectionPreviewGfx=function(){var e=S("g");return h(e,{pointerEvents:"none"}),b(e).add("djs-connection-preview"),u(this._canvas.getActiveLayer(),e),e},ts.prototype.createNoopConnection=function(e,t){var n=S("polyline");return h(n,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),h(n,{points:[e.x,e.y,t.x,t.y]}),n};var ns={__init__:["connectionPreview"],connectionPreview:["type",ts]},rs=Math.min,is=Math.max;function os(e){e.preventDefault()}function as(e){e.stopPropagation()}function ss(e){this.container=e.container,this.parent=Object(p.g)('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Object(p.j)("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=Object(s.bind)(this.autoResize,this),this.handlePaste=Object(s.bind)(this.handlePaste,this)}function ps(e,t){this._eventBus=e,this._providers=[],this._textbox=new ss({container:t.getContainer(),keyHandler:Object(s.bind)(this._handleKey,this),resizeHandler:Object(s.bind)(this._handleResize,this)})}ss.prototype.create=function(e,t,n,r){var i=this.parent,o=this.content,a=this.container;r=this.options=r||{},t=this.style=t||{};var c=Object(s.pick)(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Object(s.assign)(i.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},c);var l=Object(s.pick)(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Object(s.assign)(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},l),r.centerVertically&&Object(s.assign)(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},l),o.innerText=n,p.h.bind(o,"keydown",this.keyHandler),p.h.bind(o,"mousedown",as),p.h.bind(o,"paste",this.handlePaste),r.autoResize&&p.h.bind(o,"input",this.autoResize),r.resizable&&this.resizable(t),a.appendChild(i),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),i},ss.prototype.handlePaste=function(e){var t,n=this.options,r=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var i=this.autoResize(r);i&&this.resizeHandler(i)}},ss.prototype.insertText=function(e){e=e.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,e)||this._insertTextIE(e)},ss.prototype._insertTextIE=function(e){var t,n,r,i=this.getSelection(),o=i.startContainer,a=i.endContainer,s=i.startOffset,c=i.endOffset,l=i.commonAncestorContainer,u=(t=l.childNodes,[].slice.call(t));if(l.nodeType===Node.TEXT_NODE){var d=o.textContent;o.textContent=d.substring(0,s)+e+d.substring(c),n=o,r=s+e.length}else if(o===this.content&&a===this.content){var f=document.createTextNode(e);this.content.insertBefore(f,u[s]),n=f,r=f.textContent.length}else{var h=u.indexOf(o),m=u.indexOf(a);u.forEach((function(t,n){n===h?t.textContent=o.textContent.substring(0,s)+e+a.textContent.substring(c):n>h&&n<=m&&Object(p.l)(t)})),n=o,r=s+e.length}n&&void 0!==r&&setTimeout((function(){self.setSelection(n,r)}))},ss.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var r=e.getBoundingClientRect(),i=t.scrollHeight;e.style.height=i+"px",this.resizeHandler({width:r.width,height:r.height,dx:0,dy:i-r.height})}},ss.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,r=parseInt(this.style.minWidth)||0,i=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var c,l,u,d;n=this.resizeHandle=Object(p.g)('<div class="djs-direct-editing-resize-handle"></div>');var f=function(n){os(n),as(n);var s=rs(is(u+n.clientX-c,r),o),p=rs(is(d+n.clientY-l,i),a);t.style.width=s+"px",t.style.height=p+"px",e.resizeHandler({width:u,height:d,dx:n.clientX-c,dy:n.clientY-l})},h=function e(t){os(t),as(t),p.h.unbind(document,"mousemove",f,!1),p.h.unbind(document,"mouseup",e,!1)};p.h.bind(n,"mousedown",(function(e){os(e),as(e),c=e.clientX,l=e.clientY;var n=t.getBoundingClientRect();u=n.width,d=n.height,p.h.bind(document,"mousemove",f),p.h.bind(document,"mouseup",h)}))}Object(s.assign)(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},ss.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),p.h.unbind(t,"keydown",this.keyHandler),p.h.unbind(t,"mousedown",as),p.h.unbind(t,"input",this.autoResize),p.h.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Object(p.l)(n)),Object(p.l)(e)},ss.prototype.getValue=function(){return this.content.innerText.trim()},ss.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},ss.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var r=window.getSelection();r.removeAllRanges(),r.addRange(n)},ps.$inject=["eventBus","canvas"],ps.prototype.registerProvider=function(e){this._providers.push(e)},ps.prototype.isActive=function(e){return!(!this._active||e&&this._active.element!==e)},ps.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},ps.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},ps.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},ps.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,r=this.$textbox.getBoundingClientRect(),i=this.getValue();i===e.context.text&&r.height===n.height&&r.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,i,e.context.text,{x:r.left-t.left,y:r.top-t.top,width:r.width,height:r.height})),this._fire("complete"),this.close()}},ps.prototype.getValue=function(){return this._textbox.getValue()},ps.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},ps.prototype._handleResize=function(e){this._fire("resize",e)},ps.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=Object(s.find)(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};var cs={__depends__:[Ur],__init__:["directEditing"],directEditing:["type",ps]},ls=".entry";function us(e,t,n,r){this._canvas=e,this._eventBus=n,this._overlays=r;var i=Object(s.isDefined)(t&&t.scale)?t.scale:{min:1,max:1.5};this._overlaysConfig={scale:i},this._current=null,this._init()}function ds(e,t){return-1!==e.indexOf(t)}us.$inject=["canvas","config.contextPad","eventBus","overlays"],us.prototype._init=function(){var e=this;this._eventBus.on("selection.changed",(function(t){var n=t.newSelection,r=n.length?1===n.length?n[0]:n:null;r?e.open(r,!0):e.close()})),this._eventBus.on("elements.changed",(function(t){var n=t.elements,r=e._current;if(r){var i=r.target;Object(s.some)(Object(s.isArray)(i)?i:[i],(function(e){return ds(n,e)}))&&e.open(i,!0)}}))},us.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(e){e.providers.push(t)}))},us.prototype.getEntries=function(e){var t=this._getProviders(),n=Object(s.isArray)(e)?"getMultiElementContextPadEntries":"getContextPadEntries",r={};return Object(s.forEach)(t,(function(t){if(Object(s.isFunction)(t[n])){var i=t[n](e);Object(s.isFunction)(i)?r=i(r):Object(s.forEach)(i,(function(e,t){r[t]=e}))}})),r},us.prototype.trigger=function(e,t,n){var r,i,o=this._current.target,a=this._current.entries,c=t.delegateTarget||t.target;if(!c)return t.preventDefault();if(r=a[Object(p.b)(c,"data-action")].action,i=t.originalEvent||t,Object(s.isFunction)(r)){if("click"===e)return r(i,o,n)}else if(r[e])return r[e](i,o,n);t.preventDefault()},us.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},us.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},us.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),r=n.html;Object(s.forEach)(t,(function(e,t){var n,i=e.group||"default",o=Object(p.g)(e.html||'<div class="entry" draggable="true"></div>');Object(p.b)(o,"data-action",t),(n=Object(p.j)("[data-group="+i+"]",r))||(n=Object(p.g)('<div class="group" data-group="'+i+'"></div>'),r.appendChild(n)),n.appendChild(o),e.className&&function(e,t){var n=Object(p.c)(e);(t=Object(s.isArray)(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(o,e.className),e.title&&Object(p.b)(o,"title",e.title),e.imageUrl&&o.appendChild(Object(p.g)('<img src="'+e.imageUrl+'">'))})),Object(p.c)(r).add("open"),this._current={target:e,entries:t,pad:n},this._eventBus.fire("contextPad.open",{current:this._current})},us.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,r=Object(p.g)('<div class="djs-context-pad"></div>'),i=this._getPosition(e),o=Object(s.assign)({html:r},this._overlaysConfig,i);p.f.bind(r,ls,"click",(function(e){t.trigger("click",e)})),p.f.bind(r,ls,"dragstart",(function(e){t.trigger("dragstart",e)})),p.h.bind(r,"mousedown",(function(e){e.stopPropagation()}));var a=this._canvas.getRootElement();this._overlayId=n.add(a,"context-pad",o);var c=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:e,pad:c}),c},us.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},us.prototype.isOpen=function(e){var t=this._current;if(!t)return!1;if(!e)return!0;var n=t.target;return Object(s.isArray)(e)===Object(s.isArray)(n)&&(Object(s.isArray)(e)?e.length===n.length&&Object(s.every)(e,(function(e){return ds(n,e)})):n===e)},us.prototype._getPosition=function(e){var t=ae(Object(s.isArray)(e)?e:[e]);return{position:{left:t.x+t.width+12,top:t.y-6}}};var fs={__depends__:[Ur,oi],contextPad:["type",us]},hs=["marker-start","marker-mid","marker-end"],ms=["circle","ellipse","line","path","polygon","polyline","rect"];function ys(e,t,n,r){this._elementRegistry=e,this._canvas=n,this._styles=r,this._clonedMarkers={};var i=this;t.on("drag.cleanup",(function(){Object(s.forEach)(i._clonedMarkers,(function(e){w(e)})),i._clonedMarkers={}}))}ys.$inject=["elementRegistry","eventBus","canvas","styles"],ys.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},ys.prototype.addDragger=function(e,t,n){var r=O(n=n||this.getGfx(e)),i=n.getBoundingClientRect();return this._cloneMarkers(tt(r)),h(r,this._styles.cls("djs-dragger",[],{x:i.top,y:i.left})),u(t,r),r},ys.prototype.addFrame=function(e,t){var n=S("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return u(t,n),n},ys.prototype._cloneMarkers=function(e){var t,n=this;if(e.childNodes)for(var r=0;r<e.childNodes.length;r++)n._cloneMarkers(e.childNodes[r]);(t=e,-1!==ms.indexOf(t.nodeName))&&hs.forEach((function(t){if(h(e,t)){var r=function(e,t,n){var r=(i=h(e,t),i.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]);var i;return Object(p.j)("marker#"+r,n||document)}(e,t,n._canvas.getContainer());n._cloneMarker(e,r,t)}}))},ys.prototype._cloneMarker=function(e,t,n){var r=t.id,i=this._clonedMarkers[r];if(!i){var o=r+"-clone";(i=O(t)).id=o,b(i).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[r]=i;var a=Object(p.j)("defs",this._canvas._svg);a||(a=S("defs"),u(this._canvas._svg,a)),u(a,i)}h(e,n,"url(#"+this._clonedMarkers[r].id+")")};var vs={__init__:["previewSupport"],previewSupport:["type",ys]},gs="drop-ok",bs="drop-not-ok",xs="attach-ok",ws="new-parent",Es="create";function Os(e,t,n,r,i){function o(t,n){[xs,gs,bs,ws].forEach((function(r){r===n?e.addMarker(t,r):e.removeMarker(t,r)}))}function a(){var e=t.context();e&&e.prefix===Es&&t.cancel()}n.on(["create.move","create.hover"],(function(e){var t=e.context,n=t.elements,r=e.hover,a=t.source,p=t.hints||{};if(!r)return t.canExecute=!1,void(t.target=null);_s(e);var c={x:e.x,y:e.y},l=t.canExecute=r&&function(e,t,n,r,o){if(!t)return!1;e=Object(s.filter)(e,(function(t){var n=t.labelTarget;return!t.parent&&!(function(e){return!!e.labelTarget}(t)&&-1!==e.indexOf(n))}));var a=Object(s.find)(e,(function(e){return!Ps(e)})),p=!1,c=!1,l=!1;js(e)&&(p=i.allowed("shape.attach",{position:n,shape:a,target:t})),p||(l=js(e)?i.allowed("shape.create",{position:n,shape:a,source:r,target:t}):i.allowed("elements.create",{elements:e,position:n,target:t}));var u=o.connectionTarget;return l||p?(a&&r&&(c=i.allowed("connection.create",{source:u===r?a:r,target:u===r?r:a,hints:{targetParent:t,targetAttach:p}})),{attach:p,connect:c}):(null===l||null===p)&&null}(n,r,c,a,p);r&&null!==l&&(t.target=r,l&&l.attach?o(r,xs):o(r,l?ws:bs))})),n.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.hover;t&&o(t,null)})),n.on("create.end",(function(e){var t=e.context,n=t.source,i=t.shape,o=t.elements,a=t.target,p=t.canExecute,c=p&&p.attach,l=p&&p.connect,u=t.hints||{};if(!1===p||!a)return!1;_s(e);var d={x:e.x,y:e.y};l?i=r.appendShape(n,i,d,a,{attach:c,connection:!0===l?{}:l,connectionTarget:u.connectionTarget}):(o=r.createElements(o,d,a,Object(s.assign)({},u,{attach:c})),i=Object(s.find)(o,(function(e){return!Ps(e)}))),Object(s.assign)(t,{elements:o,shape:i}),Object(s.assign)(e,{elements:o,shape:i})})),n.on("create.init",(function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],2e3,(function(){n.off("elements.changed",a)}))})),this.start=function(e,n,r){Object(s.isArray)(n)||(n=[n]);var i=Object(s.find)(n,(function(e){return!Ps(e)}));if(i){r=Object(s.assign)({elements:n,hints:{},shape:i},r||{}),Object(s.forEach)(n,(function(e){Object(s.isNumber)(e.x)||(e.x=0),Object(s.isNumber)(e.y)||(e.y=0)}));var o=ae(Object(s.filter)(n,(function(e){return!e.hidden})));Object(s.forEach)(n,(function(e){Ps(e)&&(e.waypoints=Object(s.map)(e.waypoints,(function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}}))),Object(s.assign)(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})})),t.init(e,Es,{cursor:"grabbing",autoActivate:!0,data:{shape:i,elements:n,context:r}})}}}function _s(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function Ps(e){return!!e.waypoints}function js(e){return e&&1===e.length&&!Ps(e[0])}Os.$inject=["canvas","dragging","eventBus","modeling","rules"];function Ss(e,t,n,r,i){t.on("create.move",750,(function(t){var o=t.hover,a=t.context,s=a.elements,p=a.dragGroup;p||(p=a.dragGroup=function(e){var t=S("g");h(t,i.cls("djs-drag-group",["no-events"]));var o=S("g");return e.forEach((function(e){var i;e.hidden||(e.waypoints?(i=n._createContainer("connection",o),n.drawConnection(tt(i),e)):(i=n._createContainer("shape",o),n.drawShape(tt(i),e),rt(i,e.x,e.y)),r.addDragger(e,t,i))})),t}(s)),o?(p.parentNode||u(e.getActiveLayer(),p),rt(p,t.x,t.y)):w(p)})),t.on("create.cleanup",(function(e){var t=e.context.dragGroup;t&&w(t)}))}Ss.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var ks={__depends__:[Ko,vs,Zo,Jr],__init__:["create","createPreview"],create:["type",Os],createPreview:["type",Ss]},As="data-id",Cs=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Ts(e,t,n){var r=Object(s.isDefined)(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:r},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}Ts.$inject=["config.popupMenu","eventBus","canvas"],Ts.prototype.registerProvider=function(e,t,n){n||(n=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+e,t,(function(e){e.providers.push(n)}))},Ts.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._getProviders(t);if(!n)return!0;var r=this._getEntries(e,n),i=this._getHeaderEntries(e,n),o=Object(s.size)(r)>0,a=i&&Object(s.size)(i)>0;return!o&&!a},Ts.prototype.open=function(e,t,n){var r=this._getProviders(t);if(!e)throw new Error("Element is missing");if(!r||!r.length)throw new Error("No registered providers for: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var i=this._current={className:t,element:e,position:n},o=this._getEntries(e,r),a=this._getHeaderEntries(e,r);i.entries=Object(s.assign)({},o,a),i.container=this._createContainer(),Object(s.size)(a)&&i.container.appendChild(this._createEntries(a,"djs-popup-header")),Object(s.size)(o)&&i.container.appendChild(this._createEntries(o,"djs-popup-body"));var p=this._canvas.getContainer();this._attachContainer(i.container,p,n.cursor),this._bindAutoClose()},Ts.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),Object(p.l)(this._current.container),this._current.container=null)},Ts.prototype.isOpen=function(){return!!this._current.container},Ts.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,n=Object(p.b)(t,As),r=this._getEntry(n);if(r.action)return r.action.call(null,e,r)},Ts.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers},Ts.prototype._getEntries=function(e,t){var n={};return Object(s.forEach)(t,(function(t){if(t.getPopupMenuEntries){var r=t.getPopupMenuEntries(e);Object(s.isFunction)(r)?n=r(n):Object(s.forEach)(r,(function(e,t){n[t]=e}))}else Object(s.forEach)(t.getEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=Object(s.omit)(e,["id"])}))})),n},Ts.prototype._getHeaderEntries=function(e,t){var n={};return Object(s.forEach)(t,(function(t){if(t.getPopupMenuHeaderEntries){var r=t.getPopupMenuHeaderEntries(e);Object(s.isFunction)(r)?n=r(n):Object(s.forEach)(r,(function(e,t){n[t]=e}))}else{if(!t.getHeaderEntries)return;Object(s.forEach)(t.getHeaderEntries(e),(function(e){var t=e.id;if(!t)throw new Error("every entry must have the id property set");n[t]=Object(s.omit)(e,["id"])}))}})),n},Ts.prototype._getEntry=function(e){var t=this._current.entries[e];if(!t)throw new Error("entry not found");return t},Ts.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},Ts.prototype._createContainer=function(){var e=Object(p.g)('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return Object(p.a)(e,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),Object(p.c)(e).add(n),e},Ts.prototype._attachContainer=function(e,t,n){var r=this;p.f.bind(e,".entry","click",(function(e){r.trigger(e)})),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n)},Ts.prototype._updateScale=function(e){var t,n,r,i,o=this._canvas.zoom(),a=this._config.scale,p=o;!0!==a&&(!1===a?(t=1,n=1):(t=a.min,n=a.max),Object(s.isDefined)(t)&&o<t&&(p=t),Object(s.isDefined)(n)&&o>n&&(p=n)),i="scale("+p+")",(r=e).style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(e){r.style[e+"transform"]=i}))},Ts.prototype._assureIsInbounds=function(e,t){var n,r,i=this._canvas._container.getBoundingClientRect(),o=e.offsetLeft,a=e.offsetTop,s=e.scrollWidth,c=e.scrollHeight,l={},u=t.x-i.left,d=t.y-i.top;o+s>i.width&&(l.x=!0),a+c>i.height&&(l.y=!0),l.x&&l.y?(n=u-s+"px",r=d-c+"px"):l.x?(n=u-s+"px",r=d+"px"):l.y&&d<c?(n=u+"px",r="10px"):l.y&&(n=u+"px",r=d-c+"px"),Object(p.a)(e,{left:n,top:r},{visibility:"visible",zIndex:1e3})},Ts.prototype._createEntries=function(e,t){var n=Object(p.g)("<div>"),r=this;return Object(p.c)(n).add(t),Object(s.forEach)(e,(function(e,t){var i=r._createEntry(e,t);n.appendChild(i)})),n},Ts.prototype._createEntry=function(e,t){var n=Object(p.g)("<div>"),r=Object(p.c)(n);if(r.add("entry"),e.className&&e.className.split(" ").forEach((function(e){r.add(e)})),Object(p.b)(n,As,t),e.label){var i=Object(p.g)("<span>");i.textContent=e.label,n.appendChild(i)}return e.imageUrl&&n.appendChild(Object(p.g)('<img src="'+e.imageUrl+'" />')),!0===e.active&&r.add("active"),!0===e.disabled&&r.add("disabled"),e.title&&(n.title=e.title),n},Ts.prototype._bindAutoClose=function(){this._eventBus.once(Cs,this.close,this)},Ts.prototype._unbindAutoClose=function(){this._eventBus.off(Cs,this.close,this)};var Rs={__init__:["popupMenu"],popupMenu:["type",Ts]};function Ms(){}Ms.prototype.get=function(){return this._data},Ms.prototype.set=function(e){this._data=e},Ms.prototype.clear=function(){var e=this._data;return delete this._data,e},Ms.prototype.isEmpty=function(){return!this._data};var Ds={clipboard:["type",Ms]};function Ns(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",(function(e){(t._svg=e.svg).addEventListener("mousemove",n)})),e.on("canvas.destroy",(function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)}))}Ns.$inject=["eventBus"],Ns.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(e,t){var n=document.createEvent("MouseEvent"),r=e,i=t,o=e,a=t;n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,r,i,o,a,!1,!1,!1,!1,0,null);return n}(0,0)};var Bs={__init__:["mouse"],mouse:["type",Ns]};function Ls(e,t,n,r,i,o,a,p){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=r,this._eventBus=i,this._modeling=o,this._mouse=a,this._rules=p,i.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,r=e.elements;t.priority=1,t.id=n.id,Object(s.find)(r,(function(e){return e===n.parent}))&&(t.parent=n.parent.id),function(e){return!!e.host}(n)&&(t.priority=2,t.host=n.host.id),Is(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=function(e){return Object(s.map)(e.waypoints,(function(e){return(e=$s(e)).original&&(e.original=$s(e.original)),e}))}(n)),zs(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),Object(s.forEach)(["x","y","width","height"],(function(e){Object(s.isNumber)(n[e])&&(t[e]=n[e])})),t.hidden=n.hidden,t.collapsed=n.collapsed})),i.on("copyPaste.pasteElements",(function(e){var t=e.hints;Object(s.assign)(t,{createElementsBehavior:!1})}))}function Is(e){return!!e.waypoints}function zs(e){return!!e.labelTarget}function $s(e){return Object(s.assign)({},e)}function Fs(e,t){var n=t.indexOf(e);return-1===n?t:t.splice(n,1)}Ls.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Ls.prototype.copy=function(e){var t,n;return Object(s.isArray)(e)||(e=e?[e]:[]),n=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree(Object(s.isArray)(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},Ls.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var r=this._createElements(t);if(e&&e.element&&e.point)return this._paste(r,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),r,{hints:n||{}})}},Ls.prototype._paste=function(e,t,n,r){Object(s.forEach)(e,(function(e){Object(s.isNumber)(e.x)||(e.x=0),Object(s.isNumber)(e.y)||(e.y=0)}));var i=ae(e);return Object(s.forEach)(e,(function(e){Is(e)&&(e.waypoints=Object(s.map)(e.waypoints,(function(e){return{x:e.x-i.x-i.width/2,y:e.y-i.y-i.height/2}}))),Object(s.assign)(e,{x:e.x-i.x-i.width/2,y:e.y-i.y-i.height/2})})),this._modeling.createElements(e,n,t,Object(s.assign)({},r))},Ls.prototype._createElements=function(e){var t=this,n=this._eventBus,r={},i=[];return Object(s.forEach)(e,(function(e,o){o=parseInt(o,10),e=Object(s.sortBy)(e,"priority"),Object(s.forEach)(e,(function(e){var o,a=Object(s.assign)({},Object(s.omit)(e,["priority"]));return r[e.parent]?a.parent=r[e.parent]:delete a.parent,n.fire("copyPaste.pasteElement",{cache:r,descriptor:a}),Is(a)?(a.source=r[e.source],a.target=r[e.target],o=r[e.id]=t.createConnection(a),void i.push(o)):zs(a)?(a.labelTarget=r[a.labelTarget],o=r[e.id]=t.createLabel(a),void i.push(o)):(a.host&&(a.host=r[a.host]),o=r[e.id]=t.createShape(a),void i.push(o))}))})),i},Ls.prototype.createConnection=function(e){return this._elementFactory.createConnection(Object(s.omit)(e,["id"]))},Ls.prototype.createLabel=function(e){return this._elementFactory.createLabel(Object(s.omit)(e,["id"]))},Ls.prototype.createShape=function(e){return this._elementFactory.createShape(Object(s.omit)(e,["id"]))},Ls.prototype.hasRelations=function(e,t){var n,r;return!(Is(e)&&(n=Object(s.find)(t,Object(s.matchPattern)({id:e.source.id})),r=Object(s.find)(t,Object(s.matchPattern)({id:e.target.id})),!n||!r))&&!(zs(e)&&!Object(s.find)(t,Object(s.matchPattern)({id:e.labelTarget.id})))},Ls.prototype.createTree=function(e){var t=this._rules,n=this,r={},i=[];function o(e,t){var n=Object(s.find)(i,(function(t){return e===t.element}));n?n.depth<t&&(i=function(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1);return t}(n,i),i.push({element:n.element,depth:t})):i.push({element:e,depth:t})}return re(ee(e),(function(e,t,r){if(!zs(e)){Object(s.forEach)(e.labels,(function(e){o(e,r)})),Object(s.forEach)([e.attachers,e.incoming,e.outgoing],(function(e){e&&e.length&&Object(s.forEach)(e,(function(e){Object(s.forEach)(e.labels,(function(e){o(e,r)})),o(e,r)}))})),o(e,r);var i=[];return e.children&&(i=e.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:e,children:i}),i}})),e=Object(s.map)(i,(function(e){return e.element})),i=Object(s.map)(i,(function(t){return t.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:t.descriptor,element:t.element,elements:e}),t})),i=Object(s.sortBy)(i,(function(e){return e.descriptor.priority})),e=Object(s.map)(i,(function(e){return e.element})),Object(s.forEach)(i,(function(i){var o=i.depth;n.hasRelations(i.element,e)?!function(e,n){return t.allowed("element.copy",{element:e,elements:n})}(i.element,e)?Fs(i.element,e):(r[o]||(r[o]=[]),r[o].push(i.descriptor)):Fs(i.element,e)})),r};var qs={__depends__:[Ds,ks,Bs,Zo],__init__:["copyPaste"],copyPaste:["type",Ls]};function Us(e,t,n){Object(s.isArray)(n)||(n=[n]),Object(s.forEach)(n,(function(n){Object(s.isUndefined)(e[n])||(t[n]=e[n])}))}function Vs(e,t,n){var r;t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element,r=t.oldBusinessObject=Mn(n),i=t.oldDi=Dn(n);if(t.type=n.type,Us(r,t,"name"),Us(i,t,"isExpanded"),Hs(t))return t;r.default&&(t.default=r.default.id)})),t.on("moddleCopy.canCopyProperty",(function(t){var r,i=t.parent,o=t.property;if("processRef"===t.propertyName&&Tn(i,"bpmn:Participant")&&Tn(o,"bpmn:Process"))return r=e.create("bpmn:Process"),n.copyElement(o,r)})),t.on("copyPaste.pasteElements",(function(){r={}})),t.on("copyPaste.pasteElement",(function(t){var i,o,a,p,c=t.cache,l=t.descriptor,u=l.oldBusinessObject,d=l.oldDi;if(Hs(l))return l.businessObject=Mn(c[l.labelTarget]),void(l.di=Dn(c[l.labelTarget]));i=e.create(u.$type),l.businessObject=n.copyElement(u,i),(o=e.create(d.$type)).bpmnElement=i,l.di=n.copyElement(d,o),function(e,t){var n=Mn(e);e.default&&(r[e.default]={element:n,property:"default"}),e.host&&(Mn(e).attachedToRef=Mn(t[e.host])),r=Object(s.omit)(r,Object(s.reduce)(r,(function(t,r,i){var o=r.element,a=r.property;return i===e.id&&(o[a]=n,t.push(e.id)),t}),[]))}(l,c),Us(l,i,["isExpanded","name"]),a=l,p="oldBusinessObject",Object(s.isArray)(p)||(p=[p]),Object(s.forEach)(p,(function(e){a[e]&&delete a[e]}))}))}function Hs(e){return!!e.labelTarget}Vs.$inject=["bpmnFactory","eventBus","moddleCopy"];var Ws=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing"];function Gs(e,t,n){this._bpmnFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",(function(e){var t=e.propertyNames;if(t&&t.length)return Object(s.sortBy)(t,(function(e){return"extensionElements"===e}))})),e.on("moddleCopy.canCopyProperty",(function(e){var t=e.parent,n=Object(s.isObject)(t)&&t.$descriptor,r=e.propertyName;return(!r||-1===Ws.indexOf(r))&&(!(r&&n&&!Object(s.find)(n.properties,Object(s.matchPattern)({name:r})))&&void 0)})),e.on("moddleCopy.canSetCopiedProperty",(function(e){var t,n,r=e.property;if(n="bpmn:ExtensionElements",(t=r)&&"function"===typeof t.$instanceOf&&t.$instanceOf(n)&&(!r.values||!r.values.length))return!1}))}function Ks(e,t){return Object(s.reduce)(e.properties,(function(e,n){return t&&n.default?e:e.concat(n.name)}),[])}Gs.$inject=["eventBus","bpmnFactory","moddle"],Gs.prototype.copyElement=function(e,t,n){var r=this;n&&!Object(s.isArray)(n)&&(n=[n]),n=n||Ks(e.$descriptor);var i=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t});return!1===i||(Object(s.isArray)(i)&&(n=i),Object(s.forEach)(n,(function(n){var i;Object(s.has)(e,n)&&(i=e.get(n));var o=r.copyProperty(i,t,n);!1!==r._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:o,propertyName:n})&&Object(s.isDefined)(o)&&t.set(n,o)}))),t},Gs.prototype.copyProperty=function(e,t,n){var r=this,i=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n});if(!1!==i){if(i)return Object(s.isObject)(i)&&i.$type&&!i.$parent&&(i.$parent=t),i;var o=this._moddle.getPropertyDescriptor(t,n);if(!o.isReference){if(o.isId)return this._copyId(e,t);if(Object(s.isArray)(e))return Object(s.reduce)(e,(function(e,o){return(i=r.copyProperty(o,t,n))?e.concat(i):e}),[]);if(Object(s.isObject)(e)&&e.$type){if(this._moddle.getElementDescriptor(e).isGeneric)return;return(i=r._bpmnFactory.create(e.$type)).$parent=t,i=r.copyElement(e,i)}return e}}},Gs.prototype._copyId=function(e,t){return this._moddle.ids.assigned(e)?void 0:(this._moddle.ids.claim(e,t),e)};var Ys={__depends__:[qs],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",Vs],moddleCopy:["type",Gs]},Xs=Math.round;function Qs(e){this._modeling=e}Qs.$inject=["modeling"],Qs.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var r=this._modeling,i=t.width||e.width,o=t.height||e.height,a=t.x||e.x,p=t.y||e.y,c=Xs(a+i/2),l=Xs(p+o/2);return r.replaceShape(e,Object(s.assign)({},t,{x:c,y:l,width:i,height:o}),n)};var Js={__init__:["replace"],replace:["type",Qs]};var Zs=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function ep(e,t,n,r,i,o,a){this.replaceElement=function(p,c,l){l=l||{};var u=c.type,d=p.businessObject;if(tp(d)&&"bpmn:SubProcess"===u&&function(e,t){var n=e&&Object(s.has)(e,"collapsed")?e.collapsed:!Xn(e);return n!==(t&&(Object(s.has)(t,"collapsed")||Object(s.has)(t,"isExpanded"))?Object(s.has)(t,"collapsed")?t.collapsed:!t.isExpanded:n)}(p,c))return r.toggleCollapse(p),p;var f=e.create(u),h={type:u,businessObject:f,di:{}};!function(e,t,n){Object(s.isArray)(n)||(n=[n]),Object(s.forEach)(n,(function(n){Object(s.isUndefined)(e[n])||(t[n]=e[n])}))}(p.di,h.di,["fill","stroke","background-color","border-color","color"]);var m,y=Ks(d.$descriptor),v=Ks(f.$descriptor,!0),g=(m=v,y.filter((function(e){return-1!==m.indexOf(e)})));Object(s.assign)(f,Object(s.pick)(c,Zs));var b=Object(s.filter)(g,(function(e){return"eventDefinitions"===e?np(p,c.eventDefinitionType):"loopCharacteristics"===e?!Qn(f):!Object(s.has)(f,e)&&(("processRef"!==e||!1!==c.isExpanded)&&"triggeredByEvent"!==e)}));return f=n.copyElement(d,f,b),c.eventDefinitionType&&(np(f,c.eventDefinitionType)||(h.eventDefinitionType=c.eventDefinitionType,h.eventDefinitionAttrs=c.eventDefinitionAttrs)),Tn(d,"bpmn:Activity")&&(tp(d)?h.isExpanded=Xn(p):c&&Object(s.has)(c,"isExpanded")&&(h.isExpanded=c.isExpanded),Xn(p)&&!Tn(d,"bpmn:Task")&&h.isExpanded&&(h.width=p.width,h.height=p.height)),tp(d)&&!tp(f)&&(l.moveChildren=!1),Tn(d,"bpmn:Participant")&&(!0===c.isExpanded?f.processRef=e.create("bpmn:Process"):l.moveChildren=!1,h.width=p.width,h.height=t.getDefaultSize(h).height),o.allowed("shape.resize",{shape:f})||(h.height=t.getDefaultSize(h).height,h.width=t.getDefaultSize(h).width),f.name=d.name,Rn(d,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Rn(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(f.default=d.default),c.host&&!Tn(d,"bpmn:BoundaryEvent")&&Tn(f,"bpmn:BoundaryEvent")&&(h.host=c.host),"bpmn:DataStoreReference"!==h.type&&"bpmn:DataObjectReference"!==h.type||(h.x=p.x+(p.width-h.width)/2),h=i.replaceElement(p,h,l),!1!==l.select&&a.select(h),h}}function tp(e){return Tn(e,"bpmn:SubProcess")}function np(e,t){var n=Mn(e);return t&&n.get("eventDefinitions").some((function(e){return Tn(e,t)}))}ep.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules","selection"];var rp={__depends__:[Ys,Js,Jr],bpmnReplace:["type",ep]};function ip(e){return function(t){var n=t.target,r=Mn(e),i=r.eventDefinitions&&r.eventDefinitions[0],o=r.$type===n.type,a=(i&&i.$type)===n.eventDefinitionType,s=r.triggeredByEvent===n.triggeredByEvent,p=void 0===n.isExpanded||n.isExpanded===Xn(e);return!o||!a||!s||!p}}var op=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],ap=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],sp=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],pp=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],cp=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],lp=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],up=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],dp=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}}],fp=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],hp=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],mp=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],yp=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],vp=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],gp=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],bp=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var t="Empty Pool";return e.children&&e.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function xp(e,t,n,r,i,o,a){this._bpmnFactory=e,this._popupMenu=t,this._modeling=n,this._moddle=r,this._bpmnReplace=i,this._rules=o,this._translate=a,this.register()}xp.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate"],xp.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},xp.prototype.getEntries=function(e){var t,n=e.businessObject;if(!this._rules.allowed("shape.replace",{element:e}))return[];var r=ip(e);return Tn(n,"bpmn:DataObjectReference")?this._createEntries(e,hp):Tn(n,"bpmn:DataStoreReference")&&!Tn(e.parent,"bpmn:Collaboration")?this._createEntries(e,mp):Tn(n,"bpmn:StartEvent")&&!Tn(n.$parent,"bpmn:SubProcess")?(t=Object(s.filter)(op,r),this._createEntries(e,t)):Tn(n,"bpmn:Participant")?(t=Object(s.filter)(bp,(function(t){return Xn(e)!==t.target.isExpanded})),this._createEntries(e,t)):Tn(n,"bpmn:StartEvent")&&Qn(n.$parent)?(t=Object(s.filter)(vp,(function(t){var n=!1!==t.target.isInterrupting,i=Mn(e).isInterrupting===n;return r(t)||!r(t)&&!i})),this._createEntries(e,t)):Tn(n,"bpmn:StartEvent")&&!Qn(n.$parent)&&Tn(n.$parent,"bpmn:SubProcess")?(t=Object(s.filter)(ap,r),this._createEntries(e,t)):Tn(n,"bpmn:EndEvent")?(t=Object(s.filter)(pp,(function(e){return!("bpmn:CancelEventDefinition"==e.target.eventDefinitionType&&!Tn(n.$parent,"bpmn:Transaction"))&&r(e)})),this._createEntries(e,t)):Tn(n,"bpmn:BoundaryEvent")?(t=Object(s.filter)(yp,(function(e){var t=e.target;if("bpmn:CancelEventDefinition"==t.eventDefinitionType&&!Tn(n.attachedToRef,"bpmn:Transaction"))return!1;var i=!1!==t.cancelActivity,o=n.cancelActivity==i;return r(e)||!r(e)&&!o})),this._createEntries(e,t)):Tn(n,"bpmn:IntermediateCatchEvent")||Tn(n,"bpmn:IntermediateThrowEvent")?(t=Object(s.filter)(sp,r),this._createEntries(e,t)):Tn(n,"bpmn:Gateway")?(t=Object(s.filter)(cp,r),this._createEntries(e,t)):Tn(n,"bpmn:Transaction")?(t=Object(s.filter)(up,r),this._createEntries(e,t)):Qn(n)&&Xn(e)?(t=Object(s.filter)(dp,r),this._createEntries(e,t)):Tn(n,"bpmn:SubProcess")&&Xn(e)?(t=Object(s.filter)(lp,r),this._createEntries(e,t)):Tn(n,"bpmn:AdHocSubProcess")&&!Xn(e)?(t=Object(s.filter)(fp,(function(t){var n=t.target,r="bpmn:SubProcess"===n.type,i=!0===n.isExpanded;return ip(e)&&(!r||i)})),this._createEntries(e,t)):Tn(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,gp):Tn(n,"bpmn:FlowNode")?(t=Object(s.filter)(fp,r),Tn(n,"bpmn:SubProcess")&&!Xn(e)&&(t=Object(s.filter)(t,(function(e){return"Sub Process (collapsed)"!==e.label}))),this._createEntries(e,t)):[]},xp.prototype.getHeaderEntries=function(e){var t=[];return Tn(e,"bpmn:Activity")&&!Qn(e)&&(t=t.concat(this._getLoopEntries(e))),Tn(e,"bpmn:DataObjectReference")&&(t=t.concat(this._getDataObjectIsCollection(e))),Tn(e,"bpmn:Participant")&&(t=t.concat(this._getParticipantMultiplicity(e))),!Tn(e,"bpmn:SubProcess")||Tn(e,"bpmn:Transaction")||Qn(e)||t.push(this._getAdHocEntry(e)),t},xp.prototype._createEntries=function(e,t){var n=[],r=this;return Object(s.forEach)(t,(function(t){var i=r._createMenuEntry(t,e);n.push(i)})),n},xp.prototype._createSequenceFlowEntries=function(e,t){var n=Mn(e),r=[],i=this._modeling,o=this._moddle,a=this;return Object(s.forEach)(t,(function(t){switch(t.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&(Tn(n.sourceRef,"bpmn:ExclusiveGateway")||Tn(n.sourceRef,"bpmn:InclusiveGateway")||Tn(n.sourceRef,"bpmn:ComplexGateway")||Tn(n.sourceRef,"bpmn:Activity"))&&r.push(a._createMenuEntry(t,e,(function(){i.updateProperties(e.source,{default:n})})));break;case"replace-with-conditional-flow":!n.conditionExpression&&Tn(n.sourceRef,"bpmn:Activity")&&r.push(a._createMenuEntry(t,e,(function(){var t=o.create("bpmn:FormalExpression",{body:""});i.updateProperties(e,{conditionExpression:t})})));break;default:if(Tn(n.sourceRef,"bpmn:Activity")&&n.conditionExpression)return r.push(a._createMenuEntry(t,e,(function(){i.updateProperties(e,{conditionExpression:void 0})})));if((Tn(n.sourceRef,"bpmn:ExclusiveGateway")||Tn(n.sourceRef,"bpmn:InclusiveGateway")||Tn(n.sourceRef,"bpmn:ComplexGateway")||Tn(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n)return r.push(a._createMenuEntry(t,e,(function(){i.updateProperties(e.source,{default:void 0})})))}})),r},xp.prototype._createMenuEntry=function(e,t,n){var r=this._translate,i=this._bpmnReplace.replaceElement,o=e.label;return o&&"function"===typeof o&&(o=o(t)),n=n||function(){return i(t,e.target)},{label:r(o),className:e.className,id:e.actionName,action:n}},xp.prototype._getLoopEntries=function(e){var t=this,n=this._translate;function r(n,r){var i=Mn(e).loopCharacteristics;r.active?i=void 0:(!Object(s.isUndefined)(r.options.isSequential)&&i&&Tn(i,r.options.loopCharacteristics)||(i=t._moddle.create(r.options.loopCharacteristics)),i.isSequential=r.options.isSequential),t._modeling.updateProperties(e,{loopCharacteristics:i})}var i,o,a,p=Mn(e).loopCharacteristics;return p&&(i=p.isSequential,o=void 0===p.isSequential,a=void 0!==p.isSequential&&!p.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:n("Parallel Multi Instance"),active:a,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:n("Sequential Multi Instance"),active:i,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:n("Loop"),active:o,action:r,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},xp.prototype._getDataObjectIsCollection=function(e){var t=this,n=this._translate;var r=e.businessObject.dataObjectRef,i=r.isCollection;return[{id:"toggle-is-collection",className:"bpmn-icon-parallel-mi-marker",title:n("Collection"),active:i,action:function(n,i){t._modeling.updateModdleProperties(e,r,{isCollection:!i.active})}}]},xp.prototype._getParticipantMultiplicity=function(e){var t=this,n=this._bpmnFactory,r=this._translate;var i=e.businessObject.participantMultiplicity,o=[{id:"toggle-participant-multiplicity",className:"bpmn-icon-parallel-mi-marker",title:r("Participant Multiplicity"),active:!!i,action:function(r,i){var o;i.active||(o=n.create("bpmn:ParticipantMultiplicity")),t._modeling.updateProperties(e,{participantMultiplicity:o})}}];return o},xp.prototype._getAdHocEntry=function(e){var t=this._translate,n=Tn(Mn(e),"bpmn:AdHocSubProcess"),r=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:t("Ad-hoc"),active:n,action:function(t,i){return r(e,n?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}};var wp={__depends__:[Rs,rp],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",xp]};function Ep(e,t){for("string"===typeof t&&(t=[t]);e=e.parent;)if(Rn(e,t))return e;return null}var Op=Math.max,_p=Math.min;function Pp(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function jp(e,t,n){var r=t[e],i=n.min&&n.min[e],o=n.max&&n.max[e];return Object(s.isNumber)(i)&&(r=(/top|left/.test(e)?_p:Op)(r,i)),Object(s.isNumber)(o)&&(r=(/top|left/.test(e)?Op:_p)(r,o)),r}function Sp(e,t){return"undefined"!==typeof e?e:20}function kp(e){return!e.waypoints&&"label"!==e.type}function Ap(e,t){var n;if((n=void 0===e.length?Object(s.filter)(e.children,kp):e).length)return function(e,t){var n,r,i,o;return"object"===typeof t?(n=Sp(t.left),r=Sp(t.right),i=Sp(t.top),o=Sp(t.bottom)):n=r=i=o=Sp(t),{x:e.x-n,y:e.y-i,width:e.width+n+r,height:e.height+i+o}}(ae(n),t)}var Cp=Math.abs;var Tp=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],Rp=30;function Mp(e,t){return t=t||[],e.children.filter((function(e){Tn(e,"bpmn:Lane")&&(Mp(e,t),t.push(e))})),t}function Dp(e){return e.children.filter((function(e){return Tn(e,"bpmn:Lane")}))}function Np(e){return Ep(e,Tp)||e}function Bp(e,t){var n=Np(e),r=Mp(n,Tn(n,"bpmn:Process")?[]:[n]),i=_e(e),o=_e(t),a=function(e,t){return Pp(_e(t),_e(e))}(e,t),s=[];return r.forEach((function(t){if(t!==e){var n,r,p=0,c=a.right,l=0,u=a.left,d=_e(t);a.top&&(Cp(d.bottom-i.top)<10&&(l=o.top-d.bottom),Cp(d.top-i.top)<5&&(p=o.top-d.top)),a.bottom&&(Cp(d.top-i.bottom)<10&&(p=o.bottom-d.top),Cp(d.bottom-i.bottom)<5&&(l=o.bottom-d.bottom)),(p||c||l||u)&&s.push({shape:t,newBounds:(n=t,r={top:p,right:c,bottom:l,left:u},{x:n.x+(r.left||0),y:n.y+(r.top||0),width:n.width-(r.left||0)+(r.right||0),height:n.height-(r.top||0)+(r.bottom||0)})})}})),s}function Lp(e,t,n,r,i,o,a,s,p,c,l,u){e=e||{},r.registerProvider(this),this._contextPad=r,this._modeling=i,this._elementFactory=o,this._connect=a,this._create=s,this._popupMenu=p,this._canvas=c,this._rules=l,this._translate=u,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context.shape;if(Ir(e)&&r.isOpen(t)){var n=r.getEntries(t);n.replace&&n.replace.action.click(e,t)}}))}function Ip(e,t,n){var r=e.$instanceOf(t),i=!1,o=e.eventDefinitions||[];return Object(s.forEach)(o,(function(e){e.$type===n&&(i=!0)})),r&&i}Lp.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],Lp.prototype.getMultiElementContextPadEntries=function(e){var t=this._modeling,n={};return this._isDeleteAllowed(e)&&Object(s.assign)(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(e,n){t.removeElements(n.slice())}}}}),n},Lp.prototype._isDeleteAllowed=function(e){var t=this._rules.allowed("elements.delete",{elements:e});return Object(s.isArray)(t)?Object(s.every)(t,(function(e){return n=e,-1!==t.indexOf(n);var n})):t},Lp.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,r=this._elementFactory,i=this._connect,o=this._create,a=this._popupMenu,p=this._canvas,c=this._rules,l=this._autoPlace,u=this._translate,d={};if("label"===e.type)return d;var f=e.businessObject;function h(e,t){i.start(e,t)}function m(e,t,n,i){function a(t,n){var a=r.createShape(Object(s.assign)({type:e},i));o.start(t,a,{source:n})}"string"!==typeof n&&(i=n,n=u("Append {type}",{type:e.replace(/^bpmn:/,"")}));var p=l?function(t,n){var o=r.createShape(Object(s.assign)({type:e},i));l.append(n,o)}:a;return{group:"model",className:t,title:n,action:{dragstart:a,click:p}}}function y(e){return function(r,i){n.splitLane(i,e),t.open(i,!0)}}if(Rn(f,["bpmn:Lane","bpmn:Participant"])&&Xn(e)){var v=Dp(e);Object(s.assign)(d,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:u("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),v.length<2&&(e.height>=120&&Object(s.assign)(d,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:u("Divide into two Lanes"),action:{click:y(2)}}}),e.height>=180&&Object(s.assign)(d,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:u("Divide into three Lanes"),action:{click:y(3)}}})),Object(s.assign)(d,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:u("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}Tn(f,"bpmn:FlowNode")&&(Tn(f,"bpmn:EventBasedGateway")?Object(s.assign)(d,{"append.receive-task":m("bpmn:ReceiveTask","bpmn-icon-receive-task",u("Append ReceiveTask")),"append.message-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",u("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",u("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",u("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",u("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Ip(f,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Object(s.assign)(d,{"append.compensation-activity":m("bpmn:Task","bpmn-icon-task",u("Append compensation activity"),{isForCompensation:!0})}):Tn(f,"bpmn:EndEvent")||f.isForCompensation||Ip(f,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Qn(f)||Object(s.assign)(d,{"append.end-event":m("bpmn:EndEvent","bpmn-icon-end-event-none",u("Append EndEvent")),"append.gateway":m("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",u("Append Gateway")),"append.append-task":m("bpmn:Task","bpmn-icon-task",u("Append Task")),"append.intermediate-event":m("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",u("Append Intermediate/Boundary Event"))})),a.isEmpty(e,"bpmn-replace")||Object(s.assign)(d,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:u("Change type"),action:{click:function(e,n){var r=Object(s.assign)(function(e){var n=p.getContainer(),r=t.getPad(e).html,i=n.getBoundingClientRect(),o=r.getBoundingClientRect(),a=o.top-i.top;return{x:o.left-i.left,y:a+o.height+5}}(n),{cursor:{x:e.x,y:e.y}});a.open(n,"bpmn-replace",r)}}}}),Tn(f,"bpmn:SequenceFlow")&&Object(s.assign)(d,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation")}),Rn(f,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(s.assign)(d,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using "+(f.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:h,dragstart:h}}}),Tn(f,"bpmn:TextAnnotation")&&Object(s.assign)(d,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using Association"),action:{click:h,dragstart:h}}}),Rn(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(s.assign)(d,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using DataInputAssociation"),action:{click:h,dragstart:h}}}),Tn(f,"bpmn:Group")&&Object(s.assign)(d,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var g=c.allowed("elements.delete",{elements:[e]});return Object(s.isArray)(g)&&(g=g[0]===e),g&&Object(s.assign)(d,{delete:{group:"edit",className:"bpmn-icon-trash",title:u("Remove"),action:{click:function(e,t){n.removeElements([t])}}}}),d};var zp={__depends__:[cs,fs,Jr,es,ks,wp],__init__:["contextPadProvider"],contextPadProvider:["type",Lp]},$p={horizontal:["x","width"],vertical:["y","height"]};function Fp(e){this._modeling=e,this._filters=[],this.registerFilter((function(e,t,n){var r,i=0,o=0;return Object(s.forEach)(e,(function(e){e.waypoints||e.labelTarget||(i+=e[n],o+=1)})),r=Math.round(i/o),Object(s.filter)(e,(function(e){return e[n]<r+50}))}))}Fp.$inject=["modeling"],Fp.prototype.registerFilter=function(e){if("function"!==typeof e)throw new Error("the filter has to be a function");this._filters.push(e)},Fp.prototype.trigger=function(e,t){var n,r,i=this._modeling;if(!(e.length<3)&&(this._setOrientation(t),r=this._filterElements(e),!((n=this._createGroups(r)).length<=2)))return i.distributeElements(n,this._axis,this._dimension),n},Fp.prototype._filterElements=function(e){var t=this._filters,n=this._axis,r=this._dimension,i=[].concat(e);return t.length?(Object(s.forEach)(t,(function(e){i=e(i,n,r)})),i):e},Fp.prototype._createGroups=function(e){var t=[],n=this,r=this._axis,i=this._dimension;if(!r)throw new Error('must have a defined "axis" and "dimension"');var o=Object(s.sortBy)(e,r);return Object(s.forEach)(o,(function(e,o){var a,s=n._findRange(e,r,i),p=t[t.length-1];p&&n._hasIntersection(p.range,s)?t[t.length-1].elements.push(e):(a={range:s,elements:[e]},t.push(a))})),t},Fp.prototype._setOrientation=function(e){var t=$p[e];this._axis=t[0],this._dimension=t[1]},Fp.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)},Fp.prototype._findRange=function(e){var t=e[this._axis];return{min:t+5,max:t+e[this._dimension]-5}};var qp={__init__:["distributeElements"],distributeElements:["type",Fp]};function Up(e){e.registerFilter((function(e){return Object(s.filter)(e,(function(e){var t=Rn(e,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:Participant","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(e.labelTarget||t)}))}))}Up.$inject=["distributeElements"];var Vp={__depends__:[qp],__init__:["bpmnDistributeElements"],bpmnDistributeElements:["type",Up]},Hp="is not a registered action";function Wp(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function Gp(e,t){return new Error(e+" "+t)}Wp.$inject=["eventBus","injector"],Wp.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),r=e.get("selection",!1),i=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),p=e.get("rules",!1),c=e.get("keyboardMove",!1),l=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&r&&this.register("copy",(function(){var e=r.get();o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),i&&this.register("stepZoom",(function(e){i.stepZoom(e.value)})),a&&this.register("zoom",(function(e){a.zoom(e.value)})),n&&r&&p&&this.register("removeSelection",(function(){var e=r.get();if(e.length){var t,i=p.allowed("elements.delete",{elements:e});!1!==i&&(t=Object(s.isArray)(i)?i:e).length&&n.removeElements(t.slice())}})),c&&this.register("moveCanvas",(function(e){c.moveCanvas(e)})),l&&this.register("moveSelection",(function(e){l.moveSelection(e.direction,e.accelerated)}))},Wp.prototype.trigger=function(e,t){if(!this._actions[e])throw Gp(e,Hp);return this._actions[e](t)},Wp.prototype.register=function(e,t){var n=this;if("string"===typeof e)return this._registerAction(e,t);Object(s.forEach)(e,(function(e,t){n._registerAction(t,e)}))},Wp.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw Gp(e,"is already registered");this._actions[e]=t},Wp.prototype.unregister=function(e){if(!this.isRegistered(e))throw Gp(e,Hp);this._actions[e]=void 0},Wp.prototype.getActions=function(){return Object.keys(this._actions)},Wp.prototype.isRegistered=function(e){return!!this._actions[e]};var Kp={__init__:["editorActions"],editorActions:["type",Wp]};function Yp(e){e.invoke(Wp,this)}r(Yp,Wp),Yp.$inject=["injector"],Yp.prototype._registerDefaultActions=function(e){Wp.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),r=e.get("selection",!1),i=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),p=e.get("globalConnect",!1),c=e.get("distributeElements",!1),l=e.get("alignElements",!1),u=e.get("directEditing",!1),d=e.get("searchPad",!1),f=e.get("modeling",!1);t&&n&&r&&this._registerAction("selectElements",(function(){var e=t.getRootElement(),i=n.filter((function(t){return t!==e}));return r.select(i),i})),i&&this._registerAction("spaceTool",(function(){i.toggle()})),o&&this._registerAction("lassoTool",(function(){o.toggle()})),a&&this._registerAction("handTool",(function(){a.toggle()})),p&&this._registerAction("globalConnectTool",(function(){p.toggle()})),r&&c&&this._registerAction("distributeElements",(function(e){var t=r.get(),n=e.type;t.length&&c.trigger(t,n)})),r&&l&&this._registerAction("alignElements",(function(e){var t=r.get(),n=[],i=e.type;t.length&&(n=Object(s.filter)(t,(function(e){return!Tn(e,"bpmn:Lane")})),l.trigger(n,i))})),r&&f&&this._registerAction("setColor",(function(e){var t=r.get();t.length&&f.setColor(t,e)})),r&&u&&this._registerAction("directEditing",(function(){var e=r.get();e.length&&u.activate(e[0])})),d&&this._registerAction("find",(function(){d.toggle()})),t&&f&&this._registerAction("moveToOrigin",(function(){var e,r,i=t.getRootElement();e=ae(r=Tn(i,"bpmn:Collaboration")?n.filter((function(e){return Tn(e.parent,"bpmn:Collaboration")})):n.filter((function(e){return e!==i&&!Tn(e.parent,"bpmn:SubProcess")}))),f.moveElements(r,{x:-e.x,y:-e.y},i)}))};var Xp={__depends__:[Kp],editorActions:["type",Yp]};function Qp(e){e.on(["create.init","shape.move.init"],(function(e){var t=e.context;Rn(e.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(t.gridSnappingContext||(t.gridSnappingContext={}),t.gridSnappingContext.snapLocation="top-left")}))}Qp.$inject=["eventBus"];function Jp(e,t,n){return n||(n="round"),Math[n](e/t)*t}function Zp(e,t,n){var r=!n||!1!==n.active;this._eventBus=t;var i=this;t.on("diagram.init",800,(function(){i.setActive(r)})),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,(function(t){var n=t.originalEvent;if(!(!i.active||n&&Ri(n))){var r=t.context,o=r.gridSnappingContext;o||(o=r.gridSnappingContext={}),["x","y"].forEach((function(n){var r={},o=function(e,t,n){var r=e.context,i=e.shape,o=r.gridSnappingContext,a=o.snapLocation,p=o.snapOffset;if(p&&Object(s.isNumber)(p[t]))return p[t];p||(p=o.snapOffset={});Object(s.isNumber)(p[t])||(p[t]=0);if(!i)return p[t];n.get(i.id)||(ec(t)?p[t]+=i[t]+i.width/2:p[t]+=i[t]+i.height/2);if(!a)return p[t];"x"===t?/left/.test(a)?p[t]-=i.width/2:/right/.test(a)&&(p[t]+=i.width/2):/top/.test(a)?p[t]-=i.height/2:/bottom/.test(a)&&(p[t]+=i.height/2);return p[t]}(t,n,e);o&&(r.offset=o);var a=function(e,t){var n=e.context,r=n.createConstraints,i=n.resizeConstraints||{},o=n.gridSnappingContext,a=o.snapConstraints;if(a&&a[t])return a[t];a||(a=o.snapConstraints={});a[t]||(a[t]={});var s=n.direction;r&&(ec(t)?(a.x.min=r.left,a.x.max=r.right):(a.y.min=r.top,a.y.max=r.bottom));var p=i.min,c=i.max;p&&(ec(t)?nc(s)?a.x.max=p.left:a.x.min=p.right:tc(s)?a.y.max=p.top:a.y.min=p.bottom);c&&(ec(t)?nc(s)?a.x.min=c.left:a.x.max=c.right:tc(s)?a.y.min=c.top:a.y.max=c.bottom);return a[t]}(t,n);a&&Object(s.assign)(r,a),qa(t,n)||i.snapEvent(t,n,r)}))}}))}function ec(e){return"x"===e}function tc(e){return-1!==e.indexOf("n")}function nc(e){return-1!==e.indexOf("w")}function rc(e,t){pi.call(this,e),this._gridSnapping=t;var n=this;this.preExecute("shape.resize",(function(e){var t=e.context,r=(t.hints||{}).autoResize;if(r){var i=t.shape,o=t.newBounds;Object(s.isString)(r)?t.newBounds=n.snapComplex(o,r):t.newBounds=n.snapSimple(i,o)}}))}Zp.prototype.snapEvent=function(e,t,n){Ua(e,t,this.snapValue(e[t],n))},Zp.prototype.getGridSpacing=function(){return 10},Zp.prototype.snapValue=function(e,t){var n,r,i=0;return t&&t.offset&&(i=t.offset),e=Jp(e+=i,10),t&&t.min&&(n=t.min,Object(s.isNumber)(n)&&(n=Jp(n+i,10,"ceil"),e=Math.max(e,n))),t&&t.max&&(r=t.max,Object(s.isNumber)(r)&&(r=Jp(r+i,10,"floor"),e=Math.min(e,r))),e-=i},Zp.prototype.isActive=function(){return this.active},Zp.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},Zp.prototype.toggleActive=function(){this.setActive(!this.active)},Zp.$inject=["elementRegistry","eventBus","config.gridSnapping"],rc.$inject=["eventBus","gridSnapping","modeling"],r(rc,pi),rc.prototype.snapSimple=function(e,t){var n=this._gridSnapping;return t.width=n.snapValue(t.width,{min:t.width}),t.height=n.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t},rc.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e},rc.prototype.snapHorizontally=function(e,t){var n=this._gridSnapping,r=/w/.test(t),i=/e/.test(t),o={};return o.width=n.snapValue(e.width,{min:e.width}),i&&(r?(o.x=n.snapValue(e.x,{max:e.x}),o.width+=n.snapValue(e.x-o.x,{min:e.x-o.x})):e.x=e.x+e.width-o.width),Object(s.assign)(e,o),e},rc.prototype.snapVertically=function(e,t){var n=this._gridSnapping,r=/n/.test(t),i=/s/.test(t),o={};return o.height=n.snapValue(e.height,{min:e.height}),r&&(i?(o.y=n.snapValue(e.y,{max:e.y}),o.height+=n.snapValue(e.y-o.y,{min:e.y-o.y})):e.y=e.y+e.height-o.height),Object(s.assign)(e,o),e};function ic(e,t){e.on(["spaceTool.move","spaceTool.end"],2e3,(function(e){var n,r=e.context;r.initialized&&("x"===r.axis?(n=t.snapValue(e.dx),e.x=e.x+n-e.dx,e.dx=n):(n=t.snapValue(e.dy),e.y=e.y+n-e.dy,e.dy=n))}))}ic.$inject=["eventBus","gridSnapping"];var oc={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",rc],gridSnappingSpaceToolBehavior:["type",ic]}],__init__:["gridSnapping"],gridSnapping:["type",Zp]};function ac(e,t){e.on("autoPlace",2e3,(function(e){var n=e.source,r=Se(n),i=e.shape,o=Ro(n,i);return["x","y"].forEach((function(e){var n={};o[e]!==r[e]&&(o[e]>r[e]?n.min=o[e]:n.max=o[e],Tn(i,"bpmn:TextAnnotation")&&(!function(e){return"x"===e}(e)?n.offset=-i.height/2:n.offset=-i.width/2),o[e]=t.snapValue(o[e],n))})),o}))}ac.$inject=["eventBus","gridSnapping"];function sc(e,t,n){t.on(["create.start","shape.move.start"],1750,(function(t){var r=t.context,i=r.shape,o=e.getRootElement();Tn(i,"bpmn:Participant")&&Tn(o,"bpmn:Process")&&o.children.length&&(r.createConstraints&&(i.width=n.snapValue(i.width,{min:i.width}),i.height=n.snapValue(i.height,{min:i.height})))}))}sc.$inject=["canvas","eventBus","gridSnapping"];function pc(e,t,n){pi.call(this,e),this._gridSnapping=t;var r=this;this.postExecuted(["connection.create","connection.layout"],3e3,(function(e){var t=e.context,i=t.connection,o=t.hints||{},a=i.waypoints;o.connectionStart||o.connectionEnd||!1===o.createElementsBehavior||function(e){return e.length>3}(a)&&n.updateWaypoints(i,r.snapMiddleSegments(a))}))}function cc(e,t,n){var r=ve(t,n),i={};return function(e){return"h"===e}(r)&&(i.y=e.snapValue(t.y)),function(e){return"v"===e}(r)&&(i.x=e.snapValue(t.x)),("x"in i||"y"in i)&&(t=Object(s.assign)({},t,i),n=Object(s.assign)({},n,i)),[t,n]}pc.$inject=["eventBus","gridSnapping","modeling"],r(pc,pi),pc.prototype.snapMiddleSegments=function(e){var t,n=this._gridSnapping;e=e.slice();for(var r=1;r<e.length-2;r++)t=cc(n,e[r],e[r+1]),e[r]=t[0],e[r+1]=t[1];return e};var lc={__depends__:[oc,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingCreateParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",ac],gridSnappingCreateParticipantBehavior:["type",sc],gridSnappingLayoutConnectionBehavior:["type",pc]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",Qp]};function uc(e,t){this._interactionEvents=t;var n=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],(function(e){var t=e.element,r=e.gfx;return Tn(t,"bpmn:Lane")?n.createParticipantHit(t,r):Tn(t,"bpmn:Participant")?Xn(t)?n.createParticipantHit(t,r):n.createDefaultHit(t,r):Tn(t,"bpmn:SubProcess")?Xn(t)?n.createSubProcessHit(t,r):n.createDefaultHit(t,r):void 0}))}uc.$inject=["eventBus","interactionEvents"],uc.prototype.createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0},uc.prototype.createParticipantHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:30,height:e.height}),!0},uc.prototype.createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:30}),!0};var dc={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",uc]};function fc(e){e.invoke(qi,this)}r(fc,qi),fc.$inject=["injector"],fc.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}qi.prototype.registerBindings.call(this,e,t),n("selectElements",(function(n){var r=n.keyEvent;if(e.isKey(["a","A"],r)&&e.isCmd(r))return t.trigger("selectElements"),!0})),n("find",(function(n){var r=n.keyEvent;if(e.isKey(["f","F"],r)&&e.isCmd(r))return t.trigger("find"),!0})),n("spaceTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["s","S"],r)?(t.trigger("spaceTool"),!0):void 0})),n("lassoTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["l","L"],r)?(t.trigger("lassoTool"),!0):void 0})),n("handTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["h","H"],r)?(t.trigger("handTool"),!0):void 0})),n("globalConnectTool",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["c","C"],r)?(t.trigger("globalConnectTool"),!0):void 0})),n("directEditing",(function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["e","E"],r)?(t.trigger("directEditing"),!0):void 0}))};var hc={__depends__:[Ui],__init__:["keyboardBindings"],keyboardBindings:["type",fc]},mc={moveSpeed:1,moveSpeedAccelerated:10},yc="left",vc="right",gc="down",bc={ArrowLeft:yc,Left:yc,ArrowUp:"up",Up:"up",ArrowRight:vc,Right:vc,ArrowDown:gc,Down:gc},xc={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function wc(e,t,n,r,i){var o=this;this._config=Object(s.assign)({},mc,e||{}),t.addListener(1500,(function(e){var n=e.keyEvent,r=bc[n.key];if(r&&!t.isCmd(n)){var i=t.isShift(n);return o.moveSelection(r,i),!0}})),this.moveSelection=function(e,t){var o=i.get();if(o.length){var a=this._config[t?"moveSpeedAccelerated":"moveSpeed"],s=xc[e](a);r.allowed("elements.move",{shapes:o})&&n.moveElements(o,s)}}}wc.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var Ec={__depends__:[Ui,Jr],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",wc]};function Oc(e,t,n,r){this._dragging=r,this._rules=t;var i=this;function o(e,t){var n,r=e.shape,o=e.direction,a=e.resizeConstraints;e.delta=t,n=function(e,t,n){var r=n.x,i=n.y,o={x:e.x,y:e.y,width:e.width,height:e.height};return-1!==t.indexOf("n")?(o.y=e.y+i,o.height=e.height-i):-1!==t.indexOf("s")&&(o.height=e.height+i),-1!==t.indexOf("e")?o.width=e.width+r:-1!==t.indexOf("w")&&(o.x=e.x+r,o.width=e.width-r),o}(r,o,t),e.newBounds=function(e,t){if(!t)return e;var n=_e(e);return Pe({top:jp("top",n,t),right:jp("right",n,t),bottom:jp("bottom",n,t),left:jp("left",n,t)})}(n,a),e.canExecute=i.canResize(e)}e.on("resize.start",(function(e){!function(e){var t=e.resizeConstraints,n=e.minBounds;void 0===t&&(void 0===n&&(n=i.computeMinResizeBox(e)),e.resizeConstraints={min:_e(n)})}(e.context)})),e.on("resize.move",(function(e){var t={x:e.dx,y:e.dy};o(e.context,t)})),e.on("resize.end",(function(e){!function(e){var t=e.shape,r=e.canExecute,i=e.newBounds;if(r){if(!function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(t,i=Ee(i)))return;n.resizeShape(t,i)}}(e.context)}))}function _c(e,t){var n=Se(e),r=_e(e),i={x:n.x,y:n.y};return-1!==t.indexOf("n")?i.y=r.top:-1!==t.indexOf("s")&&(i.y=r.bottom),-1!==t.indexOf("e")?i.x=r.right:-1!==t.indexOf("w")&&(i.x=r.left),i}function Pc(e){return"n"===e||"s"===e?"resize-ns":"e"===e||"w"===e?"resize-ew":"nw"===e||"se"===e?"resize-nwse":"resize-nesw"}Oc.prototype.canResize=function(e){var t=this._rules,n=Object(s.pick)(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},Oc.prototype.activate=function(e,t,n){var r,i,o=this._dragging;if("string"===typeof n&&(n={direction:n}),!(i=(r=Object(s.assign)({shape:t},n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,_c(t,i),"resize",{autoActivate:!0,cursor:Pc(i),data:{shape:t,context:r}})},Oc.prototype.computeMinResizeBox=function(e){var t=e.shape;return function(e,t,n,r){var i=_e(t),o={top:/n/.test(e)?i.bottom-n.height:i.top,left:/w/.test(e)?i.right-n.width:i.left,bottom:/s/.test(e)?i.top+n.height:i.bottom,right:/e/.test(e)?i.left+n.width:i.right},a=r?_e(r):o;return Pe({top:_p(o.top,a.top),left:_p(o.left,a.left),bottom:Op(o.bottom,a.bottom),right:Op(o.right,a.right)})}(e.direction,t,e.minDimensions||{width:10,height:10},Ap(t,e.childrenBoxPadding))},Oc.$inject=["eventBus","rules","modeling","dragging"];var jc="djs-resizing",Sc="resize-not-ok";function kc(e,t,n){e.on("resize.move",500,(function(e){!function(e){var r=e.shape,i=e.newBounds,o=e.frame;o||(o=e.frame=n.addFrame(r,t.getActiveLayer()),t.addMarker(r,jc)),i.width>5&&h(o,{x:i.x,width:i.width}),i.height>5&&h(o,{y:i.y,height:i.height}),e.canExecute?b(o).remove(Sc):b(o).add(Sc)}(e.context)})),e.on("resize.cleanup",(function(e){!function(e){var n=e.shape;e.frame&&w(e.frame),t.removeMarker(n,jc)}(e.context)}))}kc.$inject=["eventBus","canvas","previewSupport"];var Ac=-6,Cc="djs-resizer",Tc=["n","w","s","e","nw","ne","se","sw"];function Rc(e,t,n,r){this._resize=r,this._canvas=t;var i=this;e.on("selection.changed",(function(e){var t=e.newSelection;i.removeResizers(),1===t.length&&Object(s.forEach)(t,Object(s.bind)(i.addResizer,i))})),e.on("shape.changed",(function(e){var t=e.element;n.isSelected(t)&&(i.removeResizers(),i.addResizer(t))}))}Rc.prototype.makeDraggable=function(e,t,n){var r=this._resize;function i(t){Lr(t)&&r.activate(t,e,n)}p.h.bind(t,"mousedown",i),p.h.bind(t,"touchstart",i)},Rc.prototype._createResizer=function(e,t,n,r){var i=this._getResizersParent(),o=function(e){var t={x:0,y:0};-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=Ac);-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=Ac);return t}(r),a=S("g");b(a).add(Cc),b(a).add("djs-resizer-"+e.id),b(a).add("djs-resizer-"+r),u(i,a);var s=S("rect");h(s,{x:-4+o.x,y:-4+o.y,width:8,height:8}),b(s).add("djs-resizer-visual"),u(a,s);var p=S("rect");return h(p,{x:-10+o.x,y:-10+o.y,width:20,height:20}),b(p).add("djs-resizer-hit"),u(a,p),nt(a,t,n),a},Rc.prototype.createResizer=function(e,t){var n=_c(e,t),r=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,r,t)},Rc.prototype.addResizer=function(e){var t=this;!function(e){return!!e.waypoints}(e)&&this._resize.canResize({shape:e})&&Object(s.forEach)(Tc,(function(n){t.createResizer(e,n)}))},Rc.prototype.removeResizers=function(){E(this._getResizersParent())},Rc.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Rc.$inject=["eventBus","canvas","selection","resize"];var Mc={__depends__:[Zo,Ko,vs],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Oc],resizePreview:["type",kc],resizeHandles:["type",Rc]};function Dc(e,t){var n=t.create("bpmn:CategoryValue"),r=t.create("bpmn:Category",{categoryValue:[n]});return fe(e.get("rootElements"),r),Mn(r).$parent=e,Mn(n).$parent=r,n}function Nc(e,t,n,r,i,o,a){function s(e,t){(t||Rn(e,["bpmn:Task","bpmn:TextAnnotation"])||Bc(e))&&r.activate(e)}this._bpmnFactory=t,this._canvas=n,this._modeling=i,this._textRenderer=a,r.registerProvider(this),e.on("element.dblclick",(function(e){s(e.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],(function(e){r.isActive()&&r.complete()})),e.on(["shape.remove","connection.remove"],2e3,(function(e){r.isActive(e.element)&&r.cancel()})),e.on(["commandStack.changed"],(function(e){r.isActive()&&r.cancel()})),e.on("directEditing.activate",(function(e){o.removeResizers()})),e.on("create.end",500,(function(e){var t=e.context,n=t.shape,r=e.context.canExecute;e.isTouch||r&&(t.hints&&!1===t.hints.createElementsBehavior||s(n))})),e.on("autoPlace.end",500,(function(e){s(e.shape)}))}function Bc(e){return Tn(e,"bpmn:SubProcess")&&!Xn(e)}Nc.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Nc.prototype.activate=function(e){var t=er(e);if(void 0!==t){var n={text:t},r=this.getEditingBBox(e);Object(s.assign)(n,r);var i={};return(Rn(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||Bc(e))&&Object(s.assign)(i,{centerVertically:!0}),Er(e)&&Object(s.assign)(i,{autoResize:!0}),Tn(e,"bpmn:TextAnnotation")&&Object(s.assign)(i,{resizable:!0,autoResize:!0}),Object(s.assign)(n,{options:i}),n}},Nc.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,r=t.getAbsoluteBBox(n),i=r.x+r.width/2,o=r.y+r.height/2,a={x:r.x,y:r.y},p=t.zoom(),c=this._textRenderer.getDefaultStyle(),l=this._textRenderer.getExternalStyle(),u=l.fontSize*p,d=l.lineHeight,f=c.fontSize*p,h=c.lineHeight,m={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(Tn(e,"bpmn:Lane")||function(e){return Tn(e,"bpmn:Participant")&&Xn(e)}(e))&&(Object(s.assign)(a,{width:r.height,height:30*p,x:r.x-r.height/2+15*p,y:o-30*p/2}),Object(s.assign)(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px",transform:"rotate(-90deg)"})),(Rn(e,["bpmn:Task","bpmn:CallActivity"])||function(e){return Tn(e,"bpmn:Participant")&&!Xn(e)}(e)||Bc(e))&&(Object(s.assign)(a,{width:r.width,height:r.height}),Object(s.assign)(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px"})),function(e){return Tn(e,"bpmn:SubProcess")&&Xn(e)}(e)&&(Object(s.assign)(a,{width:r.width,x:r.x}),Object(s.assign)(m,{fontSize:f+"px",lineHeight:h,paddingTop:7*p+"px",paddingBottom:7*p+"px",paddingLeft:5*p+"px",paddingRight:5*p+"px"}));var y=90*p,v=7*p,g=4*p;if(n.labelTarget&&(Object(s.assign)(a,{width:y,height:r.height+v+g,x:i-y/2,y:r.y-v}),Object(s.assign)(m,{fontSize:u+"px",lineHeight:d,paddingTop:v+"px",paddingBottom:g+"px"})),Er(n)&&!Or(n)&&!jr(n)){var b=Pr(e),x=t.getAbsoluteBBox({x:b.x,y:b.y,width:0,height:0}),w=u+v+g;Object(s.assign)(a,{width:y,height:w,x:x.x-y/2,y:x.y-w/2}),Object(s.assign)(m,{fontSize:u+"px",lineHeight:d,paddingTop:v+"px",paddingBottom:g+"px"})}return Tn(e,"bpmn:TextAnnotation")&&(Object(s.assign)(a,{width:r.width,height:r.height,minWidth:30*p,minHeight:10*p}),Object(s.assign)(m,{textAlign:"left",paddingTop:5*p+"px",paddingBottom:7*p+"px",paddingLeft:7*p+"px",paddingRight:5*p+"px",fontSize:f+"px",lineHeight:h})),{bounds:a,style:m}},Nc.prototype.update=function(e,t,n,r){var i,o,a;if((Tn(e,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(e),i={x:e.x,y:e.y,width:e.width/o.width*r.width,height:e.height/o.height*r.height}),Tn(e,"bpmn:Group"))&&!Mn(e).categoryValueRef){var s=Dc(Mn(this._canvas.getRootElement()).$parent,this._bpmnFactory);Mn(e).categoryValueRef=s}(a=t)&&a.trim()||(t=null),this._modeling.updateLabel(e,t,i)};var Lc="djs-element-hidden",Ic="djs-label-hidden";function zc(e,t,n,r){var i,o,a,s=this,p=t.getDefaultLayer();e.on("directEditing.activate",(function(e){var n=e.active;if(Tn(i=n.element.label||n.element,"bpmn:TextAnnotation")){o=t.getAbsoluteBBox(i),a=S("g");var c=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:i.height,position:{mx:0,my:0}}),l=s.path=S("path");h(l,{d:c,strokeWidth:2,stroke:$c(i)}),u(a,l),u(p,a),rt(a,i.x,i.y)}Tn(i,"bpmn:TextAnnotation")||i.labelTarget?t.addMarker(i,Lc):(Tn(i,"bpmn:Task")||Tn(i,"bpmn:CallActivity")||Tn(i,"bpmn:SubProcess")||Tn(i,"bpmn:Participant"))&&t.addMarker(i,Ic)})),e.on("directEditing.resize",(function(e){if(Tn(i,"bpmn:TextAnnotation")){var t=e.height,n=e.dy,a=Math.max(i.height/o.height*(t+n),0),p=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:a,position:{mx:0,my:0}});h(s.path,{d:p})}})),e.on(["directEditing.complete","directEditing.cancel"],(function(e){var n=e.active;n&&(t.removeMarker(n.element.label||n.element,Lc),t.removeMarker(i,Ic)),i=void 0,o=void 0,a&&(w(a),a=void 0)}))}function $c(e,t){return Dn(e).get("stroke")||t||"black"}zc.$inject=["eventBus","canvas","elementRegistry","pathMap"];var Fc={__depends__:[si,Mc,cs],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Nc],labelEditingPreview:["type",zc]},qc=["top","bottom","left","right"],Uc=10;function Vc(e,t){function n(e){if(Or(e)){var n=function(e){var t=Se(e.label),n=Hc(Se(e),t);if(r=n,-1===qc.indexOf(r))return;var r;var i=function(e){var t=Se(e);return[].concat(e.incoming.map((function(e){return e.waypoints[e.waypoints.length-2]})),e.outgoing.map((function(e){return e.waypoints[1]}))).map((function(e){return Hc(t,e)}))}(e);if(e.host){var o=function(e){var t,n=e.host,r=ke(Se(e),n);t=r.indexOf("-")>=0?r.split("-"):[r];return qc.filter((function(e){return-1===t.indexOf(e)}))}(e);i=i.concat(o)}var a=qc.filter((function(e){return-1===i.indexOf(e)}));if(-1!==a.indexOf(n))return;return a[0]}(e);n&&function(e,n){var r=Se(e),i=e.label,o=Se(i);if(!i.parent)return;var a,s=_e(e);switch(n){case"top":a={x:r.x,y:s.top-Uc-i.height/2};break;case"left":a={x:s.left-Uc-i.width/2,y:r.y};break;case"bottom":a={x:r.x,y:s.bottom+Uc+i.height/2};break;case"right":a={x:s.right+Uc+i.width/2,y:r.y}}var p=Ji(a,o);t.moveShape(i,p)}(e,n)}}pi.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(e){var t=e.context,r=t.connection,i=r.source,o=r.target;!1!==(t.hints||{}).createElementsBehavior&&(n(i),n(o))})),this.postExecuted(["label.create"],(function(e){var t=e.context,r=t.shape;!1!==(t.hints||{}).createElementsBehavior&&n(r.labelTarget)})),this.postExecuted(["elements.create"],(function(e){var t=e.context,r=t.elements;!1!==(t.hints||{}).createElementsBehavior&&r.forEach((function(e){n(e)}))}))}function Hc(e,t){return ke(t,e,5)}function Wc(e,t,n){pi.call(this,e),this.preExecute("shape.append",(function(e){var t=e.source,n=e.shape;e.position||(Tn(n,"bpmn:TextAnnotation")?e.position={x:t.x+t.width/2+75,y:t.y-50-n.height/2}:e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})}),!0)}function Gc(e,t){e.invoke(pi,this),this.postExecute("shape.move",(function(e){var n=e.newParent,r=e.shape,i=Object(s.filter)(r.incoming.concat(r.outgoing),(function(e){return Tn(e,"bpmn:Association")}));Object(s.forEach)(i,(function(e){t.moveConnection(e,{x:0,y:0},n)}))}),!0)}r(Vc,pi),Vc.$inject=["eventBus","modeling"],r(Wc,pi),Wc.$inject=["eventBus","elementFactory","bpmnRules"],r(Gc,pi),Gc.$inject=["injector","modeling"];function Kc(e,t){t.invoke(pi,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",500,(function(e){var t=e.elements;1===(t=t.filter((function(e){return Yc(e,e.host)}))).length&&t.map((function(e){return t.indexOf(e)})).forEach((function(r){var i=t[r];e.elements[r]=n.replaceShape(t[r],i)}))}),!0),this.preExecute("elements.move",500,(function(e){var t=e.shapes,r=e.newHost;if(1===t.length){var i=t[0];Yc(i,r)&&(e.shapes=[n.replaceShape(i,r)])}}),!0)}function Yc(e,t){return!jr(e)&&Rn(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}Kc.$inject=["bpmnReplace","injector"],r(Kc,pi),Kc.prototype.replaceShape=function(e,t){var n=function(e){var t=Mn(e).eventDefinitions;return t&&t[0]}(e),r={type:"bpmn:BoundaryEvent",host:t};return n&&(r.eventDefinitionType=n.$type),this._bpmnReplace.replaceElement(e,r,{layoutConnection:!1})};function Xc(e,t,n){function r(e){return Object(s.filter)(e.attachers,(function(e){return Tn(e,"bpmn:BoundaryEvent")}))}pi.call(this,e),this.postExecute("connection.create",(function(e){var t=e.context.source,i=e.context.target,o=r(i);Tn(t,"bpmn:EventBasedGateway")&&Tn(i,"bpmn:ReceiveTask")&&o.length>0&&n.removeElements(o)})),this.postExecute("connection.reconnect",(function(e){var t=e.context.oldSource,i=e.context.newSource;Tn(t,"bpmn:Gateway")&&Tn(i,"bpmn:EventBasedGateway")&&Object(s.forEach)(i.outgoing,(function(e){var t=e.target,i=r(t);Tn(t,"bpmn:ReceiveTask")&&i.length>0&&n.removeElements(i)}))})),e.on("moddleCopy.canCopyProperty",2e3,(function(e){var n=e.parent,r=e.property,i=e.propertyName,o=t.getPropertyDescriptor(n,i);o&&o.isReference&&Tn(r,"bpmn:RootElement")&&n.set(i,r)}))}function Qc(e){e.invoke(pi,this),this.preExecute("shape.create",1500,(function(e){var t=e.context,n=t.parent,r=t.shape;Tn(n,"bpmn:Lane")&&!Tn(r,"bpmn:Lane")&&(t.parent=Ep(n,"bpmn:Participant"))}))}function Jc(e,t,n){pi.call(this,e),this.preExecute("shape.create",(function(e){var n=e.context.shape;if(Tn(n,"bpmn:DataObjectReference")&&"label"!==n.type){var r=t.create("bpmn:DataObject");n.businessObject.dataObjectRef=r}}))}Xc.$inject=["eventBus","moddle","modeling"],r(Xc,pi),Qc.$inject=["injector"],r(Qc,pi),Jc.$inject=["eventBus","bpmnFactory","moddle"],r(Jc,pi);var Zc=20,el=20,tl=2e3;function nl(e,t,n){function r(){var t=e.getRootElement();return Tn(t,"bpmn:Collaboration")?t:n.makeCollaboration()}pi.call(this,t),t.on(["create.start","shape.move.start"],tl,(function(t){var n=t.context,r=n.shape,i=e.getRootElement();if(Tn(r,"bpmn:Participant")&&Tn(i,"bpmn:Process")&&i.children.length){var o=i.children.filter((function(e){return!Tn(e,"bpmn:Group")&&!jr(e)&&!function(e){return!!e.waypoints}(e)}));if(o.length){var a=ae(o),p=function(e,t){t={width:t.width+40+30,height:t.height+40};var n=Math.max(e.width,t.width),r=Math.max(e.height,t.height);return{x:-n/2,y:-r/2,width:n,height:r}}(r,a);Object(s.assign)(r,p),n.createConstraints=function(e,t){return{bottom:(t=_e(t)).top+e.height/2-el,left:t.right-e.width/2+Zc,top:t.bottom-e.height/2+el,right:t.left+e.width/2-Zc-30}}(r,a)}}})),t.on("create.start",tl,(function(n){var r=n.context.shape,i=e.getRootElement(),o=e.getGraphics(i);function a(e){e.element=i,e.gfx=o}Tn(r,"bpmn:Participant")&&Tn(i,"bpmn:Process")&&(t.on("element.hover",tl,a),t.once("create.cleanup",(function(){t.off("element.hover",a)})))})),this.preExecute("elements.create",tl,(function(e){var t,n=e.elements,i=e.parent,o=function(e){return Object(s.find)(e,(function(e){return Tn(e,"bpmn:Participant")}))}(n);o&&Tn(i,"bpmn:Process")&&(e.parent=r(),(t=e.hints=e.hints||{}).participant=o,t.process=i,t.processRef=Mn(o).get("processRef"))}),!0),this.preExecute("shape.create",(function(e){var t=e.parent,n=e.shape;Tn(n,"bpmn:Participant")&&Tn(t,"bpmn:Process")&&(e.parent=r(),e.process=t,e.processRef=Mn(n).get("processRef"))}),!0),this.execute("shape.create",(function(e){var t=e.hints||{},n=e.process||t.process,r=e.shape,i=t.participant;!n||i&&r!==i||Mn(r).set("processRef",Mn(n))}),!0),this.revert("shape.create",(function(e){var t=e.hints||{},n=e.process||t.process,r=e.processRef||t.processRef,i=e.shape,o=t.participant;!n||o&&i!==o||Mn(i).set("processRef",r)}),!0),this.postExecute("shape.create",(function(e){var t=e.hints||{},r=e.process||e.hints.process,i=e.shape,o=t.participant;if(r){var a=r.children.slice();o?i===o&&n.moveElements(a,{x:0,y:0},o):n.moveElements(a,{x:0,y:0},i)}}),!0)}nl.$inject=["canvas","eventBus","modeling"],r(nl,pi);var rl="__targetRef_placeholder";function il(e,t){function n(e,n){var r=e.get("properties"),i=Object(s.find)(r,(function(e){return e.name===rl}));return!i&&n&&fe(r,i=t.create("bpmn:Property",{name:rl})),i}function r(e,t){var r=n(e);r&&(function(e,t,n){var r=e.get("dataInputAssociations");return Object(s.find)(r,(function(e){return e!==n&&e.targetRef===t}))}(e,r,t)||de(e.get("properties"),r))}function i(e){var t,i=e.context,o=i.connection,a=o.businessObject,s=o.target,p=s&&s.businessObject,c=i.newTarget,l=c&&c.businessObject,u=i.oldTarget||i.target,d=u&&u.businessObject,f=o.businessObject;d&&d!==p&&r(d,a),l&&l!==p&&r(l,a),p?(t=n(p,!0),f.targetRef=t):f.targetRef=null}pi.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],ol(i)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],ol(i))}function ol(e){return function(t){if(Tn(t.context.connection,"bpmn:DataInputAssociation"))return e(t)}}function al(e){this._bpmnUpdater=e}function sl(e,t,n,r){function i(e){return e.children.filter((function(e){return Tn(e,"bpmn:DataStoreReference")&&!e.labelTarget}))}function o(e,r){var i=e.businessObject||e;if(r=r||n.filter((function(e){return Tn(e,"bpmn:Participant")&&Mn(e).processRef}))[0]){var o=r.businessObject||r;t.execute("dataStore.updateContainment",{dataStoreBo:i,dataStoreDi:Dn(e),newSemanticParent:o.processRef||o,newDiParent:Dn(r)})}}pi.call(this,r),t.registerHandler("dataStore.updateContainment",al),this.preExecute("shape.create",(function(e){var t=e.context,n=t.shape;Tn(n,"bpmn:DataStoreReference")&&"label"!==n.type&&(t.hints||(t.hints={}),t.hints.autoResize=!1)})),this.preExecute("elements.move",(function(e){var t=e.context,n=t.shapes;n.filter((function(e){return Tn(e,"bpmn:DataStoreReference")})).length&&(t.hints||(t.hints={}),t.hints.autoResize=n.filter((function(e){return!Tn(e,"bpmn:DataStoreReference")})))})),this.postExecute("shape.create",(function(e){var t=e.context.shape,n=t.parent;Tn(t,"bpmn:DataStoreReference")&&"label"!==t.type&&Tn(n,"bpmn:Collaboration")&&o(t)})),this.postExecute("shape.move",(function(e){var t=e.context,n=t.shape,r=t.oldParent,i=n.parent;Tn(r,"bpmn:Collaboration")||Tn(n,"bpmn:DataStoreReference")&&"label"!==n.type&&Tn(i,"bpmn:Collaboration")&&o(n,Tn(r,"bpmn:Participant")?r:function(e,t){for(;e.parent;){if(Tn(e.parent,t))return e.parent;e=e.parent}}(r,"bpmn:Participant"))})),this.postExecute("shape.delete",(function(t){var n=t.context.shape,r=e.getRootElement();Rn(n,["bpmn:Participant","bpmn:SubProcess"])&&Tn(r,"bpmn:Collaboration")&&i(r).filter((function(e){return function(e,t){var n=e.businessObject||e,r=t.businessObject||t;for(;n.$parent;){if(n.$parent===r.processRef||r)return!0;n=n.$parent}return!1}(e,n)})).forEach((function(e){o(e)}))})),this.postExecute("canvas.updateRoot",(function(e){var t=e.context,n=t.oldRoot,r=t.newRoot;i(n).forEach((function(e){Tn(r,"bpmn:Process")&&o(e,r)}))}))}il.$inject=["eventBus","bpmnFactory"],r(il,pi),al.$inject=["bpmnUpdater"],al.prototype.execute=function(e){var t=e.dataStoreBo,n=e.dataStoreDi,r=e.newSemanticParent,i=e.newDiParent;e.oldSemanticParent=t.$parent,e.oldDiParent=n.$parent,this._bpmnUpdater.updateSemanticParent(t,r),this._bpmnUpdater.updateDiParent(n,i)},al.prototype.revert=function(e){var t=e.dataStoreBo,n=e.dataStoreDi,r=e.oldSemanticParent,i=e.oldDiParent;this._bpmnUpdater.updateSemanticParent(t,r),this._bpmnUpdater.updateDiParent(n,i)},sl.$inject=["canvas","commandStack","elementRegistry","eventBus"],r(sl,pi);function pl(e,t,n){pi.call(this,e),this.postExecuted("shape.delete",500,(function(e){var t=e.context,r=t.hints,i=t.shape,o=t.oldParent;Tn(i,"bpmn:Lane")&&(r&&r.nested||function(e,t){var r,i,o,a=Dp(t),s=[],p=[];re(a,(function(t){return t.y>e.y?p.push(t):s.push(t),t.children})),a.length&&(r=p.length&&s.length?e.height/2:e.height,s.length&&(i=n.calculateAdjustments(s,"y",r,e.y-10),n.makeSpace(i.movingShapes,i.resizingShapes,{x:0,y:r},"s")),p.length&&(o=n.calculateAdjustments(p,"y",-r,e.y+e.height+10),n.makeSpace(o.movingShapes,o.resizingShapes,{x:0,y:-r},"n")))}(i,o))}))}pl.$inject=["eventBus","modeling","spaceTool"],r(pl,pi);function cl(e,t){t.invoke(pi,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",500,(function(e){var t=e.elements;t.filter((function(e){return ll(e,e.host)})).map((function(e){return t.indexOf(e)})).forEach((function(r){e.elements[r]=n.replaceShape(t[r])}))}),!0),this.preExecute("elements.move",500,(function(e){var t=e.shapes,r=e.newHost;t.forEach((function(e,i){var o,a=e.host;ll(e,(o=a,-1!==t.indexOf(o)?a:r))&&(t[i]=n.replaceShape(e))}))}),!0)}function ll(e,t){return!jr(e)&&Tn(e,"bpmn:BoundaryEvent")&&!t}function ul(e,t,n){function r(e,r,i){var o,a,p,c,l,u,d,f,h=r.waypoints,m=e.outgoing.slice(),y=e.incoming.slice(),v=na(h,f=Object(s.isNumber)(i.width)?Se(i):i);if(v){if(o=h.slice(0,v.index),a=h.slice(v.index+(v.bendpoint?1:0)),!o.length||!a.length)return;p=v.bendpoint?h[v.index]:f,1!==o.length&&dl(e,o[o.length-1])||o.push(fl(p)),1!==a.length&&dl(e,a[0])||a.unshift(fl(p))}c=r.source,l=r.target,t.canConnect(c,e,r)&&(n.reconnectEnd(r,e,o||f),u=r),t.canConnect(e,l,r)&&(u?d=n.connect(e,l,{type:r.type,waypoints:a}):(n.reconnectStart(r,e,a||f),d=r));var g=[].concat(u&&Object(s.filter)(y,(function(e){return e.source===u.source}))||[],d&&Object(s.filter)(m,(function(e){return e.target===d.target}))||[]);g.length&&n.removeElements(g)}pi.call(this,e),this.preExecute("elements.move",(function(e){var n=e.newParent,r=e.shapes,i=e.delta,o=r[0];if(o&&n){n&&n.waypoints&&(e.newParent=n=n.parent);var a=Se(o),p={x:a.x+i.x,y:a.y+i.y},c=Object(s.find)(n.children,(function(e){return t.canInsert(r,e)&&na(e.waypoints,p)}));c&&(e.targetFlow=c,e.position=p)}}),!0),this.postExecuted("elements.move",(function(e){var t=e.shapes,n=e.targetFlow,i=e.position;n&&r(t[0],n,i)}),!0),this.preExecute("shape.create",(function(e){var n=e.parent,r=e.shape;t.canInsert(r,n)&&(e.targetFlow=n,e.parent=n.parent)}),!0),this.postExecuted("shape.create",(function(e){var t=e.shape,n=e.targetFlow,i=e.position;n&&r(t,n,i)}),!0)}function dl(e,t){var n=t.x,r=t.y;return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function fl(e){return Object(s.assign)({},e)}function hl(e,t){pi.call(this,e),this.preExecuted("connection.create",(function(e){var n=e.context,r=n.source,i=n.target,o=i.incoming.slice();n.hints&&!1===n.hints.createElementsBehavior||Tn(r,"bpmn:EventBasedGateway")&&i.incoming.length&&o.filter(ml).forEach((function(e){t.removeConnection(e)}))})),this.preExecuted("shape.replace",(function(e){var n=e.context.newShape;Tn(n,"bpmn:EventBasedGateway")&&n.outgoing.filter(ml).map((function(e){return e.target})).reduce((function(e,t){var n=t.incoming.filter(ml);return e.concat(n)}),[]).forEach((function(e){e.source!==n&&t.removeConnection(e)}))}))}function ml(e){return Tn(e,"bpmn:SequenceFlow")}cl.$inject=["bpmnReplace","injector"],r(cl,pi),cl.prototype.replaceShape=function(e){var t,n=function(e){var t=Mn(e).eventDefinitions;return t&&t[0]}(e);return t=n?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:n.$type}:{type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,t,{layoutConnection:!1})},r(ul,pi),ul.$inject=["eventBus","bpmnRules","modeling"],hl.$inject=["eventBus","modeling"],r(hl,pi);var yl=1500;function vl(e,t,n){t.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],yl,(function(t){var r=t.context.shape||t.shape,i=t.hover;Tn(i,"bpmn:Lane")&&!Rn(r,["bpmn:Lane","bpmn:Participant"])&&(t.hover=Np(i),t.hoverGfx=e.getGraphics(t.hover));var o=n.getRootElement();i!==o&&(r.labelTarget||Tn(r,"bpmn:Group"))&&(t.hover=o,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],yl,(function(t){var n=t.hover;Tn(n,"bpmn:Lane")&&(t.hover=Np(n)||n,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["bendpoint.move.hover"],yl,(function(t){var n=t.context,r=t.hover,i=n.type;Tn(r,"bpmn:Lane")&&/reconnect/.test(i)&&(t.hover=Np(r)||r,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["connect.start"],yl,(function(e){var t=e.context,n=t.start;Tn(n,"bpmn:Lane")&&(t.start=Np(n)||n)})),t.on("shape.move.start",2e3,(function(e){var t=e.shape;Tn(t,"bpmn:Lane")&&(e.shape=Np(t)||t)}))}vl.$inject=["elementRegistry","eventBus","canvas"];function gl(e,t,n,r,i,o){function a(e){var n=Mn(e).categoryValueRef;if(n){var r=n.$parent;n&&(de(r.categoryValue,n),r&&!r.categoryValue.length&&function(e){de(t.getDefinitions().get("rootElements"),e)}(r))}}i.invoke(pi,this),this.executed("shape.delete",(function(e){var t,r=e.context.shape;if(Tn(r,"bpmn:Group")){var i=Mn(r).categoryValueRef,o=n.filter((function(e){return Tn(e,"bpmn:Group")}));t=i,o.some((function(e){var n=Mn(e);return n.categoryValueRef&&n.categoryValueRef===t}))||a(r)}})),this.reverted("shape.delete",(function(e){var n=e.context.shape;if(Tn(n,"bpmn:Group")){var r=Mn(n).categoryValueRef,i=t.getDefinitions(),o=r?r.$parent:null;fe(o.get("categoryValue"),r),fe(i.get("rootElements"),o)}})),this.execute("shape.create",(function(n){var r=Mn(n.context.shape);if(Tn(r,"bpmn:Group")&&!r.categoryValueRef){var i=Dc(t.getDefinitions(),e);r.categoryValueRef=i}})),this.revert("shape.create",(function(e){var t=e.context.shape;Tn(t,"bpmn:Group")&&(a(t),delete Mn(t).categoryValueRef)})),r.on("moddleCopy.canCopyProperty",2e3,(function(n){var r,i=n.property;if(Tn(i,"bpmn:CategoryValue"))return r=Dc(t.getDefinitions(),e),o.copyElement(i,r)}))}function bl(e,t,n,r){var i,o,a,s;return 0==(i=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y))?null:(o=e.y-n.y,a=e.x-n.x,s=((r.x-n.x)*o-(r.y-n.y)*a)/i,{x:Math.round(e.x+s*(t.x-e.x)),y:Math.round(e.y+s*(t.y-e.y))})}function xl(e){function t(e,t,n){var r,i={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},a=bl(e,t,n,i),s=bl(e,t,n,o);r=a&&s?wl(a,n)>wl(s,n)?s:a:a||s,e.original=r}e.on("bpmnElement.added",(function(e){var n=e.element;n.waypoints&&function(e){var n=e.waypoints;t(n[0],n[1],Se(e.source)),t(n[n.length-1],n[n.length-2],Se(e.target))}(n)}))}function wl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function El(e){pi.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],(function(e){var n=e.context.shape,r=Mn(n),i=Dn(n);Rn(r,t)&&!i.get("isHorizontal")&&i.set("isHorizontal",!0)}))}gl.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],r(gl,pi),xl.$inject=["eventBus"],El.$inject=["eventBus"],r(El,pi);var Ol=Math.sqrt,_l=Math.min,Pl=Math.max,jl=Math.abs;function Sl(e){return Math.pow(e,2)}function kl(e,t){return Ol(Sl(e.x-t.x)+Sl(e.y-t.y))}function Al(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,p=i*i+o*o,c=(i*a+o*s)/p,l=c*c-(a*a+s*s-r*r)/p;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var u=Ol(l),d=-c+u,f=-c-u,h={x:e.x-i*d,y:e.y-o*d};return 0===l?[h]:[h,{x:e.x-i*f,y:e.y-o*f}].filter((function(n){return function(e,t,n){return Cl(e.x,t.x,n.x)&&Cl(e.y,t.y,n.y)}(n,e,t)}))}function Cl(e,t,n){return e>=_l(t,n)-Tl&&e<=Pl(t,n)+Tl}var Tl=.1;function Rl(e,t){return jl(e.x-t.x)<=Tl&&jl(e.y-t.y)<=Tl}function Ml(e,t,n,r){var i=n.segmentIndex,o=t.length-e.length;if(r.segmentMove){var a=r.segmentMove.segmentStartIndex,s=r.segmentMove.newSegmentStartIndex;return i===a?s:i>=s?i+o<s?s:i+o:i}if(r.bendpointMove){var p,c=r.bendpointMove.insert,l=r.bendpointMove.bendpointIndex;if(0===o)return i;if(i>=l&&(p=c?i+1:i-1),i<l)if(p=i,c&&"bendpoint"!==n.type&&l-1===i)Nl(t,l)<n.relativeLocation&&p++;return p}return 0===o?i:r.connectionStart&&0===i?0:r.connectionEnd&&i===e.length-2?t.length-2:Math.floor((t.length-2)/2)}function Dl(e,t,n,r){var i=0,o=0,a={point:e,delta:{x:0,y:0}},s=function(e,t){var n,r,i,o,a,s,p,c,l,u,d,f,h=0;for(h=0;h<t.length-1;h++){if(Rl(n=t[h],r=t[h+1])?s=[n]:(i=kl(e,n),o=kl(e,r),s=Al(n,r,e,_l(i,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(p={type:"bendpoint",position:s[0],segmentIndex:h,bendpointIndex:Rl(n,s[0])?h:h+1}),2===s.length&&(d=s[0],f=s[1],p={type:"segment",position:a={x:(d.x+f.x)/2,y:(d.y+f.y)/2},segmentIndex:h,relativeLocation:kl(n,a)/kl(n,r)}),c=kl(p.position,e),(!u||l>c)&&(u=p,l=c)}return u}(e,n),p=s.segmentIndex,c=Ml(n,t,s,r);if(c<0||c>t.length-2||null===c)return a;var l=Bl(n,p),u=Bl(t,c),d=s.position,f=function(e,t){var n=sa(e[0],e[1]),r=sa(e[0],t);return 0===n?0:r/n}(l,d),h=function(e,t){var n=ia(e);return ia(t)-n}(l,u);if("bendpoint"===s.type){var m=t.length-n.length,y=s.bendpointIndex,v=n[y];if(-1!==t.indexOf(v))return a;if(0===m){var g=t[y];return{delta:{x:i=g.x-s.position.x,y:o=g.y-s.position.y},point:{x:e.x+i,y:e.y+o}}}m<0&&0!==y&&y<n.length-1&&(f=Nl(n,y))}var b,x,w={x:(u[1].x-u[0].x)*f+u[0].x,y:(u[1].y-u[0].y)*f+u[0].y},E=(b={x:e.x-d.x,y:e.y-d.y},(x=h)?{x:Math.cos(x)*b.x-Math.sin(x)*b.y,y:Math.sin(x)*b.x+Math.cos(x)*b.y}:b);return i=w.x+E.x-e.x,o=w.y+E.y-e.y,{point:Oe(w),delta:Oe({x:i,y:o})}}function Nl(e,t){var n=sa(e[t-1],e[t]);return n/(n+sa(e[t],e[t+1]))}function Bl(e,t){return[e[t],e[t+1]]}function Ll(e,t,n){var r=Qi(t),i=Qi(n),o=Ji(e,r),a=o.x*(n.width/t.width),s=o.y*(n.height/t.height);return Oe({x:i.x+a,y:i.y+s})}function Il(e,t,n){var r=Qi(e),i=Qi(t),o=Qi(n),a=Ji(e,r),s=Ji(r,i),p=function(e,t,n){var r=_e(t),i=_e(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(r,i))return null;var o,a,s=ke(t,e);if("top"===s)o={x:0,y:i.bottom-r.bottom};else if("bottom"===s)o={x:0,y:i.top-r.top};else if("right"===s)o={x:i.left-r.left,y:0};else{if("left"!==s)return null;o={x:i.right-r.right,y:0}}if(a={x:e.x+o.x,y:e.y+o.y},ke(n,a)!==s)return null;return o}(r,t,n);if(p)return p;var c=s.x*(n.width/t.width),l=s.y*(n.height/t.height),u=o.x+c,d=o.y+l;return Oe({x:u+a.x-e.x,y:d+a.y-e.y})}var zl={width:90,height:20},$l="name",Fl="text";function ql(e,t,n,r){function i(e){var t=e.context,n=t.connection,r=n.label,i=Object(s.assign)({},t.hints),o=t.newWaypoints||n.waypoints,a=t.oldWaypoints;return"undefined"===typeof i.startChanged&&(i.startChanged=!!i.connectionStart),"undefined"===typeof i.endChanged&&(i.endChanged=!!i.connectionEnd),function(e,t,n,r){var i=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e);return Dl(i,t,n,r).delta}(r,o,a,i)}pi.call(this,e),this.postExecute("element.updateProperties",(function(e){var n=e.context,i=n.element,o=n.properties;if($l in o&&t.updateLabel(i,o.name),Fl in o&&Tn(i,"bpmn:TextAnnotation")){var a=r.getTextAnnotationBounds({x:i.x,y:i.y,width:i.width,height:i.height},o.text||"");t.updateLabel(i,o.text,a)}})),this.postExecute(["shape.create","connection.create"],(function(e){var n=e.context;if(!1!==(n.hints||{}).createElementsBehavior){var i=n.shape||n.connection,o=i.businessObject;if(!jr(i)&&Er(i)&&er(i)){var a=Pr(i),s=r.getExternalLabelBounds(zl,er(i));t.createLabel(i,a,{id:o.id+"_label",businessObject:o,width:s.width,height:s.height})}}})),this.postExecute("shape.delete",(function(e){var n=e.context,r=n.labelTarget,i=n.hints||{};r&&!1!==i.unsetLabel&&t.updateLabel(r,null,null,{removeShape:!1})})),this.postExecute(["label.create"],(function(e){var t,r=e.context,i=r.shape,o=r.labelTarget;o&&Tn(o,"bpmn:BaseElement")&&((t=Dn(o)).label||(t.label=n.create("bpmndi:BPMNLabel",{bounds:n.create("dc:Bounds")}),i.di=t),Object(s.assign)(t.label.bounds,{x:i.x,y:i.y,width:i.width,height:i.height}))})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var n=e.context;if(!1!==(n.hints||{}).labelBehavior){var r,o=n.connection.label;o&&o.parent&&(r=i(e),t.moveShape(o,r))}})),this.postExecute(["shape.replace"],(function(e){var t=e.context,n=t.newShape,r=t.oldShape,i=Mn(n);i&&Er(i)&&r.label&&n.label&&(n.label.x=r.label.x,n.label.y=r.label.y)})),this.postExecute("shape.resize",(function(e){var n,r=e.context,i=r.shape,o=r.newBounds,a=r.oldBounds;if(Or(i)){var p=i.label,c=function(e,t,n){return Oe(Ji(Ll(e,t,n),e))}(function(e,t){if(!t.length)return;var n=function(e,t){var n=t.map((function(t){return{line:t,distance:aa(e,t)}}));return Object(s.sortBy)(n,"distance")[0].line}(e,t);return oa(e,n)}(Se(p),[[{x:(n=a).x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]),a,o);t.moveShape(p,c)}}))}function Ul(e,t){function n(e,t){var n=e.context,r=n.connection,i=Object(s.assign)({},n.hints),o=n.newWaypoints||r.waypoints,a=n.oldWaypoints;return"undefined"===typeof i.startChanged&&(i.startChanged=!!i.connectionStart),"undefined"===typeof i.endChanged&&(i.endChanged=!!i.connectionEnd),function(e,t,n,r){return Dl(e,t,n,r).point}(t,o,a,i)}pi.call(this,e),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var r=e.context.connection,i=r.outgoing;r.incoming.forEach((function(r){var i=r.waypoints[r.waypoints.length-1],o=n(e,i),a=[].concat(r.waypoints.slice(0,-1),[o]);t.updateWaypoints(r,a)})),i.forEach((function(r){var i=r.waypoints[0],o=n(e,i),a=[].concat([o],r.waypoints.slice(1));t.updateWaypoints(r,a)}))})),this.postExecute(["connection.move"],(function(e){var n=e.context,r=n.connection,i=r.outgoing,o=r.incoming,a=n.delta;o.forEach((function(e){var n=e.waypoints[e.waypoints.length-1],r={x:n.x+a.x,y:n.y+a.y},i=[].concat(e.waypoints.slice(0,-1),[r]);t.updateWaypoints(e,i)})),i.forEach((function(e){var n=e.waypoints[0],r={x:n.x+a.x,y:n.y+a.y},i=[].concat([r],e.waypoints.slice(1));t.updateWaypoints(e,i)}))}))}function Vl(e,t,n){var r=Yl(e),i=Xl(r,t),o=r[0];return i.length?i[i.length-1]:Ll(o.original||o,n,t)}function Hl(e,t,n){var r=Yl(e),i=Xl(r,t),o=r[r.length-1];return i.length?i[0]:Ll(o.original||o,n,t)}function Wl(e,t,n){var r=Yl(e),i=Kl(t,n),o=r[0];return Ll(o.original||o,i,t)}function Gl(e,t,n){var r=Yl(e),i=Kl(t,n),o=r[r.length-1];return Ll(o.original||o,i,t)}function Kl(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function Yl(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function Xl(e,t){var n=Object(s.map)(e,Ql);return Object(s.filter)(n,(function(e){return function(e,t){return"intersect"===ke(t,e,1)}(e,t)}))}function Ql(e){return e.original||e}function Jl(e,t){pi.call(this,e),this.postExecute("shape.replace",(function(e){var n=e.oldShape,r=e.newShape;if(function(e,t){return Tn(e,"bpmn:Participant")&&Xn(e)&&Tn(t,"bpmn:Participant")&&!Xn(t)}(n,r)){var i=function(e){var t=oe([e],!1),n=[],r=[];return t.forEach((function(t){t!==e&&(t.incoming.forEach((function(e){Tn(e,"bpmn:MessageFlow")&&n.push(e)})),t.outgoing.forEach((function(e){Tn(e,"bpmn:MessageFlow")&&r.push(e)})))}),[]),{incoming:n,outgoing:r}}(n);i.incoming.forEach((function(e){var i=Hl(e,r,n);t.reconnectEnd(e,r,i)})),i.outgoing.forEach((function(e){var i=Vl(e,r,n);t.reconnectStart(e,r,i)}))}}),!0)}r(ql,pi),ql.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],r(Ul,pi),Ul.$inject=["eventBus","modeling"],Jl.$inject=["eventBus","modeling"],r(Jl,pi);function Zl(e,t,n){e.on(["shape.move.rejected","create.rejected"],(function(e){var r,i,o,a=e.context,s=a.shape;Tn(a.target,"bpmn:Collaboration")&&Tn(s,"bpmn:FlowNode")&&(r=e,i=n("flow elements must be children of pools/participants"),t.add({position:{x:r.x+5,y:r.y+5},type:"error",timeout:o||2e3,html:"<div>"+i+"</div>"}))}))}function eu(e,t){pi.call(this,e),this.preExecute("shape.resize",(function(e){var n=e.shape,r=Dn(n),i=r&&r.get("label");i&&i.get("bounds")&&t.updateModdleProperties(n,i,{bounds:void 0})}),!0)}function tu(e,t,n){pi.call(this,e),this.preExecute("shape.delete",(function(e){var r=e.context.shape;if(1===r.incoming.length&&1===r.outgoing.length){var i=r.incoming[0],o=r.outgoing[0];if(Tn(i,"bpmn:SequenceFlow")&&Tn(o,"bpmn:SequenceFlow")&&t.canConnect(i.source,o.target,i)){var a=function(e,t){var n=bl(nu(e[e.length-2]),nu(e[e.length-1]),nu(t[1]),nu(t[0]));return n?[].concat(e.slice(0,e.length-1),[n],t.slice(1)):[nu(e[0]),nu(t[t.length-1])]}(i.waypoints,o.waypoints);n.reconnectEnd(i,o.target,a)}}}))}function nu(e){return e.original||e}function ru(e,t){pi.call(this,e),this.preExecute("shape.delete",(function(e){var t=e.shape,n=t.parent;Tn(t,"bpmn:Participant")&&(e.collaborationRoot=n)}),!0),this.postExecute("shape.delete",(function(e){var n=e.collaborationRoot;n&&!n.businessObject.participants.length&&t.makeProcess()}),!0)}function iu(e,t,n,r){pi.call(this,e);var i=r.get("dragging",!1);function o(e){var r,i,o=e.source,a=e.target;e.parent&&(Tn(e,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(o,a)||(i=!0),n.canConnectMessageFlow(o,a)&&(r="bpmn:MessageFlow")),Tn(e,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(o,a)||(i=!0),n.canConnectSequenceFlow(o,a)&&(r="bpmn:SequenceFlow")),Tn(e,"bpmn:Association")&&!n.canConnectAssociation(o,a)&&(i=!0),i&&t.removeConnection(e),r&&t.connect(o,a,{type:r,waypoints:e.waypoints.slice()}))}this.postExecuted("elements.move",(function(e){var t=e.closure.allConnections;Object(s.forEach)(t,o)}),!0),this.preExecute("connection.reconnect",(function(e){var r,o,a=e.context,s=a.connection,p=a.newSource||s.source,c=a.newTarget||s.target;(r=n.canConnect(p,c))&&r.type!==s.type&&(o=t.connect(p,c,{type:r.type,waypoints:s.waypoints.slice()}),t.removeConnection(s),a.connection=o,i&&function(e,t){var n,r=i.context(),o=r&&r.payload.previousSelection;if(!o||!o.length)return;if(-1===(n=o.indexOf(e)))return;o.splice(n,1,t)}(s,o))})),this.postExecuted("element.updateProperties",(function(e){var n,r=e.context,i=r.properties,o=r.element,a=o.businessObject;i.default&&(n=Object(s.find)(o.outgoing,Object(s.matchPattern)({id:o.businessObject.default.id})))&&t.updateProperties(n,{conditionExpression:void 0}),i.conditionExpression&&a.sourceRef.default===a&&t.updateProperties(o.source,{default:void 0})}))}function ou(e,t,n,r,i,o){r.invoke(pi,this),this._bpmnReplace=e,this._elementRegistry=n,this._selection=o,this.postExecuted(["elements.create"],500,(function(e){var n=e.context,r=n.parent,i=n.elements,o=t.canReplace(i,r);o&&this.replaceElements(i,o.replacements)}),this),this.postExecuted(["elements.move"],500,(function(e){var n=e.context,r=n.newParent,i=n.newHost,o=[];Object(s.forEach)(n.closure.topLevel,(function(e){o=Qn(e)?o.concat(e.children):o.concat(e)})),1===o.length&&i&&(r=i);var a=t.canReplace(o,r);a&&this.replaceElements(o,a.replacements,i)}),this),this.postExecute(["shape.replace"],1500,(function(e){var n,r=e.context,i=r.oldShape,o=r.newShape,a=i.attachers;a&&a.length&&(n=t.canReplace(a,o),this.replaceElements(a,n.replacements))}),this),this.postExecuted(["shape.replace"],1500,(function(e){var t=e.context,n=t.oldShape,r=t.newShape;i.unclaimId(n.businessObject.id,n.businessObject),i.updateProperties(r,{id:n.id})}))}Zl.$inject=["eventBus","tooltips","translate"],r(eu,pi),eu.$inject=["eventBus","modeling"],r(tu,pi),tu.$inject=["eventBus","bpmnRules","modeling"],ru.$inject=["eventBus","modeling"],r(ru,pi),r(iu,pi),iu.$inject=["eventBus","modeling","bpmnRules","injector"],r(ou,pi),ou.prototype.replaceElements=function(e,t){var n=this._elementRegistry,r=this._bpmnReplace,i=this._selection;Object(s.forEach)(t,(function(t){var i={type:t.newElementType},o=n.get(t.oldElementId),a=e.indexOf(o);e[a]=r.replaceElement(o,i,{select:!1})})),t&&i.select(e)},ou.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var au=300,su=60,pu={width:300,height:150},cu={width:140,height:120},lu={width:50,height:30};function uu(e){e.on("resize.start",1500,(function(e){var t=e.context,n=t.shape,r=t.direction,i=t.balanced;(Tn(n,"bpmn:Lane")||Tn(n,"bpmn:Participant"))&&(t.resizeConstraints=function(e,t,n){var r=Np(e),i=!0,o=!0,a=Mp(r,[r]),s=_e(e),p={},c={};/e/.test(t)?c.right=s.left+au:/w/.test(t)&&(c.left=s.right-au);return a.forEach((function(e){var r=_e(e);/n/.test(t)&&(r.top<s.top-10&&(i=!1),n&&du(s.top-r.bottom)<10&&vu(p,"top",r.top+su),du(s.top-r.top)<5&&yu(c,"top",r.bottom-su)),/s/.test(t)&&(r.bottom>s.bottom+10&&(o=!1),n&&du(s.bottom-r.top)<10&&yu(p,"bottom",r.bottom-su),du(s.bottom-r.bottom)<5&&vu(c,"bottom",r.top+su))})),r.children.filter((function(e){return!e.hidden&&!e.waypoints&&(Tn(e,"bpmn:FlowElement")||Tn(e,"bpmn:Artifact"))})).forEach((function(e){var n=_e(e);i&&/n/.test(t)&&yu(c,"top",n.top-20),/e/.test(t)&&vu(c,"right",n.right+20),o&&/s/.test(t)&&vu(c,"bottom",n.bottom+20),/w/.test(t)&&yu(c,"left",n.left-50)})),{min:c,max:p}}(n,r,i)),Tn(n,"bpmn:Participant")&&(t.minDimensions=pu),Tn(n,"bpmn:SubProcess")&&Xn(n)&&(t.minDimensions=cu),Tn(n,"bpmn:TextAnnotation")&&(t.minDimensions=lu)}))}uu.$inject=["eventBus"];var du=Math.abs,fu=Math.min,hu=Math.max;function mu(e,t,n,r){var i=e[t];e[t]=void 0===i?n:r(n,i)}function yu(e,t,n){return mu(e,t,n,fu)}function vu(e,t,n){return mu(e,t,n,hu)}function gu(e,t){e.on("resize.start",1501,(function(e){var t=e.context,n=t.shape;(Tn(n,"bpmn:Lane")||Tn(n,"bpmn:Participant"))&&(t.balanced=!Ir(e))})),e.on("resize.end",1001,(function(e){var n=e.context,r=n.shape,i=n.canExecute,o=n.newBounds;if(Tn(r,"bpmn:Lane")||Tn(r,"bpmn:Participant"))return i&&(o=Ee(o),t.resizeLane(r,o,n.balanced)),!1}))}gu.$inject=["eventBus","modeling"];function bu(e,t,n,r,i){function o(e){return Rn(e,["bpmn:ReceiveTask","bpmn:SendTask"])||function(e,t){Object(s.isArray)(t)||(t=[t]);return Object(s.some)(t,(function(t){return Jn(e,t)}))}(e,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function a(t){var n=e.getDefinitions().get("rootElements");return!!Object(s.find)(n,Object(s.matchPattern)({id:t.id}))}function p(e){return Tn(e,"bpmn:ErrorEventDefinition")?"errorRef":Tn(e,"bpmn:EscalationEventDefinition")?"escalationRef":Tn(e,"bpmn:MessageEventDefinition")?"messageRef":Tn(e,"bpmn:SignalEventDefinition")?"signalRef":void 0}function c(e){if(Rn(e,["bpmn:ReceiveTask","bpmn:SendTask"]))return e.get("messageRef");var t=e.get("eventDefinitions")[0];return t.get(p(t))}n.invoke(pi,this),this.executed("shape.create",(function(t){var n=t.shape;if(o(n)){var r=c(Mn(n));r&&!a(r)&&(fe(e.getDefinitions().get("rootElements"),r),t.addedRootElement=r)}}),!0),this.reverted("shape.create",(function(t){var n=t.addedRootElement;n&&de(e.getDefinitions().get("rootElements"),n)}),!0),t.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element;if(o(n)){var r=c(Mn(n));r&&(t.referencedRootElement=r)}})),t.on("copyPaste.pasteElement",500,(function(e){var t=e.descriptor,n=t.businessObject;if(o(n)){var s=t.referencedRootElement;s&&(a(s)||(s=r.copyElement(s,i.create(s.$type))),function(e,t){if(Rn(e,["bpmn:ReceiveTask","bpmn:SendTask"]))return e.set("messageRef",t);var n=e.get("eventDefinitions")[0];n.set(p(n),t)}(n,s))}}))}bu.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],r(bu,pi);var xu=Math.max;function wu(e){e.on("spaceTool.getMinDimensions",(function(e){var t=e.shapes,n=e.axis,r=e.start,i={};return Object(s.forEach)(t,(function(e){var t=e.id;Tn(e,"bpmn:Participant")&&(!function(e){return"x"===e}(n)?i[t]={width:pu.width,height:Eu(e,r)}:i[t]=pu),Tn(e,"bpmn:SubProcess")&&Xn(e)&&(i[t]=cu),Tn(e,"bpmn:TextAnnotation")&&(i[t]=lu)})),i}))}function Eu(e,t){var n;return Dp(e).length?(n=function(e,t){var n,r=Dp(e);return n=Ou(r,t),e.height-n.height+su}(e,t),xu(pu.height,n)):pu.height}function Ou(e,t){var n,r,i;for(n=0;n<e.length;n++)if(t>=(r=e[n]).y&&t<=r.y+r.height)return(i=Dp(r)).length?Ou(i,t):r}wu.$inject=["eventBus"];var _u=180,Pu=160;function ju(e,t,n,r,i,o,a){pi.call(this,t),this._canvas=e,this._eventBus=t,this._modeling=n,this._elementFactory=r,this._bpmnFactory=i,this._bpmnjs=o,this._elementRegistry=a;var p=this;function c(e){return Tn(e,"bpmn:SubProcess")&&!Xn(e)}function l(t){var n=t.shape,r=t.newRootElement,i=Mn(n);r=p._addDiagram(r||i),t.newRootElement=e.addRootElement(r)}function u(t){var n=Mn(t.shape);p._removeDiagram(n);var r=t.newRootElement=a.get(vi(n));e.removeRootElement(r)}this.executed("shape.create",(function(e){c(e.shape)&&l(e)}),!0),this.postExecuted("shape.create",(function(e){var t=e.shape,n=e.newRootElement;n&&t.children&&(p._showRecursively(t.children),p._moveChildrenToShape(t,n))}),!0),this.reverted("shape.create",(function(e){c(e.shape)&&u(e)}),!0),this.preExecuted("shape.delete",(function(e){var t=e.shape;if(c(t)){var r=a.get(vi(t));r&&n.removeElements(r.children.slice())}}),!0),this.executed("shape.delete",(function(e){c(e.shape)&&u(e)}),!0),this.reverted("shape.delete",(function(e){c(e.shape)&&l(e)}),!0),this.preExecuted("shape.replace",(function(t){var n=t.oldShape,r=t.newShape;c(n)&&c(r)&&(t.oldRoot=e.removeRootElement(vi(n)))}),!0),this.postExecuted("shape.replace",(function(t){var r=t.newShape,i=t.oldRoot,o=e.findRoot(vi(r));if(i&&o){var a=i.children;n.moveElements(a,{x:0,y:0},o)}}),!0),this.executed("element.updateProperties",(function(e){var t=e.element;if(Tn(t,"bpmn:SubProcess")){var n=e.properties,r=e.oldProperties.id,i=n.id;if(r!==i){if(bi(t))return a.updateId(t,gi(i)),void a.updateId(r,i);a.get(gi(r))&&a.updateId(gi(r),gi(i))}}}),!0),this.reverted("element.updateProperties",(function(e){var t=e.element;if(Tn(t,"bpmn:SubProcess")){var n=e.properties,r=e.oldProperties.id,i=n.id;if(r!==i){if(bi(t))return a.updateId(t,gi(r)),void a.updateId(i,r);var o=a.get(gi(i));o&&a.updateId(o,gi(r))}}}),!0),t.on("element.changed",(function(e){var n=e.element;if(bi(n)){var r=n,i=a.get(yi(r));i&&i!==r&&t.fire("element.changed",{element:i})}})),this.executed("shape.toggleCollapse",400,(function(e){var t=e.shape;Tn(t,"bpmn:SubProcess")&&(Xn(t)?u(e):(l(e),p._showRecursively(t.children)))}),!0),this.reverted("shape.toggleCollapse",400,(function(e){var t=e.shape;Tn(t,"bpmn:SubProcess")&&(Xn(t)?u(e):(l(e),p._showRecursively(t.children)))}),!0),this.postExecuted("shape.toggleCollapse",600,(function(e){var t=e.shape;if(Tn(t,"bpmn:SubProcess")){var n=e.newRootElement;n&&(Xn(t)?p._moveChildrenToShape(n,t):p._moveChildrenToShape(t,n))}}),!0),t.on("copyPaste.createTree",(function(e){var t=e.element,n=e.children;if(c(t)){var r=vi(t),i=a.get(r);i&&n.push.apply(n,i.children)}})),t.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,r=e.elements,i=n.parent;if(Tn(Dn(i),"bpmndi:BPMNPlane")){var o=yi(i),a=Object(s.find)(r,(function(e){return e.id===o}));a&&(t.parent=a.id)}})),t.on("copyPaste.pasteElement",(function(e){var t=e.descriptor;t.parent&&(c(t.parent)||t.parent.hidden)&&(t.hidden=!0)}))}function Su(e,t){e.invoke(pi,this),this.postExecuted("shape.replace",(function(e){var n=e.context.oldShape,r=e.context.newShape;if(Tn(r,"bpmn:SubProcess")&&(Tn(n,"bpmn:Task")||Tn(n,"bpmn:CallActivity"))&&Xn(r)){var i,o={x:(i=r).x+i.width/6,y:i.y+i.height/2};t.createShape({type:"bpmn:StartEvent"},o,r)}}))}function ku(e,t){pi.call(this,e),this.postExecuted("shape.toggleCollapse",1500,(function(e){var n=e.shape;if(!Xn(n)){var r=oe(n);r.forEach((function(e){var t=e.incoming.slice(),n=e.outgoing.slice();Object(s.forEach)(t,(function(e){i(e,!0)})),Object(s.forEach)(n,(function(e){i(e,!1)}))}))}function i(e,i){-1!==r.indexOf(e.source)&&-1!==r.indexOf(e.target)||(i?t.reconnectEnd(e,n,Se(n)):t.reconnectStart(e,n,Se(n)))}}),!0)}r(ju,pi),ju.prototype._moveChildrenToShape=function(e,t){var n,r=this._modeling,i=e.children;if(i){var o=i.filter((function(e){return!e.hidden}));if(o.length){var a=ae(o);if(t.x){var s=Se(t),p=Se(a);n={x:s.x-p.x,y:s.y-p.y}}else n={x:_u-a.x,y:Pu-a.y};r.moveElements(i,n,t,{autoResize:!1})}else r.moveElements(i,{x:0,y:0},t,{autoResize:!1})}},ju.prototype._showRecursively=function(e,t){var n=this,r=[];return e.forEach((function(e){e.hidden=!!t,r=r.concat(e),e.children&&(r=r.concat(n._showRecursively(e.children,e.collapsed||t)))})),r},ju.prototype._addDiagram=function(e){var t=this._bpmnjs.getDefinitions().diagrams;return e.businessObject||(e=this._createNewDiagram(e)),t.push(e.di.$parent),e},ju.prototype._createNewDiagram=function(e){var t=this._bpmnFactory,n=this._elementFactory,r=t.create("bpmndi:BPMNPlane",{bpmnElement:e}),i=t.create("bpmndi:BPMNDiagram",{plane:r});return r.$parent=i,n.createRoot({id:vi(e),type:e.$type,di:r,businessObject:e,collapsed:!0})},ju.prototype._removeDiagram=function(e){var t=this._bpmnjs.getDefinitions().diagrams,n=Object(s.find)(t,(function(t){return t.plane.bpmnElement.id===e.id}));return t.splice(t.indexOf(n),1),n},ju.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],Su.$inject=["injector","modeling"],r(Su,pi),r(ku,pi),ku.$inject=["eventBus","modeling"];function Au(e,t,n,r){pi.call(this,e),this.executed(["shape.toggleCollapse"],500,(function(e){var t,n=e.context.shape;Tn(n,"bpmn:SubProcess")&&(n.collapsed?Dn(n).isExpanded=!1:((t=n.children).length&&t.forEach((function(e){"label"!==e.type||e.businessObject.name||(e.hidden=!0)})),Dn(n).isExpanded=!0))})),this.reverted(["shape.toggleCollapse"],500,(function(e){var t=e.context.shape;t.collapsed?Dn(t).isExpanded=!1:Dn(t).isExpanded=!0})),this.postExecuted(["shape.toggleCollapse"],500,(function(e){var r,i=e.context.shape,o=t.getDefaultSize(i);r=i.collapsed?function(e,t){return{x:e.x+(e.width-t.width)/2,y:e.y+(e.height-t.height)/2,width:t.width,height:t.height}}(i,o):function(e,t){var n,r,i=e.children,o=t;return(n=Ap((r=i,r.filter((function(e){return!e.hidden}))).concat([e])))?(o.width=Math.max(n.width,o.width),o.height=Math.max(n.height,o.height),o.x=n.x+(n.width-o.width)/2,o.y=n.y+(n.height-o.height)/2):(o.x=e.x+(e.width-o.width)/2,o.y=e.y+(e.height-o.height)/2),o}(i,o),n.resizeShape(i,r,null,{autoResize:!i.collapsed&&"nwse"})}))}function Cu(e,t,n,r){t.invoke(pi,this),this.preExecute("shape.delete",(function(e){var t=e.context.shape,i=t.businessObject;jr(t)||(Tn(t,"bpmn:Participant")&&Xn(t)&&n.ids.unclaim(i.processRef.id),r.unclaimId(i.id,i))})),this.preExecute("connection.delete",(function(e){var t=e.context.connection.businessObject;r.unclaimId(t.id,t)})),this.preExecute("canvas.updateRoot",(function(){var t=e.getRootElement(),r=t.businessObject;Tn(t,"bpmn:Collaboration")&&n.ids.unclaim(r.id)}))}function Tu(e,t){pi.call(this,e),this.preExecute("connection.delete",(function(e){var n=e.context.connection,r=n.source;(function(e,t){if(!Tn(e,"bpmn:SequenceFlow"))return!1;var n=Mn(t),r=Mn(e);return n.get("default")===r})(n,r)&&t.updateProperties(r,{default:null})}))}r(Au,pi),Au.$inject=["eventBus","elementFactory","modeling"],r(Cu,pi),Cu.$inject=["canvas","injector","moddle","modeling"],r(Tu,pi),Tu.$inject=["eventBus","modeling"];function Ru(e,t,n){var r;function i(){if(!r)throw new Error(n("out of bounds release"));return r}pi.call(this,e);var o=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(o,5e3,(function(e){(r=r||new Mu).enter()})),this.postExecuted(o,500,(function(e){!function(){if(!r)throw new Error(n("out of bounds release"));var e=r.leave();e&&(t.updateLaneRefs(r.flowNodes,r.lanes),r=null)}()})),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],(function(e){var t=e.context.shape,n=i();t.labelTarget||(Tn(t,"bpmn:Lane")&&n.addLane(t),Tn(t,"bpmn:FlowNode")&&n.addFlowNode(t))}))}function Mu(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}Ru.$inject=["eventBus","modeling","translate"],r(Ru,pi);var Du={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","modelingFeedback","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",Vc],appendBehavior:["type",Wc],associationBehavior:["type",Gc],attachEventBehavior:["type",Kc],boundaryEventBehavior:["type",Xc],createBehavior:["type",Qc],createDataObjectBehavior:["type",Jc],createParticipantBehavior:["type",nl],dataInputAssociationBehavior:["type",il],dataStoreBehavior:["type",sl],deleteLaneBehavior:["type",pl],detachEventBehavior:["type",cl],dropOnFlowBehavior:["type",ul],eventBasedGatewayBehavior:["type",hl],fixHoverBehavior:["type",vl],groupBehavior:["type",gl],importDockingFix:["type",xl],isHorizontalFix:["type",El],labelBehavior:["type",ql],layoutConnectionBehavior:["type",Ul],messageFlowBehavior:["type",Jl],modelingFeedback:["type",Zl],removeElementBehavior:["type",tu],removeEmbeddedLabelBoundsBehavior:["type",eu],removeParticipantBehavior:["type",ru],replaceConnectionBehavior:["type",iu],replaceElementBehaviour:["type",ou],resizeBehavior:["type",uu],resizeLaneBehavior:["type",gu],rootElementReferenceBehavior:["type",bu],spaceToolBehavior:["type",wu],subProcessPlaneBehavior:["type",ju],subProcessStartEventBehavior:["type",Su],toggleCollapseConnectionBehaviour:["type",ku],toggleElementCollapseBehaviour:["type",Au],unclaimIdBehavior:["type",Cu],unsetDefaultFlowBehavior:["type",Tu],updateFlowNodeRefsBehavior:["type",Ru]};function Nu(e,t){var n=ke(e,t,-15);return"intersect"!==n?n:null}function Bu(e){Io.call(this,e)}function Lu(e){return!e||jr(e)}function Iu(e){do{if(Tn(e,"bpmn:Process"))return Mn(e);if(Tn(e,"bpmn:Participant"))return Mn(e).processRef||Mn(e)}while(e=e.parent)}function zu(e){return Tn(e,"bpmn:TextAnnotation")}function $u(e){return Tn(e,"bpmn:Group")&&!e.labelTarget}function Fu(e){return Tn(e,"bpmn:BoundaryEvent")&&Vu(e,"bpmn:CompensateEventDefinition")}function qu(e){return Mn(e).isForCompensation}function Uu(e){for(var t=e;t=t.parent;){if(Tn(t,"bpmn:FlowElementsContainer"))return Mn(t);if(Tn(t,"bpmn:Participant"))return Mn(t).processRef}return null}function Vu(e,t){var n=Mn(e);return!!Object(s.find)(n.eventDefinitions||[],(function(e){return Tn(e,t)}))}function Hu(e,t){return(Mn(e).eventDefinitions||[]).every((function(e){return Tn(e,t)}))}function Wu(e){return Tn(e,"bpmn:ReceiveTask")||Tn(e,"bpmn:IntermediateCatchEvent")&&(Vu(e,"bpmn:MessageEventDefinition")||Vu(e,"bpmn:TimerEventDefinition")||Vu(e,"bpmn:ConditionalEventDefinition")||Vu(e,"bpmn:SignalEventDefinition"))}function Gu(e){return e.waypoints}function Ku(e,t){var n=function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t);return-1!==n.indexOf(e)}function Yu(e,t,n){if(Lu(e)||Lu(t))return null;if(!Tn(n,"bpmn:DataAssociation")){if(pd(e,t))return{type:"bpmn:MessageFlow"};if(cd(e,t))return{type:"bpmn:SequenceFlow"}}var r=ld(e,t);return r||(Fu(e)&&qu(t)?{type:"bpmn:Association",associationDirection:"One"}:!!sd(e,t)&&{type:"bpmn:Association"})}function Xu(e,t,n){return!(!jr(e)&&!$u(e))||!(Tn(t,"bpmn:Participant")&&!Xn(t))&&(Tn(e,"bpmn:Participant")?Tn(t,"bpmn:Process")||Tn(t,"bpmn:Collaboration"):Rn(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:Tn(e,"bpmn:Lane")?Tn(t,"bpmn:Participant")||Tn(t,"bpmn:Lane"):!(Tn(e,"bpmn:BoundaryEvent")&&(r=e,!Mn(r).cancelActivity||!Zu(r)&&!ed(r)))&&(Tn(e,"bpmn:FlowElement")&&!Tn(e,"bpmn:DataStoreReference")?Tn(t,"bpmn:FlowElementsContainer")?Xn(t):Rn(t,["bpmn:Participant","bpmn:Lane"]):Tn(e,"bpmn:DataStoreReference")&&Tn(t,"bpmn:Collaboration")?Object(s.some)(Mn(t).get("participants"),(function(e){return!!e.get("processRef")})):Rn(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Rn(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!Tn(e,"bpmn:MessageFlow")&&(Tn(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t)));var r}function Qu(e){return Tn(e,"bpmn:Lane")}function Ju(e){return!!function(e){return!jr(e)&&Tn(e,"bpmn:BoundaryEvent")}(e)||(!(!Tn(e,"bpmn:IntermediateThrowEvent")||!Zu(e))||Tn(e,"bpmn:IntermediateCatchEvent")&&ed(e))}function Zu(e){var t=Mn(e);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function ed(e){return td(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function td(e,t){return t.some((function(t){return Vu(e,t)}))}function nd(e,t,n,r){if(Array.isArray(e)||(e=[e]),1!==e.length)return!1;var i=e[0];return!jr(i)&&(!!Ju(i)&&(!Qn(t)&&(!(!Tn(t,"bpmn:Activity")||qu(t))&&(!(r&&!Nu(r,t))&&(!function(e){return Tn(e,"bpmn:ReceiveTask")&&Object(s.find)(e.incoming,(function(e){return Tn(e.source,"bpmn:EventBasedGateway")}))}(t)&&"attach")))))}function rd(e,t,n){if(!t)return!1;var r={replacements:[]};return Object(s.forEach)(e,(function(e){Qn(t)||Tn(e,"bpmn:StartEvent")&&"label"!==e.type&&Xu(e,t)&&(function(e){return e&&!1!==Mn(e).isInterrupting}(e)||r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),(function(e){return Jn(e,"bpmn:ErrorEventDefinition")}(e)||function(e){return Jn(e,"bpmn:EscalationEventDefinition")}(e)||function(e){return Jn(e,"bpmn:CompensateEventDefinition")}(e))&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),td(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&Tn(t,"bpmn:SubProcess")&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"})),Tn(t,"bpmn:Transaction")||Vu(e,"bpmn:CancelEventDefinition")&&"label"!==e.type&&(Tn(e,"bpmn:EndEvent")&&Xu(e,t)&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:EndEvent"}),Tn(e,"bpmn:BoundaryEvent")&&nd(e,t,0,n)&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:BoundaryEvent"}))})),!!r.replacements.length&&r}function id(e,t){return!Object(s.some)(e,Qu)&&(!t||e.every((function(e){return Xu(e,t)})))}function od(e,t,n,r){return!!t&&(!(!jr(e)&&!$u(e))||n!==t&&((!n||!Ku(n,t))&&(Xu(e,t)||ud(e,t,r))))}function ad(e,t){return Tn(e,"bpmn:SubProcess")?Xn(e)&&(!t||t.width>=100&&t.height>=80):Tn(e,"bpmn:Lane")?!t||t.width>=130&&t.height>=60:Tn(e,"bpmn:Participant")?!t||t.width>=250&&t.height>=50:!!zu(e)||!!$u(e)}function sd(e,t){return!(!Fu(e)||!qu(t))||!Ku(t,e)&&!Ku(e,t)&&(!!function(e,t){var n=zu(e),r=zu(t);return(n||r)&&n!==r}(e,t)||!!ld(e,t))}function pd(e,t){return!(hd(e)&&!hd(t))&&(Tn(r=e,"bpmn:InteractionNode")&&!Tn(r,"bpmn:BoundaryEvent")&&(!Tn(r,"bpmn:Event")||Tn(r,"bpmn:ThrowEvent")&&Hu(r,"bpmn:MessageEventDefinition"))&&function(e){return Tn(e,"bpmn:InteractionNode")&&!qu(e)&&(!Tn(e,"bpmn:Event")||Tn(e,"bpmn:CatchEvent")&&Hu(e,"bpmn:MessageEventDefinition"))&&!(Tn(e,"bpmn:BoundaryEvent")&&!Vu(e,"bpmn:MessageEventDefinition"))}(t)&&(n=t,!(Iu(e)===Iu(n))));var n,r}function cd(e,t){return!(Wu(t)&&t.incoming.length>0&&(n=t.incoming,(n=n||[]).some(fd))&&!Tn(e,"bpmn:EventBasedGateway"))&&(Tn(i=e,"bpmn:FlowNode")&&!Tn(i,"bpmn:EndEvent")&&!Qn(i)&&!(Tn(i,"bpmn:IntermediateThrowEvent")&&Vu(i,"bpmn:LinkEventDefinition"))&&!Fu(i)&&!qu(i)&&function(e){return Tn(e,"bpmn:FlowNode")&&!Tn(e,"bpmn:StartEvent")&&!Tn(e,"bpmn:BoundaryEvent")&&!Qn(e)&&!(Tn(e,"bpmn:IntermediateCatchEvent")&&Vu(e,"bpmn:LinkEventDefinition"))&&!qu(e)}(t)&&(r=t,Uu(e)===Uu(r))&&!(Tn(e,"bpmn:EventBasedGateway")&&!Wu(t)));var n,r,i}function ld(e,t){return Rn(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Rn(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Rn(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Rn(e,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function ud(e,t,n){if(!t)return!1;if(Array.isArray(e)){if(1!==e.length)return!1;e=e[0]}return t.source!==e&&t.target!==e&&(Rn(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!jr(t)&&Tn(e,"bpmn:FlowNode")&&!Tn(e,"bpmn:BoundaryEvent")&&Xu(e,t.parent))}function dd(e,t){return!!jr(t)||!(Tn(t,"bpmn:Lane")&&!function(e,t){return e&&t&&-1!==e.indexOf(t)}(e,t.parent))}function fd(e){if(e&&e.source)return Tn(e.source,"bpmn:EventBasedGateway")}function hd(e){return Ep(e,"bpmn:Process")||Ep(e,"bpmn:Collaboration")}r(Bu,Io),Bu.$inject=["eventBus"],Bu.prototype.init=function(){this.addRule("connection.start",(function(e){return function(e){if(Lu(e))return null;return Rn(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(e.source)})),this.addRule("connection.create",(function(e){var t=e.source,n=e.target,r=e.hints||{},i=r.targetParent;if(r.targetAttach)return!1;i&&(n.parent=i);try{return Yu(t,n)}finally{i&&(n.parent=null)}})),this.addRule("connection.reconnect",(function(e){var t=e.connection;return Yu(e.source,e.target,t)})),this.addRule("connection.updateWaypoints",(function(e){return{type:e.connection.type}})),this.addRule("shape.resize",(function(e){return ad(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var t=e.elements,n=e.position,r=e.target;return!(Gu(r)&&!ud(t,r,n))&&Object(s.every)(t,(function(e){return Gu(e)?Yu(e.source,e.target,e):e.host?nd(e,e.host,null,n):od(e,r,null,n)}))})),this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes,r=e.position;return nd(n,t,null,r)||rd(n,t,r)||id(n,t)||ud(n,t,r)})),this.addRule("shape.create",(function(e){return od(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return nd(e.shape,e.target,null,e.position)})),this.addRule("element.copy",(function(e){var t=e.element;return dd(e.elements,t)}))},Bu.prototype.canConnectMessageFlow=pd,Bu.prototype.canConnectSequenceFlow=cd,Bu.prototype.canConnectDataAssociation=ld,Bu.prototype.canConnectAssociation=sd,Bu.prototype.canMove=id,Bu.prototype.canAttach=nd,Bu.prototype.canReplace=rd,Bu.prototype.canDrop=Xu,Bu.prototype.canInsert=ud,Bu.prototype.canCreate=od,Bu.prototype.canConnect=Yu,Bu.prototype.canResize=ad,Bu.prototype.canCopy=dd;var md={__depends__:[Zo],__init__:["bpmnRules"],bpmnRules:["type",Bu]};function yd(e,t){e.on("saveXML.start",2e3,(function(){var e=t.getRootElements();Object(s.forEach)(e,(function(e){var t,n,r=Dn(e);t=oe([e],!1),t=Object(s.filter)(t,(function(t){return t!==e&&!t.labelTarget})),n=Object(s.map)(t,Dn),r.set("planeElement",n)}))}))}yd.$inject=["eventBus","canvas"];var vd={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",yd]};function gd(e){pi.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],(function(e){var n=e.context,r=n.shape||n.connection,i=n.parent,o=t.getOrdering(r,i);o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)})),this.preExecute(["shape.move","connection.move"],(function(e){var n=e.context,r=n.shape||n.connection,i=n.newParent||r.parent,o=t.getOrdering(r,i);o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)}))}function bd(e,t,n){gd.call(this,e);var r=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:3,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function i(e){var t=e.order;if(t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=Object(s.find)(r,(function(t){return Rn(e,[t.type])}));return t&&t.order||{level:1}}(e)),!t)throw new Error("no order for <"+e.id+">");return t}this.getOrdering=function(e,n){if(e.labelTarget)return{parent:t.findRoot(n)||t.getRootElement(),index:-1};var r=i(e);r.containers&&(n=function(e,t,n){for(var r=t;r&&!Rn(r,n);)r=r.parent;if(!r)throw new Error("no parent for <"+e.id+"> in <"+(t&&t.id)+">");return r}(e,n,r.containers));var o=n.children.indexOf(e),a=Object(s.findIndex)(n.children,(function(t){return!(!e.labelTarget&&t.labelTarget)&&r.level<i(t).level}));return-1!==a&&-1!==o&&o<a&&(a-=1),{index:a,parent:n}}}gd.prototype.getOrdering=function(e,t){return null},r(gd,pi),bd.$inject=["eventBus","canvas","translate"],r(bd,gd);var xd={__depends__:[xr],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",bd]};function wd(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}wd.$inject=["eventBus","injector"],wd.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},wd.prototype.canExecute=function(e,t){var n={command:e,context:t},r=this._getHandler(e),i=this._fire(e,"canExecute",n);if(void 0===i){if(!r)return!1;r.canExecute&&(i=r.canExecute(t))}return i},wd.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},wd.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},wd.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},wd.prototype.register=function(e,t){this._setHandler(e,t)},wd.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},wd.prototype.canUndo=function(){return!!this._getUndoAction()},wd.prototype.canRedo=function(){return!!this._getRedoAction()},wd.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},wd.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},wd.prototype._internalUndo=function(e){var t=this,n=e.command,r=e.context,i=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),i.revert&&t._markDirty(i.revert(r)),t._revertedAction(e),t._fire(n,"reverted",e)}))},wd.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var r,i,o,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),r=0;(i=a[r])&&(o=this._eventBus.fire("commandStack."+i,n),!n.cancelBubble);r++);return o},wd.prototype._createId=function(){return this._uid++},wd.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},wd.prototype._internalExecute=function(e,t){var n=this,r=e.command,i=e.context,o=this._getHandler(r);if(!o)throw new Error("no command handler registered for <"+r+">");this._pushAction(e),t||(this._fire(r,"preExecute",e),o.preExecute&&o.preExecute(i),this._fire(r,"preExecuted",e)),this._atomicDo((function(){n._fire(r,"execute",e),o.execute&&n._markDirty(o.execute(i)),n._executedAction(e,t),n._fire(r,"executed",e)})),t||(this._fire(r,"postExecute",e),o.postExecute&&o.postExecute(i),this._fire(r,"postExecuted",e)),this._popAction(e)},wd.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,r=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=r&&r.id||this._createId()),n.push(e)},wd.prototype._popAction=function(){var e=this._currentExecution,t=e.trigger,n=e.actions,r=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:Object(s.uniqueBy)("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},wd.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=Object(s.isArray)(e)?e:[e],t.dirty=t.dirty.concat(e))},wd.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},wd.prototype._revertedAction=function(e){this._stackIdx--},wd.prototype._getHandler=function(e){return this._handlerMap[e]},wd.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var Ed={commandStack:["type",wd]},Od=new Zr("tt");function _d(e,t){e.style.display=!1===t?"none":""}var Pd=".djs-tooltip";function jd(e,t){this._eventBus=e,this._canvas=t,this._ids=Od,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function(e){var t=Object(p.g)('<div class="djs-tooltip-container" />');return Object(p.a)(t,{position:"absolute",width:"0",height:"0"}),e.insertBefore(t,e.firstChild),t}(t.getContainer());var n=this;p.f.bind(this._tooltipRoot,Pd,"mousedown",(function(e){e.stopPropagation()})),p.f.bind(this._tooltipRoot,Pd,"mouseover",(function(e){n.trigger("mouseover",e)})),p.f.bind(this._tooltipRoot,Pd,"mouseout",(function(e){n.trigger("mouseout",e)})),this._init()}jd.$inject=["eventBus","canvas"],jd.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=Object(s.assign)({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},jd.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,r=this.get(Object(p.b)(n,"data-tooltip-id"));r&&("mouseover"===e&&r.timeout&&this.clearTimeout(r),"mouseout"===e&&r.timeout&&(r.timeout=1e3,this.setTimeout(r)))},jd.prototype.get=function(e){return"string"!==typeof e&&(e=e.id),this._tooltips[e]},jd.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},jd.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout((function(){t.remove(e)}),e.timeout)}},jd.prototype.remove=function(e){var t=this.get(e);t&&(Object(p.l)(t.html),Object(p.l)(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},jd.prototype.show=function(){_d(this._tooltipRoot)},jd.prototype.hide=function(){_d(this._tooltipRoot,!1)},jd.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,r="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=r,this._tooltipRoot.style["-ms-transform"]=r},jd.prototype._addTooltip=function(e){var t,n=e.id,r=e.html,i=this._tooltipRoot;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),Object(s.isString)(r)&&(r=Object(p.g)(r)),t=Object(p.g)('<div data-tooltip-id="'+n+'" class="'+'djs-tooltip">'),Object(p.a)(t,{position:"absolute"}),t.appendChild(r),e.type&&Object(p.c)(t).add("djs-tooltip-"+e.type),e.className&&Object(p.c)(t).add(e.className),e.htmlContainer=t,i.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},jd.prototype._updateTooltip=function(e){var t,n,r,i=e.position,o=e.htmlContainer;t=o,n=i.x,r=i.y,Object(p.a)(t,{left:n+"px",top:r+"px"})},jd.prototype._updateTooltipVisibilty=function(e){Object(s.forEach)(this._tooltips,(function(t){var n=t.show,r=t.htmlContainer,i=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(i=!1),_d(r,i))}))},jd.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(t){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}))};var Sd={__init__:["tooltips"],tooltips:["type",jd]};function kd(e,t){if("function"!==typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}function Ad(e,t,n){pi.call(this,t);var r=e.get("movePreview",!1);t.on("shape.move.start",1400,(function(e){var t=e.context,n=t.shapes,r=t.validatedShapes;t.shapes=Cd(n),t.validatedShapes=Cd(r)})),r&&t.on("shape.move.start",250,(function(e){var t=e.context,n=t.shapes,i=[];Object(s.forEach)(n,(function(e){Object(s.forEach)(e.labels,(function(n){n.hidden||-1!==t.shapes.indexOf(n)||i.push(n),e.labelTarget&&i.push(e)}))})),Object(s.forEach)(i,(function(e){r.makeDraggable(t,e,!0)}))})),this.preExecuted("elements.move",1400,(function(e){var t=e.context.closure,n=t.enclosedElements,r=[];Object(s.forEach)(n,(function(e){Object(s.forEach)(e.labels,(function(e){n[e.id]||r.push(e)}))})),t.addAll(r)})),this.preExecute(["connection.delete","shape.delete"],(function(e){var t=e.context;kd((t.connection||t.shape).labels,(function(e){n.removeShape(e,{nested:!0})}))})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,r=n.labelTarget;r&&(t.labelTargetIndex=he(r.labels,n),t.labelTarget=r,n.labelTarget=null)})),this.revert("shape.delete",(function(e){var t=e.context,n=t.shape,r=t.labelTarget,i=t.labelTargetIndex;r&&(fe(r.labels,n,i),n.labelTarget=r)}))}function Cd(e){return Object(s.filter)(e,(function(t){return-1===e.indexOf(t.labelTarget)}))}r(Ad,pi),Ad.$inject=["injector","eventBus","modeling"];var Td={__init__:["labelSupport"],labelSupport:["type",Ad]},Rd="attach-ok";function Md(e,t,n,r,i){pi.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",1401,(function(e){var t=e.context,n=t.shapes,r=t.validatedShapes;t.shapes=function(e){var t=Dd(e);return Object(s.unionBy)("id",e,t)}(n),t.validatedShapes=function(e){var t=Object(s.groupBy)(e,"id");return Object(s.filter)(e,(function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}(r)})),o&&t.on("shape.move.start",251,(function(e){var t=e.context,n=Dd(t.shapes);Object(s.forEach)(n,(function(e){o.makeDraggable(t,e,!0),Object(s.forEach)(e.labels,(function(e){o.makeDraggable(t,e,!0)}))}))})),o&&t.on("shape.move.start",(function(e){var r=e.context.shapes;if(1===r.length){var i=r[0].host;i&&(n.addMarker(i,Rd),t.once(["shape.move.out","shape.move.cleanup"],(function(){n.removeMarker(i,Rd)})))}})),this.preExecuted("elements.move",1401,(function(e){var t=e.context,n=t.closure,r=Dd(t.shapes);Object(s.forEach)(r,(function(e){n.add(e,n.topLevel[e.host.id])}))})),this.postExecuted("elements.move",(function(e){var t,n=e.context,r=n.shapes,o=n.newHost;o&&1!==r.length||(t=o?r:Object(s.filter)(r,(function(e){var t,n=e.host;return function(e){return!!e.host}(e)&&(t=n,!(-1!==r.indexOf(t)))})),Object(s.forEach)(t,(function(e){i.updateAttachment(e,o)})))})),this.postExecuted("elements.move",(function(e){var t=e.context.shapes;Object(s.forEach)(t,(function(e){Object(s.forEach)(e.attachers,(function(e){Object(s.forEach)(e.outgoing.slice(),(function(e){r.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||i.removeConnection(e)})),Object(s.forEach)(e.incoming.slice(),(function(e){r.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||i.removeConnection(e)}))}))}))})),this.postExecute("shape.create",(function(e){var t=e.context,n=t.shape,r=t.host;r&&i.updateAttachment(n,r)})),this.postExecute("shape.replace",(function(e){var t=e.context,n=t.oldShape,o=t.newShape;kd(n.attachers,(function(e){"attach"===r.allowed("elements.move",{target:o,shapes:[e]})?i.updateAttachment(e,o):i.removeShape(e)})),o.attachers.length&&Object(s.forEach)(o.attachers,(function(e){var t=Il(e,n,o);i.moveShape(e,t,e.parent)}))})),this.postExecute("shape.resize",(function(e){var t=e.context,n=t.shape,r=t.oldBounds,o=t.newBounds,a=n.attachers;!1!==(t.hints||{}).attachSupport&&Object(s.forEach)(a,(function(e){var t=Il(e,r,o);i.moveShape(e,t,e.parent),Object(s.forEach)(e.labels,(function(e){i.moveShape(e,t,e.parent)}))}))})),this.preExecute("shape.delete",(function(e){var t=e.context.shape;kd(t.attachers,(function(e){i.removeShape(e)})),t.host&&i.updateAttachment(t,null)}))}function Dd(e){return Object(s.flatten)(Object(s.map)(e,(function(e){return e.attachers||[]})))}r(Md,pi),Md.$inject=["injector","eventBus","canvas","rules","modeling"];var Nd={__depends__:[Zo],__init__:["attachSupport"],attachSupport:["type",Md]};function Bd(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}Bd.$inject=["eventBus","dragging"],Bd.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},Bd.prototype.isActive=function(e){return e&&this._active===e},Bd.prototype.length=function(e){return this._tools.length},Bd.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},Bd.prototype.bindEvents=function(e,t){var n=this._eventBus,r=this._dragging,i=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void r.cancel();this.setActive(e)}),this),Object(s.forEach)(t,(function(e){i.push(e+".ended"),i.push(e+".canceled")})),n.on(i,250,(function(e){this._active&&(function(e){var t=e.originalEvent&&e.originalEvent.target;return t&&Object(p.e)(t,'.group[data-group="tools"]')}(e)||this.setActive(null))}),this)};var Ld={__depends__:[Ko],__init__:["toolManager"],toolManager:["type",Bd]};function Id(e,t){return-1!==e.indexOf(t)}var zd=Math.abs,$d=Math.round,Fd={x:"width",y:"height"},qd="crosshair",Ud={n:"top",w:"left",s:"bottom",e:"right"},Vd={n:"s",w:"e",s:"n",e:"w"};function Hd(e,t,n,r,i,o,a){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=r,this._rules=i,this._toolManager=o,this._mouse=a;var s=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",(function(e){n.once("spaceTool.selection.ended",(function(){s.activateMakeSpace(e.originalEvent)}))})),n.on("spaceTool.move",1500,(function(e){var t=e.context,n=t.initialized;n||(n=t.initialized=s.init(e,t)),n&&Gd(e)})),n.on("spaceTool.end",(function(e){var t=e.context,r=t.axis,i=t.direction,o=t.movingShapes,a=t.resizingShapes,p=t.start;if(t.initialized){Gd(e);var c={x:0,y:0};c[r]=$d(e["d"+r]),s.makeSpace(o,a,c,i,p),n.once("spaceTool.ended",(function(e){s.activateSelection(e.originalEvent,!0,!0)}))}}))}function Wd(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function Gd(e){var t,n,r=e.context.spaceToolConstraints;r&&(Object(s.isNumber)(r.left)&&(t=Math.max(e.x,r.left),e.dx=e.dx+t-e.x,e.x=t),Object(s.isNumber)(r.right)&&(t=Math.min(e.x,r.right),e.dx=e.dx+t-e.x,e.x=t),Object(s.isNumber)(r.top)&&(n=Math.max(e.y,r.top),e.dy=e.dy+n-e.y,e.y=n),Object(s.isNumber)(r.bottom)&&(n=Math.min(e.y,r.bottom),e.dy=e.dy+n-e.y,e.y=n))}function Kd(e,t){return-1!==e.indexOf(t)}function Yd(e){return!!e.waypoints}function Xd(e){return!!e.labelTarget}Hd.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],Hd.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:qd,data:{context:{reactivate:n}},trapClick:!1})},Hd.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:qd,data:{context:{}}})},Hd.prototype.makeSpace=function(e,t,n,r,i){return this._modeling.createSpace(e,t,n,r,i)},Hd.prototype.init=function(e,t){var n=zd(e.dx)>zd(e.dy)?"x":"y",r=e["d"+n],i=e[n]-r;if(zd(r)<5)return!1;r<0&&(r*=-1),Ir(e)&&(r*=-1);var o=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}(n,r),a=oe(this._canvas.getRootElement(),!0),p=this.calculateAdjustments(a,n,r,i),c=function(e,t,n,r,i){var o=e.movingShapes,a=e.resizingShapes;if(!a.length)return;var p,c,l={};return Object(s.forEach)(a,(function(e){var u,d,f,h=_e(e),m=Object(s.filter)(e.children,(function(e){return!Yd(e)&&!Xd(e)&&!Kd(o,e)&&!Kd(a,e)})),y=Object(s.filter)(e.children,(function(e){return!Yd(e)&&!Xd(e)&&Kd(o,e)}));m.length&&(d=Wd(_e(ae(m))),u=r-h[Ud[n]]+d[Ud[n]],"n"===n?l.bottom=c=Object(s.isNumber)(c)?Math.min(c,u):u:"w"===n?l.right=c=Object(s.isNumber)(c)?Math.min(c,u):u:"s"===n?l.top=p=Object(s.isNumber)(p)?Math.max(p,u):u:"e"===n&&(l.left=p=Object(s.isNumber)(p)?Math.max(p,u):u)),y.length&&(f=Wd(_e(ae(y))),u=r-f[Ud[Vd[n]]]+h[Ud[Vd[n]]],"n"===n?l.bottom=c=Object(s.isNumber)(c)?Math.min(c,u):u:"w"===n?l.right=c=Object(s.isNumber)(c)?Math.min(c,u):u:"s"===n?l.top=p=Object(s.isNumber)(p)?Math.max(p,u):u:"e"===n&&(l.left=p=Object(s.isNumber)(p)?Math.max(p,u):u));var v=i&&i[e.id];v&&("n"===n?(u=r+e[Fd[t]]-v[Fd[t]],l.bottom=c=Object(s.isNumber)(c)?Math.min(c,u):u):"w"===n?(u=r+e[Fd[t]]-v[Fd[t]],l.right=c=Object(s.isNumber)(c)?Math.min(c,u):u):"s"===n?(u=r-e[Fd[t]]+v[Fd[t]],l.top=p=Object(s.isNumber)(p)?Math.max(p,u):u):"e"===n&&(u=r-e[Fd[t]]+v[Fd[t]],l.left=p=Object(s.isNumber)(p)?Math.max(p,u):u))})),l}(p,n,o,i,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:p.resizingShapes,start:i}));return Object(s.assign)(t,p,{axis:n,direction:o,spaceToolConstraints:c,start:i}),Ki("resize-"+("x"===n?"ew":"ns")),!0},Hd.prototype.calculateAdjustments=function(e,t,n,r){var i=this._rules,o=[],a=[];return Object(s.forEach)(e,(function(e){if(e.parent&&!Yd(e)){var s=e[t],p=s+e[Fd[t]];return n>0&&s>r||n<0&&p<r?o.push(e):s<r&&p>r&&i.allowed("shape.resize",{shape:e})?a.push(e):void 0}})),{movingShapes:o,resizingShapes:a}},Hd.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},Hd.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)};var Qd="djs-dragging",Jd="djs-resizing",Zd=Math.max;function ef(e,t,n,r,i){function o(e,t){Object(s.forEach)(e,(function(e){i.addDragger(e,t),n.addMarker(e,Qd)}))}e.on("spaceTool.selection.start",(function(e){var t=n.getLayer("space"),i=e.context,o="M 0,-10000 L 0,10000",a="M -10000,0 L 10000,0",s=S("g");h(s,r.cls("djs-crosshair-group",["no-events"])),u(t,s);var p=S("path");h(p,"d",o),b(p).add("djs-crosshair"),u(s,p);var c=S("path");h(c,"d",a),b(c).add("djs-crosshair"),u(s,c),i.crosshairGroup=s})),e.on("spaceTool.selection.move",(function(e){rt(e.context.crosshairGroup,e.x,e.y)})),e.on("spaceTool.selection.cleanup",(function(e){var t=e.context.crosshairGroup;t&&w(t)})),e.on("spaceTool.move",250,(function(e){var a=e.context,p=a.line,c=a.axis,l=a.movingShapes,d=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var f=n.getLayer("space");h(p=S("path"),"d","M0,0 L0,0"),b(p).add("djs-crosshair"),u(f,p),a.line=p;var m=S("g");h(m,r.cls("djs-drag-group",["no-events"])),u(n.getActiveLayer(),m),o(l,m),o(a.movingConnections=t.filter((function(e){var t=!1;Object(s.forEach)(l,(function(n){Object(s.forEach)(n.outgoing,(function(n){e===n&&(t=!0)}))}));var n=!1;Object(s.forEach)(l,(function(t){Object(s.forEach)(t.incoming,(function(t){e===t&&(n=!0)}))}));var r=!1;Object(s.forEach)(d,(function(t){Object(s.forEach)(t.outgoing,(function(t){e===t&&(r=!0)}))}));var i=!1;return Object(s.forEach)(d,(function(t){Object(s.forEach)(t.incoming,(function(t){e===t&&(i=!0)}))})),function(e){return e.waypoints}(e)&&(t||r)&&(n||i)})),m),a.dragGroup=m}if(!a.frameGroup){var y=S("g");h(y,r.cls("djs-frame-group",["no-events"])),u(n.getActiveLayer(),y);var v=[];Object(s.forEach)(d,(function(e){var t=i.addFrame(e,y),r=t.getBBox();v.push({element:t,initialBounds:r}),n.addMarker(e,Jd)})),a.frameGroup=y,a.frames=v}h(p,{d:{x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y}[c]});var g={x:e.dx,y:e.dy};g[{x:"y",y:"x"}[a.axis]]=0,rt(a.dragGroup,g.x,g.y),Object(s.forEach)(a.frames,(function(e){var t,n,r=e.element,i=e.initialBounds;"e"===a.direction?h(r,{width:Zd(i.width+g.x,5)}):h(r,{width:t=Zd(i.width-g.x,5),x:i.x+i.width-t}),"s"===a.direction?h(r,{height:Zd(i.height+g.y,5)}):h(r,{height:n=Zd(i.height-g.y,5),y:i.y+i.height-n})}))}})),e.on("spaceTool.cleanup",(function(e){var t=e.context,r=t.movingShapes,i=t.movingConnections,o=t.resizingShapes,a=t.line,p=t.dragGroup,c=t.frameGroup;Object(s.forEach)(r,(function(e){n.removeMarker(e,Qd)})),Object(s.forEach)(i,(function(e){n.removeMarker(e,Qd)})),p&&(w(a),w(p)),Object(s.forEach)(o,(function(e){n.removeMarker(e,Jd)})),c&&w(c)}))}ef.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var tf={__init__:["spaceToolPreview"],__depends__:[Ko,Zo,Ld,vs,Bs],spaceTool:["type",Hd],spaceToolPreview:["type",ef]};function nf(e){this._model=e}function rf(e,t,n,r){pi.call(this,e),this._bpmnFactory=t,this._translate=r;var i=this;function o(e){var t=e.context.oldRoot.children;Object(s.forEach)(t,(function(e){Tn(e,"bpmn:BaseElement")&&i.updateParent(e)}))}function a(e){var t=e.context.shape;Tn(t,"bpmn:BaseElement")&&i.updateBounds(t)}function p(e){i.updateConnection(e.context)}function c(e){i.updateConnectionWaypoints(e.context.connection)}function l(e){i.updateAttachment(e.context)}this.executed(["connection.layout","connection.create"],(function(e){var t,r=e.context,i=r.hints||{};r.cropped||!1===i.createElementsBehavior||((t=r.connection).waypoints=n.getCroppedWaypoints(t),r.cropped=!0)})),this.reverted(["connection.layout"],(function(e){delete e.context.cropped})),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],of((function(e){var t=e.context;i.updateParent(t.shape||t.connection,t.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],of((function(e){var t=e.context,n=t.shape||t.connection,r=t.parent||t.newParent;i.updateParent(n,r)}))),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],of((function(e){"label"!==e.context.shape.type&&a(e)}))),this.reverted(["shape.move","shape.create","shape.resize"],of((function(e){"label"!==e.context.shape.type&&a(e)}))),e.on("shape.changed",(function(e){"label"===e.element.type&&a({context:{shape:e.element}})})),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],of(p)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],of(p)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],of(c)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],of(c)),this.executed("connection.reconnect",of((function(e){var t=e.context,n=t.connection,r=t.oldSource,i=t.newSource,o=Mn(n),a=Mn(r),s=Mn(i);o.conditionExpression&&!Rn(s,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(t.oldConditionExpression=o.conditionExpression,delete o.conditionExpression),r!==i&&a.default===o&&(t.oldDefault=a.default,delete a.default)}))),this.reverted("connection.reconnect",of((function(e){var t=e.context,n=t.connection,r=t.oldSource,i=t.newSource,o=Mn(n),a=Mn(r),s=Mn(i);t.oldConditionExpression&&(o.conditionExpression=t.oldConditionExpression),t.oldDefault&&(a.default=t.oldDefault,delete s.default)}))),this.executed(["element.updateAttachment"],of(l)),this.reverted(["element.updateAttachment"],of(l))}function of(e){return function(t){var n=t.context;Tn(n.shape||n.connection,"bpmn:BaseElement")&&e(t)}}function af(e,t,n){Qe.call(this),this._bpmnFactory=e,this._moddle=t,this._translate=n}function sf(e,t,n){e[n]=t[n],delete t[n]}function pf(e,t){this._modeling=e,this._canvas=t}function cf(e){this._modeling=e}function lf(e,t){this._canvas=e,this._layouter=t}nf.$inject=["moddle"],nf.prototype._needsId=function(e){return Rn(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},nf.prototype._ensureId=function(e){var t;e.id?this._model.ids.claim(e.id,e):(t=Tn(e,"bpmn:Activity")?"Activity":Tn(e,"bpmn:Event")?"Event":Tn(e,"bpmn:Gateway")?"Gateway":Rn(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e)))},nf.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},nf.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},nf.prototype.createDiShape=function(e,t){return this.create("bpmndi:BPMNShape",Object(s.assign)({bpmnElement:e,bounds:this.createDiBounds()},t))},nf.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},nf.prototype.createDiWaypoints=function(e){var t=this;return Object(s.map)(e,(function(e){return t.createDiWaypoint(e)}))},nf.prototype.createDiWaypoint=function(e){return this.create("dc:Point",Object(s.pick)(e,["x","y"]))},nf.prototype.createDiEdge=function(e,t){return this.create("bpmndi:BPMNEdge",Object(s.assign)({bpmnElement:e,waypoint:this.createDiWaypoints([])},t))},nf.prototype.createDiPlane=function(e,t){return this.create("bpmndi:BPMNPlane",Object(s.assign)({bpmnElement:e},t))},r(rf,pi),rf.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],rf.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,r=t.host;n.attachedToRef=r&&r.businessObject},rf.prototype.updateParent=function(e,t){if(!(e instanceof Ke)&&!(Tn(e,"bpmn:DataStoreReference")&&e.parent&&Tn(e.parent,"bpmn:Collaboration"))){var n=e.parent,r=e.businessObject,i=Dn(e),o=n&&n.businessObject,a=Dn(n);Tn(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(r,o,t&&t.businessObject),Tn(e,"bpmn:DataOutputAssociation")&&(o=e.source?e.source.businessObject:null),Tn(e,"bpmn:DataInputAssociation")&&(o=e.target?e.target.businessObject:null),this.updateSemanticParent(r,o),Tn(e,"bpmn:DataObjectReference")&&r.dataObjectRef&&this.updateSemanticParent(r.dataObjectRef,o),this.updateDiParent(i,a)}},rf.prototype.updateBounds=function(e){var t=Dn(e),n=function(e){if(!Tn(e,"bpmn:Activity"))return;var t=Dn(e);if(!t)return;var n=t.get("label");if(!n)return;return n.get("bounds")}(e);if(n){var r=Ji(n,t.get("bounds"));Object(s.assign)(n,{x:e.x+r.x,y:e.y+r.y})}var i=e instanceof Ke?this._getLabel(t):t,o=i.bounds;o||(o=this._bpmnFactory.createDiBounds(),i.set("bounds",o)),Object(s.assign)(o,{x:e.x,y:e.y,width:e.width,height:e.height})},rf.prototype.updateFlowNodeRefs=function(e,t,n){n!==t&&(Tn(n,"bpmn:Lane")&&de(n.get("flowNodeRef"),e),Tn(t,"bpmn:Lane")&&fe(t.get("flowNodeRef"),e))},rf.prototype.updateDiConnection=function(e,t,n){var r=Dn(e),i=Dn(t),o=Dn(n);r.sourceElement&&r.sourceElement.bpmnElement!==Mn(t)&&(r.sourceElement=t&&i),r.targetElement&&r.targetElement.bpmnElement!==Mn(n)&&(r.targetElement=n&&o)},rf.prototype.updateDiParent=function(e,t){if(t&&!Tn(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(de(n,e),e.$parent=null)}},rf.prototype.getLaneSet=function(e){var t,n;return Tn(e,"bpmn:Lane")?((t=e.childLaneSet)||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):(Tn(e,"bpmn:Participant")&&(e=e.processRef),(t=(n=e.get("laneSets"))[0])||((t=this._bpmnFactory.create("bpmn:LaneSet")).$parent=e,n.push(t)),t)},rf.prototype.updateSemanticParent=function(e,t,n){var r,i=this._translate;if(e.$parent!==t&&(!Tn(e,"bpmn:DataInput")&&!Tn(e,"bpmn:DataOutput")||(Tn(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),!("ioSpecification"in t)||t.ioSpecification!==e.$parent))){if(Tn(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),r="lanes";else if(Tn(e,"bpmn:FlowElement")){if(t)if(Tn(t,"bpmn:Participant"))t=t.processRef;else if(Tn(t,"bpmn:Lane"))do{t=t.$parent.$parent}while(Tn(t,"bpmn:Lane"));r="flowElements"}else if(Tn(e,"bpmn:Artifact")){for(;t&&!Tn(t,"bpmn:Process")&&!Tn(t,"bpmn:SubProcess")&&!Tn(t,"bpmn:Collaboration");){if(Tn(t,"bpmn:Participant")){t=t.processRef;break}t=t.$parent}r="artifacts"}else if(Tn(e,"bpmn:MessageFlow"))r="messageFlows";else if(Tn(e,"bpmn:Participant")){r="participants";var o,a=e.processRef;a&&(o=function(e){for(;e&&!Tn(e,"bpmn:Definitions");)e=e.$parent;return e}(e.$parent||t),e.$parent&&(de(o.get("rootElements"),a),a.$parent=null),t&&(fe(o.get("rootElements"),a),a.$parent=o))}else Tn(e,"bpmn:DataOutputAssociation")?r="dataOutputAssociations":Tn(e,"bpmn:DataInputAssociation")&&(r="dataInputAssociations");if(!r)throw new Error(i("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var s;if(e.$parent&&de(s=e.$parent.get(r),e),t?((s=t.get(r)).push(e),e.$parent=t):e.$parent=null,n){var p=n.get(r);de(s,e),t&&(p||(p=[],t.set(r,p)),p.push(e))}}},rf.prototype.updateConnectionWaypoints=function(e){Dn(e).set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))},rf.prototype.updateConnection=function(e){var t,n=e.connection,r=Mn(n),i=n.source,o=Mn(i),a=n.target,s=Mn(n.target);if(Tn(r,"bpmn:DataAssociation"))Tn(r,"bpmn:DataInputAssociation")?(r.get("sourceRef")[0]=o,t=e.parent||e.newParent||s,this.updateSemanticParent(r,s,t)):Tn(r,"bpmn:DataOutputAssociation")&&(t=e.parent||e.newParent||o,this.updateSemanticParent(r,o,t),r.targetRef=s);else{var p=Tn(r,"bpmn:SequenceFlow");r.sourceRef!==o&&(p&&(de(r.sourceRef&&r.sourceRef.get("outgoing"),r),o&&o.get("outgoing")&&o.get("outgoing").push(r)),r.sourceRef=o),r.targetRef!==s&&(p&&(de(r.targetRef&&r.targetRef.get("incoming"),r),s&&s.get("incoming")&&s.get("incoming").push(r)),r.targetRef=s)}this.updateConnectionWaypoints(n),this.updateDiConnection(n,i,a)},rf.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label},r(af,Qe),af.$inject=["bpmnFactory","moddle","translate"],af.prototype.baseCreate=Qe.prototype.create,af.prototype.create=function(e,t){if("label"===e){var n=t.di||this._bpmnFactory.createDiLabel();return this.baseCreate(e,Object(s.assign)({type:"label",di:n},wr,t))}return this.createBpmnElement(e,t)},af.prototype.createBpmnElement=function(e,t){var n,r,i,o=this._translate,a=(t=t||{}).businessObject,p=t.di;if(!a){if(!t.type)throw new Error(o("no shape type specified"));kn(a=this._bpmnFactory.create(t.type))}if(!Rn(p,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var c=Object(s.assign)(p||{},{id:a.id+"_di"});p="root"===e?this._bpmnFactory.createDiPlane(a,c):"connection"===e?this._bpmnFactory.createDiEdge(a,c):this._bpmnFactory.createDiShape(a,c)}return Tn(a,"bpmn:Group")&&(t=Object(s.assign)({isFrame:!0},t)),function(e,t,n){Object(s.forEach)(n,(function(n){void 0!==t[n]&&sf(e,t,n)}))}(a,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),t.isExpanded&&sf(p,t,"isExpanded"),Tn(a,"bpmn:SubProcess")&&(t.collapsed=!Xn(a,p)),Tn(a,"bpmn:ExclusiveGateway")&&(p.isMarkerVisible=!0),t.eventDefinitionType&&(r=a.get("eventDefinitions")||[],i=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===t.eventDefinitionType&&(i.condition=this._bpmnFactory.create("bpmn:FormalExpression")),r.push(i),i.$parent=a,a.eventDefinitions=r,delete t.eventDefinitionType),n=this.getDefaultSize(a,p),t=Object(s.assign)({id:a.id},n,t,{businessObject:a,di:p}),this.baseCreate(e,t)},af.prototype.getDefaultSize=function(e,t){var n=Mn(e);return t=t||Dn(e),Tn(n,"bpmn:SubProcess")?Xn(n,t)?{width:350,height:200}:{width:100,height:80}:Tn(n,"bpmn:Task")?{width:100,height:80}:Tn(n,"bpmn:Gateway")?{width:50,height:50}:Tn(n,"bpmn:Event")?{width:36,height:36}:Tn(n,"bpmn:Participant")?Xn(n,t)?{width:600,height:250}:{width:400,height:60}:Tn(n,"bpmn:Lane")?{width:400,height:100}:Tn(n,"bpmn:DataObjectReference")?{width:36,height:50}:Tn(n,"bpmn:DataStoreReference")?{width:50,height:50}:Tn(n,"bpmn:TextAnnotation")?{width:100,height:30}:Tn(n,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},af.prototype.createParticipantShape=function(e){return Object(s.isObject)(e)||(e={isExpanded:e}),!1!==(e=Object(s.assign)({type:"bpmn:Participant"},e||{})).isExpanded&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)},pf.$inject=["modeling","canvas"],pf.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,r=e.alignment;Object(s.forEach)(n,(function(e){var n={x:0,y:0};r.left?n.x=r.left-e.x:r.right?n.x=r.right-e.width-e.x:r.center?n.x=r.center-Math.round(e.width/2)-e.x:r.top?n.y=r.top-e.y:r.bottom?n.y=r.bottom-e.height-e.y:r.middle&&(n.y=r.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},pf.prototype.postExecute=function(e){},cf.$inject=["modeling"],cf.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,r=e.shape,i=e.hints||{};r=e.shape=this._modeling.createShape(r,e.position,n,{attach:i.attach}),e.shape=r},cf.prototype.postExecute=function(e){var t,n,r=e.hints||{};t=e.source,n=e.shape,Object(s.some)(t.outgoing,(function(e){return e.target===n}))||(r.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},lf.$inject=["canvas","layouter"],lf.prototype.execute=function(e){var t=e.connection,n=e.source,r=e.target,i=e.parent,o=e.parentIndex,a=e.hints;if(!n||!r)throw new Error("source and target required");if(!i)throw new Error("parent required");return t.source=n,t.target=r,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,i,o),t},lf.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var uf=Math.round;function df(e){this._modeling=e}function ff(e){return!!e.waypoints}df.$inject=["modeling"],df.prototype.preExecute=function(e){var t=e.elements,n=e.parent,r=e.parentIndex,i=e.position,o=e.hints,a=this._modeling;Object(s.forEach)(t,(function(e){Object(s.isNumber)(e.x)||(e.x=0),Object(s.isNumber)(e.y)||(e.y=0)}));var p=ae(Object(s.filter)(t,(function(e){return!e.hidden})));Object(s.forEach)(t,(function(e){ff(e)&&(e.waypoints=Object(s.map)(e.waypoints,(function(e){return{x:uf(e.x-p.x-p.width/2+i.x),y:uf(e.y-p.y-p.height/2+i.y)}}))),Object(s.assign)(e,{x:uf(e.x-p.x-p.width/2+i.x),y:uf(e.y-p.y-p.height/2+i.y)})}));var c=ee(t),l={};Object(s.forEach)(t,(function(e){if(ff(e))l[e.id]=Object(s.isNumber)(r)?a.createConnection(l[e.source.id],l[e.target.id],r,e,e.parent||n,o):a.createConnection(l[e.source.id],l[e.target.id],e,e.parent||n,o);else{var t=Object(s.assign)({},o);-1===c.indexOf(e)&&(t.autoResize=!1),l[e.id]=Object(s.isNumber)(r)?a.createShape(e,Object(s.pick)(e,["x","y","width","height"]),e.parent||n,r,t):a.createShape(e,Object(s.pick)(e,["x","y","width","height"]),e.parent||n,t)}})),e.elements=Object(s.values)(l)};var hf=Math.round;function mf(e){this._canvas=e}function yf(e){mf.call(this,e)}mf.$inject=["canvas"],mf.prototype.execute=function(e){var t=e.shape,n=e.position,r=e.parent,i=e.parentIndex;if(!r)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?Object(s.assign)(t,n):Object(s.assign)(t,{x:n.x-hf(t.width/2),y:n.y-hf(t.height/2)}),this._canvas.addShape(t,r,i),t},mf.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t},r(yf,mf),yf.$inject=["canvas"];var vf=mf.prototype.execute;yf.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){"undefined"===typeof e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,vf.call(this,e)};var gf=mf.prototype.revert;function bf(e,t){this._canvas=e,this._modeling=t}function xf(e,t){this._modeling=e,this._elementRegistry=t}function wf(e,t){this._canvas=e,this._modeling=t}function Ef(e){this._modeling=e}yf.prototype.revert=function(e){return e.shape.labelTarget=null,gf.call(this,e)},bf.$inject=["canvas","modeling"],bf.prototype.preExecute=function(e){var t=this._modeling,n=e.connection;kd(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),kd(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})}))},bf.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=he(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},bf.prototype.revert=function(e){var t=e.connection,n=e.parent,r=e.parentIndex;return t.source=e.source,t.target=e.target,fe(n.children,t,r),this._canvas.addConnection(t,n),t},xf.$inject=["modeling","elementRegistry"],xf.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,r=e.elements;Object(s.forEach)(r,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))},wf.$inject=["canvas","modeling"],wf.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;kd(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),kd(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),kd(n.children,(function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},wf.prototype.execute=function(e){var t=this._canvas,n=e.shape,r=n.parent;return e.oldParent=r,e.oldParentIndex=he(r.children,n),t.removeShape(n),n},wf.prototype.revert=function(e){var t=this._canvas,n=e.shape,r=e.oldParent,i=e.oldParentIndex;return fe(r.children,n,i),t.addShape(n,r),n},Ef.$inject=["modeling"];var Of={x:"y",y:"x"};function _f(e,t){this._layouter=e,this._canvas=t}function Pf(){}function jf(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Sf(e){this._modeling=e}function kf(e){this._helper=new Sf(e)}function Af(e){this._modeling=e,this._helper=new Sf(e)}function Cf(e){this._modeling=e}function Tf(e){return e.original||e}function Rf(e,t){this._modeling=e,this._rules=t}function Mf(e){this._modeling=e}function Df(e){this._modeling=e}function Nf(e){return Object(s.assign)({},e)}function Bf(e){switch(e){case"n":case"s":return"y";case"w":case"e":return"x"}}function Lf(e,t,n){var r=Bf(n);return/e|s/.test(n)?e[r]>t:/n|w/.test(n)?e[r]<t:void 0}function If(e,t){return-1!==e.indexOf(t)}function zf(e){this._modeling=e}function $f(e){var t={};return Object(s.forEach)(e,(function(e){t[e.id]=e.hidden,e.children&&(t=Object(s.assign)({},t,$f(e.children)))})),t}function Ff(e,t){var n=[];return Object(s.forEach)(e,(function(e){e.hidden=t,n=n.concat(e),e.children&&(n=n.concat(Ff(e.children,e.collapsed||t)))})),n}function qf(e,t){var n=[];return Object(s.forEach)(e,(function(e){e.hidden=t[e.id],n=n.concat(e),e.children&&(n=n.concat(qf(e.children,t)))})),n}function Uf(e){this._modeling=e}function Vf(e,t){return de(e&&e.attachers,t)}function Hf(e,t,n){if(e){var r=e.attachers;r||(e.attachers=r=[]),fe(r,t,n)}}function Wf(){}function Gf(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var r=this;e.on("diagram.init",(function(){r.registerHandlers(n)}))}function Kf(e){this._elementRegistry=e}function Yf(e,t){Object(s.forEach)(t,(function(t,n){e.set(n,t)}))}Ef.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,r=e.axis,i=e.dimension;function o(e,t){e.range.min=Math.min(t[r],e.range.min),e.range.max=Math.max(t[r]+t[i],e.range.max)}function a(e){return e[r]+e[i]/2}function p(e){return e.length-1}function c(e){return e.max-e.min}var l,u,d=n[0],f=p(n),h=n[f],m=0;Object(s.forEach)(n,(function(e,l){var u,d,h;e.elements.length<2?l&&l!==n.length-1&&(o(e,e.elements[0]),m+=c(e.range)):(d=(u=Object(s.sortBy)(e.elements,r))[0],l===f&&(d=u[p(u)]),h=a(d),e.range=null,Object(s.forEach)(u,(function(n){!function(e,n){var i={y:0};i[r]=e-a(n),i[r]&&(i[Of[r]]=0,t.moveElements([n],i,n.parent))}(h,n),null!==e.range?o(e,n):e.range={min:n[r],max:n[r]+n[i]}})),l&&l!==n.length-1&&(m+=c(e.range)))})),u=Math.abs(h.range.min-d.range.max),(l=Math.round((u-m)/(n.length-1)))<n.length-1||Object(s.forEach)(n,(function(e,o){var a,p={};e!==d&&e!==h&&(a=n[o-1],e.range.max=0,Object(s.forEach)(e.elements,(function(n,o){p[Of[r]]=0,p[r]=a.range.max-n[r]+l,e.range.min!==n[r]&&(p[r]+=n[r]-e.range.min),p[r]&&t.moveElements([n],p,n.parent),e.range.max=Math.max(n[r]+n[i],o?e.range.max:0)})))}))},Ef.prototype.postExecute=function(e){},_f.$inject=["layouter","canvas"],_f.prototype.execute=function(e){var t=e.connection,n=t.waypoints;return Object(s.assign)(e,{oldWaypoints:n}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},_f.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},Pf.prototype.execute=function(e){var t=e.connection,n=e.delta,r=e.newParent||t.parent,i=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=de(o.children,t),fe(r.children,t,i),t.parent=r,Object(s.forEach)(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},Pf.prototype.revert=function(e){var t=e.connection,n=t.parent,r=e.oldParent,i=e.oldParentIndex,o=e.delta;return de(n.children,t),fe(r.children,t,i),t.parent=r,Object(s.forEach)(t.waypoints,(function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)})),t},jf.prototype.add=function(e,t){return this.addAll([e],t)},jf.prototype.addAll=function(e,t){var n=function(e,t,n){Object(s.isUndefined)(t)&&(t=!0),Object(s.isObject)(t)&&(n=t,t=!0);var r=ce((n=n||{}).allShapes),i=ce(n.allConnections),o=ce(n.enclosedElements),a=ce(n.enclosedConnections),p=ce(n.topLevel,t&&Object(s.groupBy)(e,(function(e){return e.id})));function c(e){p[e.source.id]&&p[e.target.id]&&(p[e.id]=[e]),r[e.source.id]&&r[e.target.id]&&(a[e.id]=o[e.id]=e),i[e.id]=e}return re(e,(function(e){if(o[e.id]=e,!e.waypoints)return r[e.id]=e,Object(s.forEach)(e.incoming,c),Object(s.forEach)(e.outgoing,c),e.children;a[e.id]=i[e.id]=e})),{allShapes:r,allConnections:i,topLevel:p,enclosedConnections:a,enclosedElements:o}}(e,!!t,this);return Object(s.assign)(this,n),this},Sf.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},Sf.prototype.moveClosure=function(e,t,n,r,i){var o=this._modeling,a=e.allShapes,p=e.allConnections,c=e.enclosedConnections,l=e.topLevel,u=!1;i&&i.parent===n&&(u=!0),Object(s.forEach)(a,(function(e){o.moveShape(e,t,l[e.id]&&!u&&n,{recurse:!1,layout:!1})})),Object(s.forEach)(p,(function(e){var r=!!a[e.source.id],i=!!a[e.target.id];c[e.id]&&r&&i?o.moveConnection(e,t,l[e.id]&&!u&&n):o.layoutConnection(e,{connectionStart:r&&Wl(e,e.source,t),connectionEnd:i&&Gl(e,e.target,t)})}))},Sf.prototype.getClosure=function(e){return(new jf).addAll(e,!0)},kf.$inject=["modeling"],kf.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},kf.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},Af.$inject=["modeling"],Af.prototype.execute=function(e){var t=e.shape,n=e.delta,r=e.newParent||t.parent,i=e.newParentIndex,o=t.parent;return e.oldBounds=Object(s.pick)(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=de(o.children,t),fe(r.children,t,i),Object(s.assign)(t,{parent:r,x:t.x+n.x,y:t.y+n.y}),t},Af.prototype.postExecute=function(e){var t=e.shape,n=e.delta,r=e.hints,i=this._modeling;!1!==r.layout&&(Object(s.forEach)(t.incoming,(function(e){i.layoutConnection(e,{connectionEnd:Gl(e,t,n)})})),Object(s.forEach)(t.outgoing,(function(e){i.layoutConnection(e,{connectionStart:Wl(e,t,n)})}))),!1!==r.recurse&&this.moveChildren(e)},Af.prototype.revert=function(e){var t=e.shape,n=e.oldParent,r=e.oldParentIndex,i=e.delta;return fe(n.children,t,r),Object(s.assign)(t,{parent:n,x:t.x-i.x,y:t.y-i.y}),t},Af.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},Af.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},Cf.$inject=["modeling"],Cf.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,r=e.connection,i=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return Object(s.isArray)(i)&&(e.oldWaypoints=r.waypoints,r.waypoints=i),t&&(e.oldSource=r.source,r.source=t),n&&(e.oldTarget=r.target,r.target=n),r},Cf.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,r=e.newTarget,i=e.dockingOrPoints,o=e.hints||{},a={};o.connectionStart&&(a.connectionStart=o.connectionStart),o.connectionEnd&&(a.connectionEnd=o.connectionEnd),!1!==o.layoutConnection&&(!n||r&&"source"!==o.docking||(a.connectionStart=a.connectionStart||Tf(Object(s.isArray)(i)?i[0]:i)),!r||n&&"target"!==o.docking||(a.connectionEnd=a.connectionEnd||Tf(Object(s.isArray)(i)?i[i.length-1]:i)),o.newWaypoints&&(a.waypoints=o.newWaypoints),this._modeling.layoutConnection(t,a))},Cf.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,r=e.oldWaypoints,i=e.connection;return t&&(i.source=t),n&&(i.target=n),r&&(i.waypoints=r),i},Rf.$inject=["modeling","rules"],Rf.prototype.preExecute=function(e){var t,n=this,r=this._modeling,i=this._rules,o=e.oldShape,a=e.newData,p=e.hints||{};function c(e,t,n){return i.allowed("connection.reconnect",{connection:n,source:e,target:t})}var l,u={x:a.x,y:a.y},d={x:o.x,y:o.y,width:o.width,height:o.height};t=e.newShape=e.newShape||n.createShape(a,u,o.parent,p),o.host&&r.updateAttachment(t,o.host),!1!==p.moveChildren&&(l=o.children.slice(),r.moveElements(l,{x:0,y:0},t,p));var f=o.incoming.slice(),h=o.outgoing.slice();Object(s.forEach)(f,(function(e){c(e.source,t,e)&&n.reconnectEnd(e,t,Hl(e,t,d),p)})),Object(s.forEach)(h,(function(e){var r=e.target;c(t,r,e)&&n.reconnectStart(e,t,Vl(e,t,d),p)}))},Rf.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)},Rf.prototype.execute=function(e){},Rf.prototype.revert=function(e){},Rf.prototype.createShape=function(e,t,n,r){return this._modeling.createShape(e,t,n,r)},Rf.prototype.reconnectStart=function(e,t,n,r){this._modeling.reconnectStart(e,t,n,r)},Rf.prototype.reconnectEnd=function(e,t,n,r){this._modeling.reconnectEnd(e,t,n,r)},Mf.$inject=["modeling"],Mf.prototype.execute=function(e){var t=e.shape,n=e.newBounds,r=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},Object(s.assign)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Mf.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,r=e.oldBounds;!1!==(e.hints||{}).layout&&(Object(s.forEach)(n.incoming,(function(e){t.layoutConnection(e,{connectionEnd:Hl(e,n,r)})})),Object(s.forEach)(n.outgoing,(function(e){t.layoutConnection(e,{connectionStart:Vl(e,n,r)})})))},Mf.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return Object(s.assign)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Df.$inject=["modeling"],Df.prototype.preExecute=function(e){var t=e.delta,n=e.direction,r=e.movingShapes,i=e.resizingShapes,o=e.start,a={};this.moveShapes(r,t),Object(s.forEach)(i,(function(e){a[e.id]=function(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}(e)})),this.resizeShapes(i,t,n),this.updateConnectionWaypoints(function(e,t){var n=[];return Object(s.forEach)(e.concat(t),(function(r){var i=r.incoming,o=r.outgoing;Object(s.forEach)(i.concat(o),(function(r){var i=r.source,o=r.target;(Id(e,i)||Id(e,o)||Id(t,i)||Id(t,o))&&(Id(n,r)||n.push(r))}))})),n}(r,i),t,n,o,r,i,a)},Df.prototype.execute=function(){},Df.prototype.revert=function(){},Df.prototype.moveShapes=function(e,t){var n=this;Object(s.forEach)(e,(function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})}))},Df.prototype.resizeShapes=function(e,t,n){var r=this;Object(s.forEach)(e,(function(e){var i=function(e,t,n){var r=e.x,i=e.y,o=e.width,a=e.height,s=n.x,p=n.y;switch(t){case"n":return{x:r,y:i+p,width:o,height:a-p};case"s":return{x:r,y:i,width:o,height:a+p};case"w":return{x:r+s,y:i,width:o-s,height:a};case"e":return{x:r,y:i,width:o+s,height:a};default:throw new Error("unknown direction: "+t)}}(e,n,t);r._modeling.resizeShape(e,i,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},Df.prototype.updateConnectionWaypoints=function(e,t,n,r,i,o,a){var p=this,c=i.concat(o);Object(s.forEach)(e,(function(e){var l=e.source,u=e.target,d=function(e){return Object(s.map)(e.waypoints,(function(e){return(e=Nf(e)).original&&(e.original=Nf(e.original)),e}))}(e),f=Bf(n),h={labelBehavior:!1};If(c,l)&&If(c,u)?(d=Object(s.map)(d,(function(e){return Lf(e,r,n)&&(e[f]=e[f]+t[f]),e.original&&Lf(e.original,r,n)&&(e.original[f]=e.original[f]+t[f]),e})),p._modeling.updateWaypoints(e,d,{labelBehavior:!1})):(If(c,l)||If(c,u))&&(If(i,l)?h.connectionStart=Wl(e,l,t):If(i,u)?h.connectionEnd=Gl(e,u,t):If(o,l)?h.connectionStart=Vl(e,l,a[l.id]):If(o,u)&&(h.connectionEnd=Hl(e,u,a[u.id])),p._modeling.layoutConnection(e,h))}))},zf.$inject=["modeling"],zf.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=$f(n),t.collapsed=!t.collapsed;var r=Ff(n,t.collapsed);return[t].concat(r)},zf.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,r=qf(t.children,n);return t.collapsed=!t.collapsed,[t].concat(r)},Uf.$inject=["modeling"],Uf.prototype.execute=function(e){var t=e.shape,n=e.newHost,r=t.host;return e.oldHost=r,e.attacherIdx=Vf(r,t),Hf(n,t),t.host=n,t},Uf.prototype.revert=function(e){var t=e.shape,n=e.newHost,r=e.oldHost,i=e.attacherIdx;return t.host=r,Vf(n,t),Hf(r,t,i),t},Wf.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},Wf.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t},Gf.$inject=["eventBus","elementFactory","commandStack"],Gf.prototype.getHandlers=function(){return{"shape.append":cf,"shape.create":mf,"shape.delete":wf,"shape.move":Af,"shape.resize":Mf,"shape.replace":Rf,"shape.toggleCollapse":zf,spaceTool:Df,"label.create":yf,"connection.create":lf,"connection.delete":bf,"connection.move":Pf,"connection.layout":_f,"connection.updateWaypoints":Wf,"connection.reconnect":Cf,"elements.create":df,"elements.move":kf,"elements.delete":xf,"elements.distribute":Ef,"elements.align":pf,"element.updateAttachment":Uf}},Gf.prototype.registerHandlers=function(e){Object(s.forEach)(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},Gf.prototype.moveShape=function(e,t,n,r,i){"object"===typeof r&&(i=r,r=null);var o={shape:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("shape.move",o)},Gf.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},Gf.prototype.moveElements=function(e,t,n,r){var i,o=(r=r||{}).attach,a=n;!0===o?(i=n,a=n.parent):!1===o&&(i=null);var s={shapes:e,delta:t,newParent:a,newHost:i,hints:r};this._commandStack.execute("elements.move",s)},Gf.prototype.moveConnection=function(e,t,n,r,i){"object"===typeof r&&(i=r,r=void 0);var o={connection:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("connection.move",o)},Gf.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},Gf.prototype.createConnection=function(e,t,n,r,i,o){"object"===typeof n&&(o=i,i=r,r=n,n=void 0);var a={source:e,target:t,parent:i,parentIndex:n,connection:r=this._create("connection",r),hints:o};return this._commandStack.execute("connection.create",a),a.connection},Gf.prototype.createShape=function(e,t,n,r,i){"number"!==typeof r&&(i=r,r=void 0);var o,a,s=(i=i||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var p={position:t,shape:e,parent:o,parentIndex:r,host:a,hints:i};return this._commandStack.execute("shape.create",p),p.shape},Gf.prototype.createElements=function(e,t,n,r,i){Object(s.isArray)(e)||(e=[e]),"number"!==typeof r&&(i=r,r=void 0);var o={position:t,elements:e,parent:n,parentIndex:r,hints:i=i||{}};return this._commandStack.execute("elements.create",o),o.elements},Gf.prototype.createLabel=function(e,t,n,r){n=this._create("label",n);var i={labelTarget:e,position:t,parent:r||e.parent,shape:n};return this._commandStack.execute("label.create",i),i.shape},Gf.prototype.appendShape=function(e,t,n,r,i){i=i||{};var o={source:e,position:n,target:r,shape:t=this._create("shape",t),connection:i.connection,connectionParent:i.connectionParent,hints:i};return this._commandStack.execute("shape.append",o),o.shape},Gf.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},Gf.prototype.distributeElements=function(e,t,n){var r={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",r)},Gf.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},Gf.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},Gf.prototype.replaceShape=function(e,t,n){var r={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape},Gf.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},Gf.prototype.resizeShape=function(e,t,n,r){var i={shape:e,newBounds:t,minBounds:n,hints:r};this._commandStack.execute("shape.resize",i)},Gf.prototype.createSpace=function(e,t,n,r,i){var o={delta:n,direction:r,movingShapes:e,resizingShapes:t,start:i};this._commandStack.execute("spaceTool",o)},Gf.prototype.updateWaypoints=function(e,t,n){var r={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",r)},Gf.prototype.reconnect=function(e,t,n,r,i){var o={connection:e,newSource:t,newTarget:n,dockingOrPoints:r,hints:i||{}};this._commandStack.execute("connection.reconnect",o)},Gf.prototype.reconnectStart=function(e,t,n,r){r||(r={}),this.reconnect(e,t,e.target,n,Object(s.assign)(r,{docking:"source"}))},Gf.prototype.reconnectEnd=function(e,t,n,r){r||(r={}),this.reconnect(e,e.source,t,n,Object(s.assign)(r,{docking:"target"}))},Gf.prototype.connect=function(e,t,n,r){return this.createConnection(e,t,n||{},e.parent,r)},Gf.prototype._create=function(e,t){return t instanceof He?t:this._elementFactory.create(e,t)},Gf.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)},Kf.$inject=["elementRegistry"],Kf.prototype.execute=function(e){var t=e.element,n=e.moddleElement,r=e.properties;if(!n)throw new Error("<moddleElement> required");var i=e.changed||this.getVisualReferences(n).concat(t),o=e.oldProperties||function(e,t){return Object(s.reduce)(t,(function(t,n){return t[n]=e.get(n),t}),{})}(n,Object(s.keys)(r));return Yf(n,r),e.oldProperties=o,e.changed=i,i},Kf.prototype.revert=function(e){var t=e.oldProperties,n=e.moddleElement,r=e.changed;return Yf(n,t),r},Kf.prototype.getVisualReferences=function(e){var t=this._elementRegistry;return Tn(e,"bpmn:DataObject")?function(e,t){return t.filter((function(t){return Tn(t,"bpmn:DataObjectReference")&&Mn(t).dataObjectRef===e}))}(e,t):[]};var Xf="default",Qf="id",Jf="di",Zf={width:0,height:0};function eh(e,t,n,r,i){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=r,this._textRenderer=i}function th(e,t){return Qf in e&&e.id!==t.id}function nh(e,t){var n=e.businessObject,r=Dn(e);Object(s.forEach)(t,(function(e,t){t!==Jf?n.set(t,e):r&&function(e,t){Object(s.forEach)(t,(function(t,n){e.set(n,t)}))}(r,e)}))}eh.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],eh.prototype.execute=function(e){var t=e.element,n=[t],r=this._translate;if(!t)throw new Error(r("element required"));var i=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,p=function(e){var t=Object(s.assign)({},e);return rh.forEach((function(n){n in e&&(t[n]=Mn(t[n]))})),t}(e.properties),c=e.oldProperties||function(e,t){var n=Object(s.keys)(t),r=e.businessObject,i=Dn(e);return Object(s.reduce)(n,(function(e,n){return e[n]=n!==Jf?r.get(n):function(e,t){return Object(s.reduce)(t,(function(t,n){return t[n]=e&&e.get(n),t}),{})}(i,Object(s.keys)(t.di)),e}),{})}(t,p);return th(p,a)&&(o.unclaim(a.id),i.updateId(t,p.id),o.claim(p.id,a)),Xf in p&&(p.default&&n.push(i.get(p.default.id)),a.default&&n.push(i.get(a.default.id))),nh(t,p),e.oldProperties=c,e.changed=n,n},eh.prototype.postExecute=function(e){var t=e.element.label,n=t&&Mn(t).name;if(n){var r=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,r,Zf)}},eh.prototype.revert=function(e){var t=e.element,n=e.properties,r=e.oldProperties,i=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return nh(t,r),th(n,i)&&(a.unclaim(n.id),o.updateId(t,r.id),a.claim(r.id,i)),e.changed};var rh=["default"];function ih(e,t){this._canvas=e,this._modeling=t}function oh(e,t){this._modeling=e,this._spaceTool=t}function ah(e,t){this._modeling=e,this._translate=t}function sh(e,t){this._modeling=e,this._spaceTool=t}ih.$inject=["canvas","modeling"],ih.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,r=n.businessObject,i=t.getRootElement(),o=i.businessObject,a=o.$parent,s=Dn(i);t.setRootElement(n),t.removeRootElement(i),fe(a.rootElements,r),r.$parent=a,de(a.rootElements,o),o.$parent=null,i.di=null,s.bpmnElement=r,n.di=s,e.oldRoot=i},ih.prototype.revert=function(e){var t=this._canvas,n=e.newRoot,r=n.businessObject,i=e.oldRoot,o=i.businessObject,a=r.$parent,s=Dn(n);t.setRootElement(i),t.removeRootElement(n),de(a.rootElements,r),r.$parent=null,fe(a.rootElements,o),o.$parent=a,n.di=null,s.bpmnElement=o,i.di=s},oh.$inject=["modeling","spaceTool"],oh.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,r=e.shape,i=e.location,o=Np(r),a=o===r,p=a?r:r.parent;Dp(p).length||n.createShape({type:"bpmn:Lane"},{x:r.x+Rp,y:r.y,width:r.width-Rp,height:r.height},p);var c=[];re(o,(function(e){return c.push(e),e.label&&c.push(e.label),e===r?[]:Object(s.filter)(e.children,(function(e){return e!==r}))}));var l="top"===i?-120:120,u="top"===i?r.y:r.y+r.height,d=u+("top"===i?10:-10),f="top"===i?"n":"s",h=t.calculateAdjustments(c,"y",l,d);t.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:l},f,d),e.newLane=n.createShape({type:"bpmn:Lane"},{x:r.x+(a?Rp:0),y:u-("top"===i?120:0),width:r.width-(a?Rp:0),height:120},p)},ah.$inject=["modeling","translate"],ah.prototype.preExecute=function(e){var t=this._modeling,n=this._translate,r=e.shape,i=e.count,o=Dp(r),a=o.length;if(a>i)throw new Error(n("more than {count} child lanes",{count:i}));var s,p,c,l,u,d=Math.round(r.height/i);for(u=0;u<i;u++)s=r.y+u*d,p=u===i-1?r.height-d*u:d,c={x:r.x+Rp,y:s,width:r.width-Rp,height:p},u<a?t.resizeShape(o[u],c):(l={type:"bpmn:Lane"},t.createShape(l,c,r))},sh.$inject=["modeling","spaceTool"],sh.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds;!1!==e.balanced?this.resizeBalanced(t,n):this.resizeSpace(t,n)},sh.prototype.resizeBalanced=function(e,t){var n=this._modeling,r=Bp(e,t);n.resizeShape(e,t),r.forEach((function(e){n.resizeShape(e.shape,e.newBounds)}))},sh.prototype.resizeSpace=function(e,t){var n,r,i,o,a,s=this._spaceTool,p=_e(e),c=Pp(_e(t),p),l=Np(e),u=[],d=[];re(l,(function(e){return u.push(e),(Tn(e,"bpmn:Lane")||Tn(e,"bpmn:Participant"))&&d.push(e),e.children})),(c.bottom||c.top)&&(n=c.bottom||c.top,r=e.y+(c.bottom?e.height:0)+(c.bottom?-10:10),i=c.bottom?"s":"n",o=c.top>0||c.bottom<0?-n:n,a=s.calculateAdjustments(u,"y",o,r),s.makeSpace(a.movingShapes,a.resizingShapes,{x:0,y:n},i)),(c.left||c.right)&&(n=c.right||c.left,r=e.x+(c.right?e.width:0)+(c.right?-10:100),i=c.right?"e":"w",o=c.left>0||c.right<0?-n:n,a=s.calculateAdjustments(d,"x",o,r),s.makeSpace(a.movingShapes,a.resizingShapes,{x:n,y:0},i))};var ph="flowNodeRef",ch="lanes";function lh(e){this._elementRegistry=e}function uh(e){this._moddle=e}lh.$inject=["elementRegistry"],lh.prototype.computeUpdates=function(e,t){var n=[],r=[],i={},o=[];function a(e){-1===n.indexOf(e)&&(o.push(e),n.push(e))}function s(e){if(!e.parent)return[];var t=function(e){var t=Np(e);return i[t.id]||(i[t.id]=Mp(t)),i[t.id]}(e);return t.filter((function(t){return function(e,t){var n=_e(t),r=e.x+e.width/2,i=e.y+e.height/2;return r>n.left&&r<n.right&&i>n.top&&i<n.bottom}(e,t)})).map((function(e){return e.businessObject}))}return t.forEach((function(e){var t=Np(e);t&&-1===n.indexOf(t)&&(t.children.filter((function(e){return Tn(e,"bpmn:FlowNode")})).forEach(a),n.push(t))})),e.forEach(a),o.forEach((function(e){var t=e.businessObject,n=t.get(ch).slice(),i=s(e);r.push({flowNode:t,remove:n,add:i})})),t.forEach((function(e){var t=e.businessObject;e.parent||t.get(ph).forEach((function(e){r.push({flowNode:e,remove:[t],add:[]})}))})),r},lh.prototype.execute=function(e){var t=e.updates;t||(t=e.updates=this.computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach((function(e){var t=e.flowNode,n=t.get(ch);e.remove.forEach((function(e){de(n,e),de(e.get(ph),t)})),e.add.forEach((function(e){fe(n,e),fe(e.get(ph),t)}))}))},lh.prototype.revert=function(e){e.updates.forEach((function(e){var t=e.flowNode,n=t.get(ch);e.add.forEach((function(e){de(n,e),de(e.get(ph),t)})),e.remove.forEach((function(e){fe(n,e),fe(e.get(ph),t)}))}))},uh.$inject=["moddle"],uh.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,r=e.element;e.claiming?t.claim(n,r):t.unclaim(n)},uh.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,r=e.element;e.claiming?t.unclaim(n):t.claim(n,r)};var dh={fill:void 0,stroke:void 0};function fh(e){this._commandStack=e,this._normalizeColor=function(e){if(e){if(Object(s.isString)(e)){var t=function(e){var t=document.createElement("canvas").getContext("2d");return t.fillStyle="transparent",t.fillStyle=e,/^#[0-9a-fA-F]{6}$/.test(t.fillStyle)?t.fillStyle:null}(e);if(t)return t}throw new Error("invalid color value: "+e)}}}fh.$inject=["commandStack"],fh.prototype.postExecute=function(e){var t=e.elements,n=e.colors||dh,r=this,i={};"fill"in n&&Object(s.assign)(i,{"background-color":this._normalizeColor(n.fill)}),"stroke"in n&&Object(s.assign)(i,{"border-color":this._normalizeColor(n.stroke)}),Object(s.forEach)(t,(function(e){var t=function(e){return!!e.waypoints}(e)?Object(s.pick)(i,["border-color"]):i;!function(e){"border-color"in e&&(e.stroke=e["border-color"]);"background-color"in e&&(e.fill=e["background-color"])}(t),jr(e)?r._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:Dn(e).label,properties:{color:i["border-color"]}}):r._commandStack.execute("element.updateProperties",{element:e,properties:{di:t}})}))};var hh={width:0,height:0};function mh(e,t,n){function r(e,t){var r=e.label||e,i=e.labelTarget||e;return function(e,t,n){var r=e.businessObject,i=Zn(r);i&&("categoryValueRef"===i?r.categoryValueRef.value=t:r[i]=t)}(r,t),function(e,t){if(!Er(e)){var r=Dn(e);t&&!r.label&&(r.label=n.create("bpmndi:BPMNLabel")),!t&&r.label&&delete r.label}}(e,t),[r,i]}this.preExecute=function(t){var n=t.element,r=n.businessObject,i=t.newLabel;if(!jr(n)&&Er(n)&&!Or(n)&&!yh(i)){var o=Pr(n);o={x:o.x,y:o.y+7},e.createLabel(n,o,{id:r.id+"_label",businessObject:r,di:n.di})}},this.execute=function(e){return e.oldLabel=er(e.element),r(e.element,e.newLabel)},this.revert=function(e){return r(e.element,e.oldLabel)},this.postExecute=function(n){var r=n.element,i=r.label||r,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(jr(i)||Tn(i,"bpmn:TextAnnotation"))if(jr(i)&&yh(o))!1!==s.removeShape&&e.removeShape(i,{unsetLabel:!1});else{var p=er(i);"undefined"===typeof a&&(a=t.getExternalLabelBounds(i,p)),a&&e.resizeShape(i,a,hh)}}}function yh(e){return!e||!e.trim()}function vh(e,t,n,r){Gf.call(this,e,t,n),this._bpmnRules=r}function gh(){}mh.$inject=["modeling","textRenderer","bpmnFactory"],r(vh,Gf),vh.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],vh.prototype.getHandlers=function(){var e=Gf.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=Kf,e["element.updateProperties"]=eh,e["canvas.updateRoot"]=ih,e["lane.add"]=oh,e["lane.resize"]=sh,e["lane.split"]=ah,e["lane.updateRefs"]=lh,e["id.updateClaim"]=uh,e["element.setColor"]=fh,e["element.updateLabel"]=mh,e},vh.prototype.updateLabel=function(e,t,n,r){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:r||{}})},vh.prototype.connect=function(e,t,n,r){var i=this._bpmnRules;if(n||(n=i.canConnect(e,t)),n)return this.createConnection(e,t,n,e.parent,r)},vh.prototype.updateModdleProperties=function(e,t,n){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:t,properties:n})},vh.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},vh.prototype.resizeLane=function(e,t,n){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:n})},vh.prototype.addLane=function(e,t){var n={shape:e,location:t};return this._commandStack.execute("lane.add",n),n.newLane},vh.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})},vh.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e},vh.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})},vh.prototype.makeProcess=function(){var e={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",e)},vh.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},vh.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},vh.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})},gh.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||Se(t.source||e.source),t.connectionEnd||Se(t.target||e.target)]};var bh=Math.round,xh={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function wh(e,t,n){var r,i,o,a=ke(t,e,5),s=n.split(":")[0],p=bh((t.x-e.x)/2+e.x),c=bh((t.y-e.y)/2+e.y),l=(o=a,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[s].test(o)),u=/h|r|l/.test(s),d=!1,f=!1;return l?(r=u?{x:p,y:e.y}:{x:e.x,y:c},i=u?"h:h":"v:v"):(d=function(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}(a,s),i=u?"h:v":"v:h",d?u?(f=c===e.y,r={x:e.x+20*(/l/.test(s)?-1:1),y:f?c+20:c}):r={x:(f=p===e.x)?p+20:p,y:e.y+20*(/t/.test(s)?-1:1)}:r={x:p,y:c}),{waypoints:Oh(e,r,i).concat(r),directions:i,turnNextDirections:f}}function Eh(e){return e.split(":").reverse().join(":")}function Oh(e,t,n){if(!function(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}(n=n||"h:h"))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(kh(n)){var r=function(e,t,n){return wh(e,t,n)}(e,t,n),i=function(e,t,n){var r=wh(t,e,Eh(n));return{waypoints:r.waypoints.slice().reverse(),directions:Eh(r.directions),turnNextDirections:r.turnNextDirections}}(e,t,n),o=function(e,t){var n=e.directions.split(":")[1],r=t.directions.split(":")[0];e.turnNextDirections&&(n="h"==n?"v":"h"),t.turnNextDirections&&(r="h"==r?"v":"h");var i=n+":"+r;return{waypoints:Oh(e.waypoints[e.waypoints.length-1],t.waypoints[0],i),directions:i}}(r,i);return[].concat(r.waypoints,o.waypoints,i.waypoints)}return function(e,t,n){var r=bh((t.x-e.x)/2+e.x),i=bh((t.y-e.y)/2+e.y);if("h:v"===n)return[{x:t.x,y:e.y}];if("v:h"===n)return[{x:e.x,y:t.y}];if("h:h"===n)return[{x:r,y:e.y},{x:r,y:t.y}];if("v:v"===n)return[{x:e.x,y:i},{x:t.x,y:i}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(e,t,n)}function _h(e,t,n,r,i){var o=i&&i.preferredLayouts||[],a=Object(s.without)(o,"straight")[0]||"h:h",p=ke(e,t,xh[a]||0),c=function(e,t){if(kh(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(p,a);n=n||Se(e),r=r||Se(t);var l=c.split(":"),u=Ah(n,e,l[0],function(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}(p));return function(e,t,n){var r=Oh(e,t,n);return r.unshift(e),r.push(t),Ch(r)}(u,Ah(r,t,l[1],p),c)}function Ph(e,t,n,r,i,o){var a;return Object(s.isArray)(n)&&(i=n,o=r,n=Se(e),r=Se(t)),i=i||[],a=-1!==(o=Object(s.assign)({preferredLayouts:[]},o)).preferredLayouts.indexOf("straight")&&function(e,t,n,r,i){var o,a,s={};if(a=ke(e,t),!/^(top|bottom|left|right)$/.test(a))return null;/top|bottom/.test(a)&&(o="x");/left|right/.test(a)&&(o="y");return"target"===i.preserveDocking?jh(o,r,e)?(s[o]=r[o],[{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y,original:{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y}},{x:r.x,y:r.y}]):null:jh(o,n,t)?(s[o]=n[o],[{x:n.x,y:n.y},{x:void 0!==s.x?s.x:r.x,y:void 0!==s.y?s.y:r.y,original:{x:void 0!==s.x?s.x:r.x,y:void 0!==s.y?s.y:r.y}}]):null}(e,t,n,r,o),a||(a=o.connectionEnd&&function(e,t,n,r){var i=r.slice().reverse();return(i=Sh(e,t,n,i))?i.reverse():null}(t,e,r,i),a||((a=o.connectionStart&&Sh(e,t,n,i))||(!o.connectionStart&&!o.connectionEnd&&i&&i.length?i:_h(e,t,n,r,o))))}function jh(e,t,n){return function(e,t,n){return e>=t&&e<=n}(t[e],n[e],n[e]+n[{x:"width",y:"height"}[e]])}function Sh(e,t,n,r){if(function(e){return e.length<3||!(e.length>4)&&!!Object(s.find)(e,(function(t,n){var r=e[n-1];return r&&me(t,r)<3}))}(r))return null;var i,o=r[0],a=r.slice();return a[0]=n,a[1]=function(e,t,n){switch(ve(t,e)){case"v":return{x:n.x,y:e.y};case"h":return{x:e.x,y:n.y}}return{x:e.x,y:e.y}}(a[1],o,n),i=function(e,t,n){var r;for(r=e.length-2;0!==r;r--)if(ge(e[r],t,20)||ge(e[r],n,20))return e.slice(r);return e}(a,e,t),i!==a&&(a=Sh(e,t,n,i)),a&&ve(a)?null:a}function kh(e){return e&&/t|r|b|l/.test(e)}function Ah(e,t,n,r){if("h"===n&&(n=/left/.test(r)?"l":"r"),"v"===n&&(n=/top/.test(r)?"t":"b"),"t"===n)return{original:e,x:e.x,y:t.y};if("r"===n)return{original:e,x:t.x+t.width,y:e.y};if("b"===n)return{original:e,x:e.x,y:t.y+t.height};if("l"===n)return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function Ch(e){return e.reduce((function(t,n,r){return ye(t[t.length-1],e[r+1],n,0)||t.push(n),t}),[])}var Th={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Rh={top:"t",right:"r",bottom:"b",left:"l"};function Mh(){}function Dh(e,t){return Tn(t,"bpmn:Participant")?"source":Tn(e,"bpmn:Participant")?"target":Ih(t)?"source":Ih(e)||Tn(t,"bpmn:Event")?"target":Tn(e,"bpmn:Event")?"source":null}function Nh(e){return Ih(e)?"target":"source"}function Bh(e,t){return e?e.original||e:Se(t)}function Lh(e,t){return Tn(t,"bpmn:Activity")&&Tn(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function Ih(e){return Tn(e,"bpmn:SubProcess")&&Xn(e)}function zh(e,t){return e===t}function $h(e){var t=/right|left/.exec(e);return t&&t[0]}function Fh(e){var t=/top|bottom/.exec(e);return t&&t[0]}function qh(e){return"right"===e||"left"===e}function Uh(e,t){var n=t.waypoints,r=n&&n.length&&ke(n[0],e);return"top"===r?["t:r"]:"right"===r?["r:b"]:"left"===r?["l:t"]:["b:l"]}function Vh(e,t,n){var r,i,o=Se(e),a=Se(t),s=function(e){var t=e.host;return ke(Se(e),t,-10)}(e),p=zh(e.host,t),c=-1!==["top","right","bottom","left"].indexOf(s),l=ke(a,o,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return p?function(e,t,n,r,i){var o,a=t?e:Fh(e),s=Rh[a];o=t?qh(e)?Hh("y",n,r,i)?"h":"b":Hh("x",n,r,i)?"v":"l":"v";return[s+":"+o]}(s,c,e,t,n):(r=function(e,t,n){if(n)return Rh[e];if(zh(Fh(e),Fh(t))||(r=$h(e),i=$h(t),Th[r]===i))return Rh[Fh(e)];var r,i;return Rh[$h(e)]}(s,l,c),i=function(e,t,n){if(n)return qh(e)?function(e,t){var n=$h(e),r=Th[n];return-1!==t.indexOf(r)}(e,t)||zh(e,t)?"h":"v":function(e,t){var n=Fh(e),r=Th[n];return-1!==t.indexOf(r)}(e,t)||zh(e,t)?"v":"h";return qh(t)||zh(Fh(e),Fh(t))&&$h(t)?"h":"v"}(s,l,c),[r+":"+i])}function Hh(e,t,n,r){return!(Wh(e,r,n,40)||Wh(e,r,{x:n.x+n.width,y:n.y+n.height},40)||Wh(e,r,Se(t),40))}function Wh(e,t,n,r){return Math.abs(t[e]-n[e])<r}function Gh(e){return Object(s.assign)({original:e.point.original||e.point},e.actual)}function Kh(e,t){this._elementRegistry=e,this._graphicsFactory=t}r(Mh,gh),Mh.prototype.layoutConnection=function(e,t){t||(t={});var n,r,i=t.source||e.source,o=t.target||e.target,a=t.waypoints||e.waypoints,p=t.connectionStart,c=t.connectionEnd;return p||(p=Bh(a&&a[0],i)),c||(c=Bh(a&&a[a.length-1],o)),(Tn(e,"bpmn:Association")||Tn(e,"bpmn:DataAssociation"))&&a&&!Lh(i,o)?[].concat([p],a.slice(1,-1),[c]):(Tn(e,"bpmn:MessageFlow")?n=function(e,t){return{preferredLayouts:["straight","v:v"],preserveDocking:Dh(e,t)}}(i,o):(Tn(e,"bpmn:SequenceFlow")||Lh(i,o))&&(n=i===o?{preferredLayouts:Uh(i,e)}:Tn(i,"bpmn:BoundaryEvent")?{preferredLayouts:Vh(i,o,c)}:Ih(i)||Ih(o)?function(e){return{preferredLayouts:["straight","h:h"],preserveDocking:Nh(e)}}(i):Tn(i,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:Tn(o,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),n&&(r=Ch(Ph(i,o,p,c,a,n=Object(s.assign)(n,t)))),r||[p,c])},Kh.$inject=["elementRegistry","graphicsFactory"],Kh.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var r=this.getDockingPoint(e,t,!0),i=this.getDockingPoint(e,n),o=e.waypoints.slice(r.idx+1,i.idx);return o.unshift(Gh(r)),o.push(Gh(i)),o},Kh.prototype.getDockingPoint=function(e,t,n){var r,i,o=e.waypoints;return{point:i=o[r=n?0:o.length-1],actual:this._getIntersection(t,e,n)||i,idx:r}},Kh.prototype._getIntersection=function(e,t,n){return Ae(this._getShapePath(e),this._getConnectionPath(t),n)},Kh.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},Kh.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},Kh.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};var Yh={__init__:["modeling","bpmnUpdater"],__depends__:[Du,md,vd,xd,rp,Ed,Sd,Td,Nd,Jr,si,tf],bpmnFactory:["type",nf],bpmnUpdater:["type",rf],elementFactory:["type",af],modeling:["type",vh],layouter:["type",Mh],connectionDocking:["type",Kh]},Xh=Math.round;function Qh(e,t,n,r,i){function o(e,t,n,r){return i.allowed("elements.move",{shapes:e,delta:t,position:n,target:r})}function a(e,n,r,i){if(Object(s.isObject)(r)&&(i=r,r=!1),!n.waypoints&&n.parent&&!b(e.target).has("djs-hit-no-move")){var o=function(e){return{x:e.x+Xh(e.width/2),y:e.y+Xh(e.height/2)}}(n);return t.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:r,data:{shape:n,context:i||{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t=e.context,n=e.shape,i=r.get().slice();-1===i.indexOf(n)&&(i=[n]),i=function(e){var t=Object(s.groupBy)(e,"id");return Object(s.filter)(e,(function(e){for(;e=e.parent;)if(t[e.id])return!1;return!0}))}(i),Object(s.assign)(t,{shapes:i,validatedShapes:i,shape:n})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=o(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,r=n.validatedShapes,i=e.hover,a={x:e.dx,y:e.dy};t=o(r,a,{x:e.x,y:e.y},i),n.delta=a,n.canExecute=t,n.target=null!==t?i:null})),e.on("shape.move.end",(function(e){var t=e.context,r=t.delta,i=t.canExecute,o="attach"===i,a=t.shapes;if(!1===i)return!1;r.x=Xh(r.x),r.y=Xh(r.y),0===r.x&&0===r.y||n.moveElements(a,r,t.target,{primaryShape:t.shape,attach:o})})),e.on("element.mousedown",(function(e){if(Lr(e)){var t=Mr(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)}})),this.start=a}Qh.$inject=["eventBus","dragging","modeling","selection","rules"];var Jh="djs-dragging",Zh="drop-ok",em="drop-not-ok",tm="new-parent",nm="attach-ok";function rm(e,t,n,r){function i(e){var t=function(e){return Object(s.filter)(e,(function(t){return!function(e){return e.waypoints}(t)||Object(s.find)(e,Object(s.matchPattern)({id:t.source.id}))&&Object(s.find)(e,Object(s.matchPattern)({id:t.target.id}))}))}(o(e));return t}function o(e){var t=oe(e,!0),n=Object(s.map)(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return Object(s.flatten)(t.concat(n))}function a(e,n){[nm,Zh,em,tm].forEach((function(r){r===n?t.addMarker(e,r):t.removeMarker(e,r)}))}e.on("shape.move.start",499,(function(e){var a,p=e.context,c=p.shapes,l=p.allDraggedElements,d=i(c);if(!p.dragGroup){var f=S("g");h(f,n.cls("djs-drag-group",["no-events"])),u(t.getActiveLayer(),f),p.dragGroup=f}d.forEach((function(e){r.addDragger(e,p.dragGroup)})),l=l?Object(s.flatten)([l,o(c)]):o(c),Object(s.forEach)(l,(function(e){t.addMarker(e,Jh)})),p.allDraggedElements=l,p.differentParents=(a=c,1!==Object(s.size)(Object(s.groupBy)(a,(function(e){return e.parent&&e.parent.id}))))})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,r=t.target,i=t.shape.parent,o=t.canExecute;r&&("attach"===o?a(r,nm):t.canExecute&&r&&r.id!==i.id?a(r,tm):a(r,t.canExecute?Zh:em)),rt(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&a(t,null)})),e.on("shape.move.cleanup",(function(e){var n=e.context,r=n.allDraggedElements,i=n.dragGroup;Object(s.forEach)(r,(function(e){t.removeMarker(e,Jh)})),i&&w(i)})),this.makeDraggable=function(e,n,i){r.addDragger(n,e.dragGroup),i&&t.addMarker(n,Jh),e.allDraggedElements?e.allDraggedElements.push(n):e.allDraggedElements=[n]}}rm.$inject=["eventBus","canvas","styles","previewSupport"];var im={__depends__:[Ur,Jr,Hr,Zo,Ko,vs],__init__:["move","movePreview"],move:["type",Qh],movePreview:["type",rm]},om=".djs-palette-toggle",am=".entry",sm="open",pm="two-column";function cm(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._rebuild()}))}function lm(e,t){var n=t.getPaletteEntries();return Object(s.isFunction)(n)?n(e):(Object(s.forEach)(n,(function(t,n){e[n]=t})),e)}cm.$inject=["eventBus","canvas"],cm.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(e){e.providers.push(t)})),this._rebuild()},cm.prototype.getEntries=function(){return this._getProviders().reduce(lm,{})},cm.prototype._rebuild=function(){this._diagramInitialized&&(this._getProviders().length&&(this._container||this._init(),this._update()))},cm.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),r=this._container=Object(p.g)(cm.HTML_MARKUP);n.appendChild(r),Object(p.c)(n).add("djs-palette-shown"),p.f.bind(r,".djs-palette-toggle, .entry","click",(function(t){var n=t.delegateTarget;if(Object(p.i)(n,om))return e.toggle();e.trigger("click",t)})),p.h.bind(r,"mousedown",(function(e){e.stopPropagation()})),p.f.bind(r,am,"dragstart",(function(t){e.trigger("dragstart",t)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:r})},cm.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},cm.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),r=this._container,i=this._eventBus,o=Object(p.c)(r),a=Object(p.c)(n);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle(pm,t),a.toggle("djs-palette-two-column",t),"open"in e&&(o.toggle(sm,e.open),a.toggle("djs-palette-open",e.open)),i.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},cm.prototype._update=function(){var e=Object(p.j)(".djs-palette-entries",this._container),t=this._entries=this.getEntries();Object(p.d)(e),Object(s.forEach)(t,(function(t,n){var r=t.group||"default",i=Object(p.j)("[data-group="+r+"]",e);i||(i=Object(p.g)('<div class="group" data-group="'+r+'"></div>'),e.appendChild(i));var o=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=Object(p.g)(o);i.appendChild(a),t.separator||(Object(p.b)(a,"data-action",n),t.title&&Object(p.b)(a,"title",t.title),t.className&&function(e,t){var n=Object(p.c)(e);(Object(s.isArray)(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(a,t.className),t.imageUrl&&a.appendChild(Object(p.g)('<img src="'+t.imageUrl+'">')))})),this.open()},cm.prototype.trigger=function(e,t,n){var r,i,o,a=this._entries,c=t.delegateTarget||t.target;if(!c)return t.preventDefault();(r=a[Object(p.b)(c,"data-action")])&&(i=r.action,o=t.originalEvent||t,Object(s.isFunction)(i)?"click"===e&&i(o,n):i[e]&&i[e](o,n),t.preventDefault())},cm.prototype._layoutChanged=function(){this._toggleState({})},cm.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},cm.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},cm.prototype.open=function(){this._toggleState({open:!0})},cm.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},cm.prototype.isActiveTool=function(e){return e&&this._activeTool===e},cm.prototype.updateToolHighlight=function(e){var t,n;this._toolsContainer||(t=Object(p.j)(".djs-palette-entries",this._container),this._toolsContainer=Object(p.j)("[data-group=tools]",t)),n=this._toolsContainer,Object(s.forEach)(n.children,(function(t){var n=t.getAttribute("data-action");if(n){var r=Object(p.c)(t);n=n.replace("-tool",""),r.contains("entry")&&n===e?r.add("highlighted-entry"):r.remove("highlighted-entry")}}))},cm.prototype.isOpen=function(){return Object(p.c)(this._container).has(sm)},cm.prototype._getParentContainer=function(){return this._canvas.getContainer()},cm.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var um={__init__:["palette"],palette:["type",cm]},dm="crosshair";function fm(e,t,n,r,i,o,a){this._selection=i,this._dragging=n,this._mouse=a;var s=this,p=function(e){var n,r=t.getActiveLayer();h(n=e.frame=S("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),u(r,n)},c=function(e){var t=e.frame,n=e.bbox;h(t,{x:n.x,y:n.y,width:n.width,height:n.height})},l=function(e){e.frame&&w(e.frame)};o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){s.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",(function(e){var t=hm(e),n=r.filter((function(e){return e}));s.select(n,t)})),e.on("lasso.start",(function(e){var t=e.context;t.bbox=hm(e),p(t)})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=hm(e),c(t)})),e.on("lasso.cleanup",(function(e){var t=e.context;l(t)})),e.on("element.mousedown",1500,(function(e){if(zr(e))return s.activateLasso(e.originalEvent),!0}))}function hm(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}fm.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],fm.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:dm,data:{context:{}}})},fm.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:dm,data:{context:{}}})},fm.prototype.select=function(e,t){var n=function(e,t){var n={};return Object(s.forEach)(e,(function(e){var r=e;r.waypoints&&(r=ae(r)),!Object(s.isNumber)(t.y)&&r.x>t.x&&(n[e.id]=e),!Object(s.isNumber)(t.x)&&r.y>t.y&&(n[e.id]=e),r.x>t.x&&r.y>t.y&&(Object(s.isNumber)(t.width)&&Object(s.isNumber)(t.height)&&r.width+r.x<t.width+t.x&&r.height+r.y<t.height+t.y?n[e.id]=e:Object(s.isNumber)(t.width)&&Object(s.isNumber)(t.height)||(n[e.id]=e))})),n}(e,t);this._selection.select(Object(s.values)(n))},fm.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},fm.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};var mm={__depends__:[Ld,Bs],__init__:["lassoTool"],lassoTool:["type",fm]},ym=1500,vm="grab";function gm(e,t,n,r,i,o){this._dragging=n,this._mouse=o;var a=this,s=r.get("keyboard",!1);i.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",ym,(function(e){if(Ir(e))return a.activateMove(e.originalEvent,!0),!1})),s&&s.addListener(ym,(function(e){if(bm(e.keyEvent)&&!a.isActive()){var t=a._mouse.getLastMoveEvent();a.activateMove(t,!!t)}}),"keyboard.keydown"),s&&s.addListener(ym,(function(e){bm(e.keyEvent)&&a.isActive()&&a.toggle()}),"keyboard.keyup"),e.on("hand.end",(function(t){var n=t.originalEvent.target;if(!t.hover&&!(n instanceof SVGElement))return!1;e.once("hand.ended",(function(){a.activateMove(t.originalEvent,{reactivate:!0})}))})),e.on("hand.move.move",(function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})})),e.on("hand.move.end",(function(t){var n=t.context.reactivate;return!Ir(t)&&n&&e.once("hand.move.ended",(function(e){a.activateHand(e.originalEvent,!0,!0)})),!1}))}function bm(e){return Mi(" ",e)}gm.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],gm.prototype.activateMove=function(e,t,n){"object"===typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:vm,data:{context:n||{}}})},gm.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:vm,data:{context:{reactivate:n}}})},gm.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},gm.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};var xm={__depends__:[Ld,Bs],__init__:["handTool"],handTool:["type",gm]},wm="connect-ok",Em="connect-not-ok";function Om(e,t,n,r,i,o,a){var s=this;this._dragging=t,this._rules=o,this._mouse=a,i.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",(function(e){var t=e.context,n=e.hover,i=t.canStartConnect=s.canStartConnect(n);null!==i&&(t.startTarget=n,r.addMarker(n,i?wm:Em))})),e.on(["global-connect.out","global-connect.cleanup"],(function(e){var t=e.context.startTarget,n=e.context.canStartConnect;t&&r.removeMarker(t,n?wm:Em)})),e.on(["global-connect.ended"],(function(t){var r=t.context.startTarget,i={x:t.x,y:t.y};if(s.canStartConnect(r))return e.once("element.out",(function(){e.once(["connect.ended","connect.canceled"],(function(){e.fire("global-connect.drag.ended")})),n.start(null,r,i)})),!1}))}Om.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],Om.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})},Om.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)},Om.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},Om.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};var _m={__depends__:[es,Zo,Ko,Ld,Bs],globalConnect:["type",Om]};function Pm(e,t,n,r,i,o,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=r,this._lassoTool=i,this._handTool=o,this._globalConnect=a,this._translate=s,e.registerProvider(this)}Pm.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],Pm.prototype.getPaletteEntries=function(e){var t={},n=this._create,r=this._elementFactory,i=this._spaceTool,o=this._lassoTool,a=this._handTool,p=this._globalConnect,c=this._translate;function l(e,t,i,o,a){function p(t){var i=r.createShape(Object(s.assign)({type:e},a));a&&(Dn(i).isExpanded=a.isExpanded);n.start(t,i)}var l=e.replace(/^bpmn:/,"");return{group:t,className:i,title:o||c("Create {type}",{type:l}),action:{dragstart:p,click:p}}}function u(e){var t=r.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),i=r.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:t});n.start(e,[t,i],{hints:{autoSelect:[t]}})}function d(e){n.start(e,r.createParticipantShape())}return Object(s.assign)(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate the lasso tool"),action:{click:function(e){o.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate the create/remove space tool"),action:{click:function(e){i.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:c("Activate the global connect tool"),action:{click:function(e){p.start(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":l("bpmn:StartEvent","event","bpmn-icon-start-event-none",c("Create StartEvent")),"create.intermediate-event":l("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",c("Create Intermediate/Boundary Event")),"create.end-event":l("bpmn:EndEvent","event","bpmn-icon-end-event-none",c("Create EndEvent")),"create.exclusive-gateway":l("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",c("Create Gateway")),"create.task":l("bpmn:Task","activity","bpmn-icon-task",c("Create Task")),"create.data-object":l("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",c("Create DataObjectReference")),"create.data-store":l("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",c("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:c("Create expanded SubProcess"),action:{dragstart:u,click:u}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:c("Create Pool/Participant"),action:{dragstart:d,click:d}},"create.group":l("bpmn:Group","artifact","bpmn-icon-group",c("Create Group"))}),t};var jm={__depends__:[um,ks,tf,mm,xm,_m,xr],__init__:["paletteProvider"],paletteProvider:["type",Pm]};function Sm(e,t,n,r,i){pi.call(this,e),e.on("shape.move.move",250,(function(e){var o=e.context,a=o.canExecute;o.visualReplacements||(o.visualReplacements={}),a&&a.replacements?function(e){var o=e.canExecute.replacements;Object(s.forEach)(o,(function(o){var a=o.oldElementId,c={type:o.newElementType};if(!e.visualReplacements[a]){var l=t.get(a);Object(s.assign)(c,{x:l.x,y:l.y});var u=n.createShape(c);r.addShape(u,l.parent);var d=Object(p.j)('[data-element-id="'+di()(l.id)+'"]',e.dragGroup);d&&h(d,{display:"none"});var f=i.addDragger(u,e.dragGroup);e.visualReplacements[a]=f,r.removeShape(u)}}))}(o):function(e){var t=e.visualReplacements;Object(s.forEach)(t,(function(n,r){var i=Object(p.j)('[data-element-id="'+di()(r)+'"]',e.dragGroup);i&&h(i,{display:"inline"}),n.remove(),t[r]&&delete t[r]}))}(o)}))}Sm.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],r(Sm,pi);var km={__depends__:[vs],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",Sm]},Am=40,Cm=["x","y"],Tm=Math.abs;function Rm(e){e.on(["connect.hover","connect.move","connect.end"],1250,(function(e){var t,n,r=e.context,i=r.canExecute,o=r.start,a=r.hover,p=r.source,c=r.target;e.originalEvent&&Ri(e.originalEvent)||(r.initialConnectionStart||(r.initialConnectionStart=r.connectionStart),i&&a&&function(e,t,n){Cm.forEach((function(r){var i=Nm(r,t);e[r]<t[r]+n?Ua(e,r,t[r]+n):e[r]>t[r]+i-n&&Ua(e,r,t[r]+i-n)}))}(e,a,function(e){return Tn(e,"bpmn:Task")?10:20}(a)),a&&(t=i,n=["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],Object(s.some)(n,(function(e){return Dm(t,e)})))?(r.connectionStart=Fa(o),Rn(a,["bpmn:Event","bpmn:Gateway"])&&Mm(e,Fa(a)),Rn(a,["bpmn:Task","bpmn:SubProcess"])&&function(e,t){var n=Fa(t);Cm.forEach((function(r){(function(e,t,n){return e[n]>t[n]+20&&e[n]<t[n]+Nm(n,t)-20})(e,t,r)&&Ua(e,r,n[r])}))}(e,a),Tn(p,"bpmn:BoundaryEvent")&&c===p.host&&function(e){var t=e.context,n=t.source,r=t.target;if(function(e){var t=e.hover,n=e.source;return t&&n&&t===n}(t))return;var i=Fa(n),o=ke(i,r,-10),a=[];/top|bottom/.test(o)&&a.push("x");/left|right/.test(o)&&a.push("y");a.forEach((function(t){var n,r=e[t];Tm(r-i[t])<Am&&(n=r>i[t]?i[t]+Am:i[t]-Am,Ua(e,t,n))}))}(e)):Dm(i,"bpmn:MessageFlow")?(Tn(o,"bpmn:Event")&&(r.connectionStart=Fa(o)),Tn(a,"bpmn:Event")&&Mm(e,Fa(a))):r.connectionStart=r.initialConnectionStart)}))}function Mm(e,t){Ua(e,"x",t.x),Ua(e,"y",t.y)}function Dm(e,t){return e&&e.type===t}function Nm(e,t){return"x"===e?t.width:t.height}function Bm(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function Lm(e){this._snapValues={}}Rm.$inject=["eventBus"],Bm.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},Bm.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},Bm.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},Bm.prototype.getSnapLocations=function(){return this._snapLocations},Bm.prototype.setSnapLocations=function(e){this._snapLocations=e},Bm.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new Lm).initDefaults(this._defaultSnaps),n},Lm.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},Lm.prototype.snap=function(e,t,n,r){var i=this._snapValues[t];return i&&function(e,t,n){var r,i;for(n=void 0===n?10:n,r=0;r<t.length;r++)if(i=t[r],La(i-e)<=n)return i}(e[n],i[n],r)},Lm.prototype.initDefaults=function(e){var t=this;Object(s.forEach)(e||{},(function(e,n){Object(s.forEach)(e,(function(e){t.add(n,e)}))}))};function Im(e,t,n){var r=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],(function(e){r.initSnap(e)})),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(e){var t=e.context,i=t.shape,o=t.snapContext,a=t.target;if((!e.originalEvent||!Ri(e.originalEvent))&&!qa(e)&&a){var s=o.pointsForTarget(a);s.initialized||((s=r.addSnapTargetPoints(s,i,a)).initialized=!0),n.snap(e,s)}})),t.on(["create.cleanup","shape.move.cleanup"],(function(){n.hide()}))}function zm(e){return!!e.labelTarget}Im.$inject=["elementRegistry","eventBus","snapping"],Im.prototype.initSnap=function(e){var t,n=this._elementRegistry,r=e.context,i=r.shape,o=r.snapContext;o||(o=r.snapContext=new Bm);var a=(t=n.get(i.id)?Fa(i,e):{x:e.x+Fa(i).x,y:e.y+Fa(i).y}).x-i.width/2,s=t.y-i.height/2,p=t.x+i.width/2,c=t.y+i.height/2;return o.setSnapOrigin("mid",{x:t.x-e.x,y:t.y-e.y}),zm(i)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:p-e.x,y:c-e.y})),o},Im.prototype.addSnapTargetPoints=function(e,t,n){var r=this.getSnapTargets(t,n);return Object(s.forEach)(r,(function(n){if(zm(n))zm(t)&&e.add("mid",Fa(n));else if(n.waypoints){if(n.waypoints.length<3)return;var r=n.waypoints.slice(1,-1);Object(s.forEach)(r,(function(t){e.add("mid",t)}))}else{e.add("mid",Fa(n))}})),Object(s.isNumber)(t.x)&&Object(s.isNumber)(t.y)?(this._elementRegistry.get(t.id)&&e.add("mid",Fa(t)),e):e},Im.prototype.getSnapTargets=function(e,t){return Va(t).filter((function(e){return!e.hidden}))};function $m(e,t){t.invoke(Im,this),e.on(["create.move","create.end"],1500,Fm),e.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,(function(e){var t=e.context,n=t.canExecute,r=t.target;n&&("attach"===n||n.attach)&&!qa(e)&&function(e,t){var n,r=_e(t),i=Nu(e,t),o=e.context.shape;n=o.parent?{x:0,y:0}:Se(o);/top/.test(i)?Ua(e,"y",r.top-n.y):/bottom/.test(i)&&Ua(e,"y",r.bottom-n.y);/left/.test(i)?Ua(e,"x",r.left-n.x):/right/.test(i)&&Ua(e,"x",r.right-n.x)}(e,r)}))}function Fm(e){var t=e.context.createConstraints;if(t){var n=t.top,r=t.right,i=t.bottom,o=t.left;(o&&o>=e.x||r&&r<=e.x)&&Ua(e,"x",e.x),(n&&n>=e.y||i&&i<=e.y)&&Ua(e,"y",e.y)}}function qm(e,t){return-1!==e.indexOf(t)}function Um(e,t,n){return t?{x:e.x-n.x,y:e.y-n.y}:{x:e.x,y:e.y}}r($m,Im),$m.$inject=["eventBus","injector"],$m.prototype.initSnap=function(e){var t=Im.prototype.initSnap.call(this,e),n=e.shape,r=!!this._elementRegistry.get(n.id);return Object(s.forEach)(n.outgoing,(function(n){var i=n.waypoints[0];i=i.original||i,t.setSnapOrigin(n.id+"-docking",Um(i,r,e))})),Object(s.forEach)(n.incoming,(function(n){var i=n.waypoints[n.waypoints.length-1];i=i.original||i,t.setSnapOrigin(n.id+"-docking",Um(i,r,e))})),Tn(n,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t},$m.prototype.addSnapTargetPoints=function(e,t,n){Im.prototype.addSnapTargetPoints.call(this,e,t,n);var r=this.getSnapTargets(t,n);Object(s.forEach)(r,(function(n){var r;(function(e){if(Tn(e,"bpmn:SubProcess")&&Xn(e))return!0;return Tn(e,"bpmn:Participant")}(n)||(r="bpmn:TextAnnotation",[t,n].every((function(e){return Tn(e,r)}))))&&(e.add("top-left",za(n)),e.add("bottom-right",$a(n)))}));var i=this._elementRegistry;return Object(s.forEach)(t.incoming,(function(n){if(i.get(t.id)){qm(r,n.source)||e.add("mid",Se(n.source));var o=n.waypoints[0];e.add(n.id+"-docking",o.original||o)}})),Object(s.forEach)(t.outgoing,(function(n){if(i.get(t.id)){qm(r,n.target)||e.add("mid",Se(n.target));var o=n.waypoints[n.waypoints.length-1];e.add(n.id+"-docking",o.original||o)}})),Tn(n,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,t,n.parent)),e},$m.prototype.getSnapTargets=function(e,t){return Im.prototype.getSnapTargets.call(this,e,t).filter((function(e){return!Tn(e,"bpmn:Lane")}))};function Vm(e,t){var n=this;e.on(["resize.start"],(function(e){n.initSnap(e)})),e.on(["resize.move","resize.end"],1250,(function(e){var r=e.context,i=r.shape,o=i.parent,a=r.direction,s=r.snapContext;if((!e.originalEvent||!Ri(e.originalEvent))&&!qa(e)){var p=s.pointsForTarget(o);p.initialized||((p=n.addSnapTargetPoints(p,i,o,a)).initialized=!0),function(e){return"n"===e||"s"===e}(a)&&Ua(e,"x",e.x),function(e){return"e"===e||"w"===e}(a)&&Ua(e,"y",e.y),t.snap(e,p)}})),e.on(["resize.cleanup"],(function(){t.hide()}))}function Hm(e,t){var n=Se(e),r=_e(e),i={x:n.x,y:n.y};return-1!==t.indexOf("n")?i.y=r.top:-1!==t.indexOf("s")&&(i.y=r.bottom),-1!==t.indexOf("e")?i.x=r.right:-1!==t.indexOf("w")&&(i.x=r.left),i}Vm.prototype.initSnap=function(e){var t=e.context,n=t.shape,r=t.direction,i=t.snapContext;i||(i=t.snapContext=new Bm);var o=Hm(n,r);return i.setSnapOrigin("corner",{x:o.x-e.x,y:o.y-e.y}),i},Vm.prototype.addSnapTargetPoints=function(e,t,n,r){var i=this.getSnapTargets(t,n);return Object(s.forEach)(i,(function(t){e.add("corner",$a(t)),e.add("corner",za(t))})),e.add("corner",Hm(t,r)),e},Vm.$inject=["eventBus","snapping"],Vm.prototype.getSnapTargets=function(e,t){return Va(t).filter((function(t){return n=e,!(t.host===n)&&!function(e){return!!e.waypoints}(t)&&!function(e){return!!e.hidden}(t)&&!function(e){return!!e.labelTarget}(t);var n}))};function Wm(e){this._canvas=e,this._asyncHide=Object(s.debounce)(Object(s.bind)(this.hide,this),1e3)}Wm.$inject=["canvas"],Wm.prototype.snap=function(e,t){var n=e.context.snapContext,r=n.getSnapLocations(),i={x:qa(e,"x"),y:qa(e,"y")};Object(s.forEach)(r,(function(r){var o=n.getSnapOrigin(r),a={x:e.x+o.x,y:e.y+o.y};if(Object(s.forEach)(["x","y"],(function(e){var n;i[e]||void 0!==(n=t.snap(a,r,e,7))&&(i[e]={value:n,originValue:n-o[e]})})),i.x&&i.y)return!1})),this.showSnapLine("vertical",i.x&&i.x.value),this.showSnapLine("horizontal",i.y&&i.y.value),Object(s.forEach)(["x","y"],(function(t){var n=i[t];Object(s.isObject)(n)&&Ua(e,t,n.originValue)}))},Wm.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=S("path");return h(n,{d:"M0,0 L0,0"}),b(n).add("djs-snap-line"),u(t,n),{update:function(t){Object(s.isNumber)(t)?h(n,"horizontal"===e?{d:"M-100000,"+t+" L+100000,"+t,display:""}:{d:"M "+t+",-100000 L "+t+", +100000",display:""}):h(n,{display:"none"})}}},Wm.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},Wm.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},Wm.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},Wm.prototype.hide=function(){Object(s.forEach)(this._snapLines,(function(e){e.update()}))};var Gm={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Im],resizeSnapping:["type",Vm],snapping:["type",Wm]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",Rm],createMoveSnapping:["type",$m]};function Km(e,t,n,r){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=e,this._eventBus=t,this._overlays=n,this._selection=r,this._container=Object(p.g)(Km.BOX_HTML),this._searchInput=Object(p.j)(Km.INPUT_SELECTOR,this._container),this._resultsContainer=Object(p.j)(Km.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy"],this.close,this)}function Ym(e,t,n){var r=function(e){var t="";return e.forEach((function(e){e.matched?t+='<strong class="'+Km.RESULT_HIGHLIGHT_CLASS+'">'+hi(e.matched)+"</strong>":t+=hi(e.normal)})),""!==t?t:null}(t),i=Object(p.g)(n);i.innerHTML=r,e.appendChild(i)}Km.$inject=["canvas","eventBus","overlays","selection"],Km.prototype._bindEvents=function(){var e=this;function t(t,n,r,i){e._eventMaps.push({el:t,type:r,listener:p.f.bind(t,n,r,i)})}t(document,"html","click",(function(t){e.close()})),t(this._container,Km.INPUT_SELECTOR,"click",(function(e){e.stopPropagation(),e.delegateTarget.focus()})),t(this._container,Km.RESULT_SELECTOR,"mouseover",(function(t){t.stopPropagation(),e._scrollToNode(t.delegateTarget),e._preselect(t.delegateTarget)})),t(this._container,Km.RESULT_SELECTOR,"click",(function(t){t.stopPropagation(),e._select(t.delegateTarget)})),t(this._container,Km.INPUT_SELECTOR,"keydown",(function(e){38===e.keyCode&&e.preventDefault(),40===e.keyCode&&e.preventDefault()})),t(this._container,Km.INPUT_SELECTOR,"keyup",(function(t){if(27===t.keyCode)return e.close();if(13===t.keyCode){var n=e._getCurrentResult();return n?e._select(n):e.close()}return 38===t.keyCode?e._scrollToDirection(!0):40===t.keyCode?e._scrollToDirection():void(37!==t.keyCode&&39!==t.keyCode&&e._search(t.delegateTarget.value))}))},Km.prototype._unbindEvents=function(){this._eventMaps.forEach((function(e){p.f.unbind(e.el,e.type,e.listener)}))},Km.prototype._search=function(e){var t=this;if(this._clearResults(),e&&""!==e){var n=this._searchProvider.find(e);if(n.length){n.forEach((function(e){var n=e.element.id,r=t._createResultNode(e,n);t._results[n]={element:e.element,node:r}}));var r=Object(p.j)(Km.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(r),this._preselect(r)}}},Km.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var n=e?t.previousElementSibling:t.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}},Km.prototype._scrollToNode=function(e){if(e&&e!==this._getCurrentResult()){var t=e.offsetTop,n=this._resultsContainer.scrollTop,r=t-this._resultsContainer.clientHeight+e.clientHeight;t<n?this._resultsContainer.scrollTop=t:n<r&&(this._resultsContainer.scrollTop=r)}},Km.prototype._clearResults=function(){Object(p.d)(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Km.prototype._getCurrentResult=function(){return Object(p.j)(Km.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Km.prototype._createResultNode=function(e,t){var n=Object(p.g)(Km.RESULT_HTML);return e.primaryTokens.length>0&&Ym(n,e.primaryTokens,Km.RESULT_PRIMARY_HTML),Ym(n,e.secondaryTokens,Km.RESULT_SECONDARY_HTML),Object(p.b)(n,Km.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n},Km.prototype.registerProvider=function(e){this._searchProvider=e},Km.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Object(p.c)(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Km.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Object(p.c)(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Km.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Km.prototype.isOpen=function(){return this._open},Km.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&Object(p.c)(t).remove(Km.RESULT_SELECTED_CLASS);var n=Object(p.b)(e,Km.RESULT_ID_ATTRIBUTE),r=this._results[n].element;Object(p.c)(e).add(Km.RESULT_SELECTED_CLASS),this._resetOverlay(r),this._canvas.scrollToElement(r,{top:400}),this._selection.select(r),this._eventBus.fire("searchPad.preselected",r)}},Km.prototype._select=function(e){var t=Object(p.b)(e,Km.RESULT_ID_ATTRIBUTE),n=this._results[t].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(n,{top:400}),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)},Km.prototype._resetOverlay=function(e){if(this._overlayId&&this._overlays.remove(this._overlayId),e){var t=function(e){var t=6,n=e.width+2*t,r=e.height+2*t,i={width:n+"px",height:r+"px"},o=Object(p.g)('<div class="'+Km.OVERLAY_CLASS+'"></div>');return Object(p.a)(o,i),{position:{bottom:r-t,right:n-t},show:!0,html:o}}(ae(e));this._overlayId=this._overlays.add(e,t)}},Km.CONTAINER_SELECTOR=".djs-search-container",Km.INPUT_SELECTOR=".djs-search-input input",Km.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Km.RESULT_SELECTOR=".djs-search-result",Km.RESULT_SELECTED_CLASS="djs-search-result-selected",Km.RESULT_SELECTED_SELECTOR="."+Km.RESULT_SELECTED_CLASS,Km.RESULT_ID_ATTRIBUTE="data-result-id",Km.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Km.OVERLAY_CLASS="djs-search-overlay",Km.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Km.RESULT_HTML='<div class="djs-search-result"></div>',Km.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Km.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var Xm={__depends__:[oi,Jr],searchPad:["type",Km]};function Qm(e,t,n){this._elementRegistry=e,this._canvas=n,t.registerProvider(this)}function Jm(e){return Object(s.filter)(e,(function(e){return!!e.matched})).length>0}function Zm(e,t){var n=[],r=e;if(!e)return n;e=e.toLowerCase(),t=t.toLowerCase();var i=e.indexOf(t);return i>-1?(0!==i&&n.push({normal:r.substr(0,i)}),n.push({matched:r.substr(i,t.length)}),t.length+i<e.length&&n.push({normal:r.substr(t.length+i,e.length)})):n.push({normal:r}),n}Qm.$inject=["elementRegistry","searchPad","canvas"],Qm.prototype.find=function(e){var t=this._canvas.getRootElement(),n=this._elementRegistry.filter((function(e){return!e.labelTarget}));return n=Object(s.filter)(n,(function(e){return e!==t})),n=Object(s.map)(n,(function(t){return{primaryTokens:Zm(er(t),e),secondaryTokens:Zm(t.id,e),element:t}})),n=Object(s.filter)(n,(function(e){return Jm(e.primaryTokens)||Jm(e.secondaryTokens)})),n=Object(s.sortBy)(n,(function(e){return er(e.element)+e.element.id}))};var ey={__depends__:[Xm],__init__:["bpmnSearch"],bpmnSearch:["type",Qm]};function ty(e){Yn.call(this,e)}r(ty,Yn),ty.Viewer=Ti,ty.NavigatedViewer=so,ty.prototype.createDiagram=Sn((function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')})),ty.prototype._interactionModules=[Wi,eo,vo,ao],ty.prototype._modelingModules=[Oo,No,Qo,Fo,Ka,es,ns,zp,Ys,ks,Vp,Xp,lc,dc,hc,Ec,Fc,Yh,im,jm,km,Mc,Gm,ey],ty.prototype._modules=[].concat(Ti.prototype._modules,ty.prototype._interactionModules,ty.prototype._modelingModules)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t){var n=t.create("bpmn:CategoryValue"),i=t.create("bpmn:Category",{categoryValue:[n]});return function(e,t,n){if(e&&t){"number"!==typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}(e.get("rootElements"),i),Object(r.a)(i).$parent=e,Object(r.a)(n).$parent=i,n}},,function(e,t,n){"use strict";var r=n(26),i=n(46),o=n(82);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,p={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(p[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(h,e)&&(d.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);v[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);v[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);v[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,O=60106,_=60107,P=60108,j=60114,S=60109,k=60110,A=60112,C=60113,T=60120,R=60115,M=60116,D=60121,N=60128,B=60129,L=60130,I=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;E=z("react.element"),O=z("react.portal"),_=z("react.fragment"),P=z("react.strict_mode"),j=z("react.profiler"),S=z("react.provider"),k=z("react.context"),A=z("react.forward_ref"),C=z("react.suspense"),T=z("react.suspense_list"),R=z("react.memo"),M=z("react.lazy"),D=z("react.block"),z("react.scope"),N=z("react.opaque.id"),B=z("react.debug_trace_mode"),L=z("react.offscreen"),I=z("react.legacy_hidden")}var $,F="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}function U(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var V=!1;function H(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&"string"===typeof p.stack){for(var i=p.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function W(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case O:return"Portal";case j:return"Profiler";case P:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case M:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ue="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ye,ve=(ye=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Oe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Pe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ae=null;function Ce(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?Ae?Ae.push(e):Ae=[e]:ke=e}function Re(){if(ke){var e=ke,t=Ae;if(Ae=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Me(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Ne(){}var Be=Me,Le=!1,Ie=!1;function ze(){null===ke&&null===Ae||(Ne(),Re())}function $e(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(u)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){Fe=!1}function Ue(e,t,n,r,i,o,a,s,p){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ve=!1,He=null,We=!1,Ge=null,Ke={onError:function(e){Ve=!0,He=e}};function Ye(e,t,n,r,i,o,a,s,p){Ve=!1,He=null,Ue.apply(Ke,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,p=i.child;p;){if(p===n){s=!0,n=i,r=o;break}if(p===r){s=!0,r=i,n=o;break}p=p.sibling}if(!s){for(p=o.child;p;){if(p===n){s=!0,n=o,r=i;break}if(p===r){s=!0,r=o,n=i;break}p=p.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,pt=null,ct=null,lt=new Map,ut=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":pt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&gt(st)&&(st=null),null!==pt&&gt(pt)&&(pt=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ut.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==pt&&wt(pt,e),null!==ct&&wt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},Pt={},jt={};function St(e){if(Pt[e])return Pt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in jt)return Pt[e]=n[t];return e}u&&(jt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var kt=St("animationend"),At=St("animationiteration"),Ct=St("animationstart"),Tt=St("transitionend"),Rt=new Map,Mt=new Map,Dt=["abort","abort",kt,"animationEnd",At,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Mt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Bt=8;function Lt(e){if(0!==(1&e))return Bt=15,1;if(0!==(2&e))return Bt=14,2;if(0!==(4&e))return Bt=13,4;var t=24&e;return 0!==t?(Bt=12,t):0!==(32&e)?(Bt=11,32):0!==(t=192&e)?(Bt=10,t):0!==(256&e)?(Bt=9,256):0!==(t=3584&e)?(Bt=8,t):0!==(4096&e)?(Bt=7,4096):0!==(t=4186112&e)?(Bt=6,t):0!==(t=62914560&e)?(Bt=5,t):67108864&e?(Bt=4,67108864):0!==(134217728&e)?(Bt=3,134217728):0!==(t=805306368&e)?(Bt=2,t):0!==(1073741824&e)?(Bt=1,1073741824):(Bt=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return Bt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Bt=15;else if(0!==(o=134217727&n)){var p=o&~a;0!==p?(r=Lt(p),i=Bt):0!==(s&=o)&&(r=Lt(s),i=Bt)}else 0!==(o=n&~a)?(r=Lt(o),i=Bt):0!==s&&(r=Lt(s),i=Bt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=Bt)return t;Bt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function $t(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?$t(10,t):e;case 10:return 0===(e=Ft(192&~t))?$t(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&(0===(e=Ft(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ft(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Le||Ne();var i=Jt,o=Le;Le=!0;try{De(i,e,t,n,r)}finally{(Le=o)||ze()}}function Qt(e,t,n,r){Kt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=ht(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return pt=yt(pt,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,yt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,yt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Nr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=je(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function pn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=pn(dn),hn=i({},dn,{view:0,detail:0}),mn=pn(hn),yn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=pn(yn),gn=pn(i({},yn,{dataTransfer:0})),bn=pn(i({},hn,{relatedTarget:0})),xn=pn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=pn(wn),On=pn(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function kn(){return Sn}var An=i({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=pn(An),Tn=pn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=pn(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Mn=pn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=pn(Dn),Bn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var zn=u&&"TextEvent"in window&&!In,$n=u&&(!Ln||In&&8<In&&11>=In),Fn=String.fromCharCode(32),qn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Qn(e){Ar(e,0)}function Jn(e){if(Q(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(u){var tr;if(u){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",or),Xn=Yn=null)}function or(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Kn(t,Xn,e,je(e)),e=Qn,Le)e(t);else{Le=!0;try{Me(e,t)}finally{Le=!1,ze()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function pr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=u&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,Er=!1;function Or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Lr(xr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Dt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Pr=0;Pr<_r.length;Pr++)Mt.set(_r[Pr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,p,c){if(Ye.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var l=He;Ve=!1,He=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],p=s.instance,c=s.currentTarget;if(s=s.listener,p!==o&&i.isPropagationStopped())break e;kr(i,s,c),o=p}else for(a=0;a<r.length;a++){if(p=(s=r[a]).instance,c=s.currentTarget,s=s.listener,p!==o&&i.isPropagationStopped())break e;kr(i,s,c),o=p}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Cr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Tr]||(e[Tr]=!0,s.forEach((function(t){Sr.has(t)||Mr(t,!1,e,null),Mr(t,!0,e,null)})))}function Mr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Mt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Qt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var p=a.tag;if((3===p||4===p)&&((p=a.stateNode.containerInfo)===i||8===p.nodeType&&p.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(p=a.tag)||6===p){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ie)return e(t,n);Ie=!0;try{Be(e,t,n)}finally{Ie=!1,ze()}}((function(){var r=o,i=je(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var p=fn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":p=Cn;break;case"focusin":c="focus",p=bn;break;case"focusout":c="blur",p=bn;break;case"beforeblur":case"afterblur":p=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rn;break;case kt:case At:case Ct:p=xn;break;case Tt:p=Mn;break;case"scroll":p=mn;break;case"wheel":p=Nn;break;case"copy":case"cut":case"paste":p=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tn}var l=0!==(4&t),u=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=$e(h,d))&&l.push(Br(h,m,f)))),u)break;h=h.return}0<l.length&&(s=new p(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(p="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(p||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,p?(p=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(u=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(p=null,c=r),p!==c)){if(l=vn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,m="onPointerLeave",d="onPointerEnter",h="pointer"),u=null==p?s:ii(p),f=null==c?s:ii(c),(s=new l(m,h+"leave",p,n,i)).target=u,s.relatedTarget=f,m=null,ni(i)===r&&((l=new l(d,h+"enter",c,n,i)).target=f,l.relatedTarget=u,m=l),u=m,p&&c)e:{for(d=c,h=0,f=l=p;f;f=Ir(f))h++;for(f=0,m=d;m;m=Ir(m))f++;for(;0<h-f;)l=Ir(l),h--;for(;0<f-h;)d=Ir(d),f--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Ir(l),d=Ir(d)}l=null}else l=null;null!==p&&zr(a,s,p,l,!1),null!==c&&null!==u&&zr(a,u,c,l,!0)}if("select"===(p=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===p&&"file"===s.type)var y=Zn;else if(Gn(s))if(er)y=cr;else{y=sr;var v=ar}else(p=s.nodeName)&&"input"===p.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=pr);switch(y&&(y=y(e,r))?Kn(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ii(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(br=v,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Or(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Or(a,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(v=Lr(r,b)).length&&(b=new On(b,e,null,n,i),a.push({event:b,listeners:v}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(qn=!0,Fn);case"textInput":return(e=t.data)===Fn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Un(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new On("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Ar(a,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=$e(e,n))&&r.unshift(Br(e,o,i)),null!=(o=$e(e,t))&&r.push(Br(e,o,i))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,p=s.alternate,c=s.stateNode;if(null!==p&&p===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(p=$e(n,o))&&a.unshift(Br(n,p,s)):i||null!=(p=$e(n,o))&&a.push(Br(n,p,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function $r(){}var Fr=null,qr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Qr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Qr,Zr="__reactProps$"+Qr,ei="__reactContainer$"+Qr,ti="__reactEvents$"+Qr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],pi=-1;function ci(e){return{current:e}}function li(e){0>pi||(e.current=si[pi],si[pi]=null,pi--)}function ui(e,t){pi++,si[pi]=e.current,e.current=t}var di={},fi=ci(di),hi=ci(!1),mi=di;function yi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(hi),li(fi)}function bi(e,t,n){if(fi.current!==di)throw Error(a(168));ui(fi,t),ui(hi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,mi=fi.current,ui(fi,e),ui(hi,hi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=xi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(fi),ui(fi,e)):li(hi),ui(hi,n)}var Oi=null,_i=null,Pi=o.unstable_runWithPriority,ji=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,ki=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Ci=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Mi=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Bi=o.unstable_IdlePriority,Li={},Ii=void 0!==Ai?Ai:function(){},zi=null,$i=null,Fi=!1,qi=Ci(),Ui=1e4>qi?Ci:function(){return Ci()-qi};function Vi(){switch(Ti()){case Ri:return 99;case Mi:return 98;case Di:return 97;case Ni:return 96;case Bi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Mi;case 97:return Di;case 96:return Ni;case 95:return Bi;default:throw Error(a(332))}}function Wi(e,t){return e=Hi(e),Pi(e,t)}function Gi(e,t,n){return e=Hi(e),ji(e,t,n)}function Ki(){if(null!==$i){var e=$i;$i=null,Si(e)}Yi()}function Yi(){if(!Fi&&null!==zi){Fi=!0;var e=0;try{var t=zi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),ji(Ri,Ki),n}finally{Fi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,p=o.shared.pending;if(null!==p){o.shared.pending=null;var c=p,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var u=e.alternate;if(null!==u){var d=(u=u.updateQueue).lastBaseUpdate;d!==s&&(null===d?u.firstBaseUpdate=l:d.next=l,u.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,u=l=c=null;;){p=a.lane;var f=a.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=i({},d,p);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(p=o.effects)?o.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(p=o.shared.pending))break;a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,Fs|=s,e.lanes=s,e.memoizedState=d}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dp(),i=fp(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),hp(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dp(),i=fp(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),hp(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dp(),r=fp(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),hp(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function xo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=vi(t)?mi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=vi(t)?mi:fi.current,i.context=yi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Oo=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Po(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function jo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wp(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function p(e,t,n,r){return null===t||6!==t.tag?((t=Xp(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Gp(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qp(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Kp(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xp(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gp(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case O:return(t=Qp(t,e.mode,n)).return=e,t}if(Oo(t)||q(t))return(t=Kp(t,e.mode,n,null)).return=e,t;Po(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:p(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===_?u(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?l(e,t,n,r):null}if(Oo(n)||q(n))return null!==i?null:u(e,t,n,r,null);Po(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return p(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===_?u(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Oo(r)||q(r))return u(t,e=e.get(n)||null,r,i,null);Po(t,r)}return null}function m(i,a,s,p){for(var c=null,l=null,u=a,m=a=0,y=null;null!==u&&m<s.length;m++){u.index>m?(y=u,u=null):y=u.sibling;var v=f(i,u,s[m],p);if(null===v){null===u&&(u=y);break}e&&u&&null===v.alternate&&t(i,u),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,u=y}if(m===s.length)return n(i,u),c;if(null===u){for(;m<s.length;m++)null!==(u=d(i,s[m],p))&&(a=o(u,a,m),null===l?c=u:l.sibling=u,l=u);return c}for(u=r(i,u);m<s.length;m++)null!==(y=h(u,i,m,s[m],p))&&(e&&null!==y.alternate&&u.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&u.forEach((function(e){return t(i,e)})),c}function y(i,s,p,c){var l=q(p);if("function"!==typeof l)throw Error(a(150));if(null==(p=l.call(p)))throw Error(a(151));for(var u=l=null,m=s,y=s=0,v=null,g=p.next();null!==m&&!g.done;y++,g=p.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=f(i,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===u?l=b:u.sibling=b,u=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=p.next())null!==(g=d(i,g.value,c))&&(s=o(g,s,y),null===u?l=g:u.sibling=g,u=g);return l}for(m=r(i,m);!g.done;y++,g=p.next())null!==(g=h(m,i,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===u?l=g:u.sibling=g,u=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,p){var c="object"===typeof o&&null!==o&&o.type===_&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===_){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=_o(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===_?((r=Kp(o.props.children,e.mode,p,o.key)).return=e,e=r):((p=Gp(o.type,o.key,o.props,null,e.mode,p)).ref=_o(e,r,o),p.return=e,e=p)}return s(e);case O:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qp(o,e.mode,p)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xp(o,e.mode,p)).return=e,e=r),s(e);if(Oo(o))return m(e,r,o,p);if(q(o))return y(e,r,o,p);if(l&&Po(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var So=jo(!0),ko=jo(!1),Ao={},Co=ci(Ao),To=ci(Ao),Ro=ci(Ao);function Mo(e){if(e===Ao)throw Error(a(174));return e}function Do(e,t){switch(ui(Ro,t),ui(To,e),ui(Co,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Co),ui(Co,t)}function No(){li(Co),li(To),li(Ro)}function Bo(e){Mo(Ro.current);var t=Mo(Co.current),n=he(t,e.type);t!==n&&(ui(To,e),ui(Co,n))}function Lo(e){To.current===e&&(li(Co),li(To))}var Io=ci(0);function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $o=null,Fo=null,qo=!1;function Uo(e,t){var n=Vp(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(qo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Kr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void($o=e);Uo($o,n)}$o=e,Fo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,$o=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$o=e}function Go(e){if(e!==$o)return!1;if(!qo)return Wo(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Kr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=$o?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Fo=$o=null,qo=!1}var Yo=[];function Xo(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Qo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Ma:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Qo.current=Na,e=n(r,i)}while(ia)}if(Qo.current=Ra,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function ua(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var p=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==p&&(p=p.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===p?(s=p=u,o=r):p=p.next=u,ea.lanes|=l,Fs|=l}c=c.next}while(null!==c&&c!==i);null===p?o=r:p.next=s,lr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=p,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(a(350))}function ha(e,t,n,r){var i=Ms;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),p=Qo.current,c=p.useState((function(){return fa(i,t,n)})),l=c[1],u=c[0];c=na;var d=e.memoizedState,f=d.refs,h=f.getSnapshot,m=d.source;d=d.subscribe;var y=ea;return e.memoizedState={refs:f,source:t,subscribe:r},p.useEffect((function(){f.getSnapshot=n,f.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(u,e)||(l(e),e=fp(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var p=31-Vt(a),c=1<<p;r[p]|=e,a&=~c}}}),[n,t,r]),p.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fp(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(h,n)&&lr(m,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:u}).dispatch=l=Ta.bind(null,ea,e),c.queue=e,c.baseQueue=null,u=fa(i,t,n),c.memoizedState=c.baseState=u),u}function ma(e,t,n){return ha(ca(),e,t,n)}function ya(e){var t=pa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Ta.bind(null,ea,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},pa().memoizedState=e}function ba(){return ca().memoizedState}function xa(e,t,n,r){var i=pa();ea.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void va(t,n,o,r)}ea.flags|=e,i.memoizedState=va(1|t,n,o,r)}function Ea(e,t){return xa(516,4,e,t)}function Oa(e,t){return wa(516,4,e,t)}function _a(e,t){return wa(4,2,e,t)}function Pa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Pa.bind(null,t,e),n)}function Sa(){}function ka(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=Vi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ta(e,t,n){var r=dp(),i=fp(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,p=a(s,n);if(o.eagerReducer=a,o.eagerState=p,lr(p,s))return}catch(c){}hp(e,i,r)}}var Ra={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ma={readContext:ao,useCallback:function(e,t){return pa().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ta.bind(null,ea,e),[r.memoizedState,e]},useRef:ga,useState:ya,useDebugValue:Sa,useDeferredValue:function(e){var t=ya(e),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ya(!1),t=e[0];return ga(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=pa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=ya(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,va(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ya(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:ka,useContext:ao,useEffect:Oa,useImperativeHandle:ja,useLayoutEffect:_a,useMemo:Aa,useReducer:ua,useRef:ba,useState:function(){return ua(la)},useDebugValue:Sa,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return Oa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:ka,useContext:ao,useEffect:Oa,useImperativeHandle:ja,useLayoutEffect:_a,useMemo:Aa,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Sa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Oa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Ba=w.ReactCurrentOwner,La=!1;function Ia(e,t,n,r){t.child=null===e?ko(t,null,n,r):So(t,e.child,n,r)}function za(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ia(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function $a(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hp(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gp(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Wp(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Va(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Ep(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ep(t,e),null;t.memoizedState={baseLanes:0},Ep(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ep(t,r);return Ia(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=vi(n)?mi:fi.current;return o=yi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ia(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(vi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var p=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=yi(t,c=vi(n)?mi:fi.current);var l=n.getDerivedStateFromProps,u="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||p!==c)&&wo(t,a,r,c),so=!1;var d=t.memoizedState;a.state=d,ho(t,r,a,i),p=t.memoizedState,s!==r||d!==p||hi.current||so?("function"===typeof l&&(vo(t,n,l,r),p=t.memoizedState),(s=so||bo(t,n,s,r,d,p,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),a.props=c,u=t.pendingProps,d=a.context,"object"===typeof(p=n.contextType)&&null!==p?p=ao(p):p=yi(t,p=vi(n)?mi:fi.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||d!==p)&&wo(t,a,r,p),so=!1,d=t.memoizedState,a.state=d,ho(t,r,a,i);var h=t.memoizedState;s!==u||d!==h||hi.current||so?("function"===typeof f&&(vo(t,n,f,r),h=t.memoizedState),(c=so||bo(t,n,c,r,d,h,p))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,p),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,p)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=p,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Ua(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,Ba.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Ia(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Ka,Ya,Xa,Qa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Io.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Io,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=Yp({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yp(t,i,0,null),n=Kp(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wp(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wp(a,s),null!==e?r=Wp(e,r):(r=Kp(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ia(e,t,r.children,n),0!==(2&(r=Io.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Io,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wp(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wp(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&gi(),null;case 3:return No(),li(hi),li(fi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=Mo(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Mo(Co.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<jr.length;e++)Cr(jr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":pe(r,s),Cr("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):p.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===ue&&(e=fe(n)),e===ue?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ka(e,t),t.stateNode=e,c=Pe(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<jr.length;o++)Cr(jr[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":pe(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}_e(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?Ee(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ve(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&ge(e,u):"number"===typeof u&&ge(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Cr("scroll",e):null!=u&&x(e,s,u,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=$r)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Mo(Ro.current),Mo(Co.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Io),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Io.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===Ms||0===(134217727&Fs)&&0===(134217727&qs)||gp(Ms,Ns))),(r||n)&&(t.flags|=4),null);case 4:return No(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Io),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Is||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Io,1&Io.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Ws&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=zo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Io.current,ui(Io,s?1&t|2:1&t),n):null;case 23:case 24:return Op(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ps(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),li(hi),li(fi),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Io),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Io),null;case 4:return No(),null;case 10:return ro(e),null;case 23:case 24:return Op(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Mo(Co.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in _e(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(p.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(p.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Cr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===N?l.toString():(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Qs=r),ls(0,t)},n}function fs(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){$p(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function vs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lp(n,e),Bp(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Oi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lp(t,n);else{r=t;try{i()}catch(o){$p(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){$p(t,o)}break;case 5:ms(t);break;case 4:Ps(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Os(e,n,t):_s(e,n,t)}function Os(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(Os(e,t,n),e=e.sibling;null!==e;)Os(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ps(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,p=i,c=p;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===p)break e;for(;null===c.sibling;){if(null===c.return||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,p=i.stateNode,8===s.nodeType?s.parentNode.removeChild(p):s.removeChild(p)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function js(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Pe(e,i),t=Pe(e,r),i=0;i<o.length;i+=2){var s=o[i],p=o[i+1];"style"===s?Ee(n,p):"dangerouslySetInnerHTML"===s?ve(n,p):"children"===s?ge(n,p):x(n,s,p,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Ui(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=qp.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ks(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Cs=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Rs=0,Ms=null,Ds=null,Ns=0,Bs=0,Ls=ci(0),Is=0,zs=null,$s=0,Fs=0,qs=0,Us=0,Vs=null,Hs=0,Ws=1/0;function Gs(){Ws=Ui()+500}var Ks,Ys=null,Xs=!1,Qs=null,Js=null,Zs=!1,ep=null,tp=90,np=[],rp=[],ip=null,op=0,ap=null,sp=-1,pp=0,cp=0,lp=null,up=!1;function dp(){return 0!==(48&Rs)?Ui():-1!==sp?sp:sp=Ui()}function fp(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===pp&&(pp=$s),0!==Xi.transition){0!==cp&&(cp=null!==Vs?Vs.pendingLanes:0),e=pp;var t=4186112&~cp;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Rs)&&98===e?e=$t(12,pp):e=$t(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),pp),e}function hp(e,t,n){if(50<op)throw op=0,ap=null,Error(a(185));if(null===(e=mp(e,t)))return null;Ut(e,t,n),e===Ms&&(qs|=t,4===Is&&gp(e,Ns));var r=Vi();1===t?0!==(8&Rs)&&0===(48&Rs)?bp(e):(yp(e,n),0===Rs&&(Gs(),Ki())):(0===(4&Rs)||98!==r&&99!==r||(null===ip?ip=new Set([e]):ip.add(e)),yp(e,n)),Vs=e}function mp(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yp(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var p=31-Vt(s),c=1<<p,l=o[p];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var u=Bt;o[p]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=It(e,e===Ms?Ns:0),t=Bt,0===r)null!==n&&(n!==Li&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Si(n)}15===t?(n=bp.bind(null,e),null===zi?(zi=[n],$i=ji(Ri,Yi)):zi.push(n),n=Li):14===t?n=Gi(99,bp.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,vp.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vp(e){if(sp=-1,cp=pp=0,0!==(48&Rs))throw Error(a(327));var t=e.callbackNode;if(Np()&&e.callbackNode!==t)return null;var n=It(e,e===Ms?Ns:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=jp();for(Ms===e&&Ns===r||(Gs(),_p(e,r));;)try{Ap();break}catch(p){Pp(e,p)}if(no(),Cs.current=o,Rs=i,null!==Ds?r=0:(Ms=null,Ns=0,r=Is),0!==($s&qs))_p(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=zt(e))&&(r=Sp(e,n))),1===r)throw t=zs,_p(e,0),gp(e,n),yp(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Rp(e);break;case 3:if(gp(e,n),(62914560&n)===n&&10<(r=Hs+500-Ui())){if(0!==It(e,0))break;if(((i=e.suspendedLanes)&n)!==n){dp(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Rp.bind(null,e),r);break}Rp(e);break;case 4:if(gp(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Rp.bind(null,e),n);break}Rp(e);break;default:throw Error(a(329))}}return yp(e,Ui()),e.callbackNode===t?vp.bind(null,e):null}function gp(e,t){for(t&=~Us,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function bp(e){if(0!==(48&Rs))throw Error(a(327));if(Np(),e===Ms&&0!==(e.expiredLanes&Ns)){var t=Ns,n=Sp(e,t);0!==($s&qs)&&(n=Sp(e,t=It(e,t)))}else n=Sp(e,t=It(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=zt(e))&&(n=Sp(e,t))),1===n)throw n=zs,_p(e,0),gp(e,t),yp(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rp(e),yp(e,Ui()),null}function xp(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Ki())}}function wp(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Ki())}}function Ep(e,t){ui(Ls,Bs),Bs|=t,$s|=t}function Op(){Bs=Ls.current,li(Ls)}function _p(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:No(),li(hi),li(fi),Xo();break;case 5:Lo(r);break;case 4:No();break;case 13:case 19:li(Io);break;case 10:ro(r);break;case 23:case 24:Op()}n=n.return}Ms=e,Ds=Wp(e.current,null),Ns=Bs=$s=t,Is=0,zs=null,Us=qs=Fs=0}function Pp(e,t){for(;;){var n=Ds;try{if(no(),Qo.current=Ra,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ts.current=null,null===n||null===n.return){Is=1,zs=t,Ds=null;break}e:{var o=e,a=n.return,s=n,p=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==p&&"object"===typeof p&&"function"===typeof p.then){var c=p;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var u=0!==(1&Io.current),d=a;do{var f;if(f=13===d.tag){var h=d.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!u)}}if(f){var y=d.updateQueue;if(null===y){var v=new Set;v.add(c),d.updateQueue=v}else y.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=lo(-1,1);g.tag=2,uo(s,g)}s.lanes|=1;break e}p=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,p=new Set,b.set(c,p)):void 0===(p=b.get(c))&&(p=new Set,b.set(c,p)),!p.has(s)){p.add(s);var x=Fp.bind(null,o,c,s);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);p=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),p=cs(p,s),d=a;do{switch(d.tag){case 3:o=p,d.flags|=4096,t&=-t,d.lanes|=t,fo(d,ds(0,o,t));break e;case 1:o=p;var w=d.type,E=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,fo(d,fs(d,o,t));break e}}d=d.return}while(null!==d)}Tp(n)}catch(O){t=O,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function jp(){var e=Cs.current;return Cs.current=Ra,null===e?Ra:e}function Sp(e,t){var n=Rs;Rs|=16;var r=jp();for(Ms===e&&Ns===t||_p(e,t);;)try{kp();break}catch(i){Pp(e,i)}if(no(),Rs=n,Cs.current=r,null!==Ds)throw Error(a(261));return Ms=null,Ns=0,Is}function kp(){for(;null!==Ds;)Cp(Ds)}function Ap(){for(;null!==Ds&&!ki();)Cp(Ds)}function Cp(e){var t=Ks(e.alternate,e,Bs);e.memoizedProps=e.pendingProps,null===t?Tp(e):Ds=t,Ts.current=null}function Tp(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Bs)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Bs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ps(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Is&&(Is=5)}function Rp(e){var t=Vi();return Wi(99,Mp.bind(null,e,t)),null}function Mp(e,t){do{Np()}while(null!==ep);if(0!==(48&Rs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,p=e.expirationTimes;0<o;){var c=31-Vt(o),l=1<<c;i[c]=0,s[c]=-1,p[c]=-1,o&=~l}if(null!==ip&&0===(24&r)&&ip.has(e)&&ip.delete(e),e===Ms&&(Ds=Ms=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ts.current=null,Fr=Yt,vr(s=yr())){if("selectionStart"in s)p={start:s.selectionStart,end:s.selectionEnd};else e:if(p=(p=s.ownerDocument)&&p.defaultView||window,(l=p.getSelection&&p.getSelection())&&0!==l.rangeCount){p=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{p.nodeType,c.nodeType}catch(j){p=null;break e}var u=0,d=-1,f=-1,h=0,m=0,y=s,v=null;t:for(;;){for(var g;y!==p||0!==o&&3!==y.nodeType||(d=u+o),y!==c||0!==l&&3!==y.nodeType||(f=u+l),3===y.nodeType&&(u+=y.nodeValue.length),null!==(g=y.firstChild);)v=y,y=g;for(;;){if(y===s)break t;if(v===p&&++h===o&&(d=u),v===c&&++m===l&&(f=u),null!==(g=y.nextSibling))break;v=(y=v).parentNode}y=g}p=-1===d||-1===f?null:{start:d,end:f}}else p=null;p=p||{start:0,end:0}}else p=null;qr={focusedElem:s,selectionRange:p},Yt=!1,lp=null,up=!1,Ys=r;do{try{Dp()}catch(j){if(null===Ys)throw Error(a(330));$p(Ys,j),Ys=Ys.nextEffect}}while(null!==Ys);lp=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ge(Ys.stateNode,""),128&b){var x=Ys.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es(Ys),Ys.flags&=-3;break;case 6:Es(Ys),Ys.flags&=-3,js(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,js(Ys.alternate,Ys);break;case 4:js(Ys.alternate,Ys);break;case 8:Ps(s,p=Ys);var E=p.alternate;xs(p),null!==E&&xs(E)}Ys=Ys.nextEffect}}catch(j){if(null===Ys)throw Error(a(330));$p(Ys,j),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,x=yr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),p=b.textContent.length,E=Math.min(s.start,p),s=void 0===s.end?E:Math.min(s.end,p),!w.extend&&E>s&&(p=s,s=E,E=p),p=hr(b,E),o=hr(b,s),p&&o&&(1!==w.rangeCount||w.anchorNode!==p.node||w.anchorOffset!==p.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(p.node,p.offset),w.removeAllRanges(),E>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Fr,qr=Fr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var O=Ys.flags;if(36&O&&vs(b,Ys.alternate,Ys),128&O){x=void 0;var _=Ys.ref;if(null!==_){var P=Ys.stateNode;Ys.tag,x=P,"function"===typeof _?_(x):_.current=x}}Ys=Ys.nextEffect}}catch(j){if(null===Ys)throw Error(a(330));$p(Ys,j),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ii(),Rs=i}else e.current=n;if(Zs)Zs=!1,ep=e,tp=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((O=Ys).sibling=null,O.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ap?op++:(op=0,ap=e):op=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Oi,n,void 0,64===(64&n.current.flags))}catch(j){}if(yp(e,Ui()),Xs)throw Xs=!1,e=Qs,Qs=null,e;return 0!==(8&Rs)||Ki(),null}function Dp(){for(;null!==Ys;){var e=Ys.alternate;up||null===lp||(0!==(8&Ys.flags)?et(Ys,lp)&&(up=!0):13===Ys.tag&&ks(e,Ys)&&et(Ys,lp)&&(up=!0));var t=Ys.flags;0!==(256&t)&&ys(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Np(),null}))),Ys=Ys.nextEffect}}function Np(){if(90!==tp){var e=97<tp?97:tp;return tp=90,Wi(e,Ip)}return!1}function Bp(e,t){np.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Np(),null})))}function Lp(e,t){rp.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Np(),null})))}function Ip(){if(null===ep)return!1;var e=ep;if(ep=null,0!==(48&Rs))throw Error(a(331));var t=Rs;Rs|=32;var n=rp;rp=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));$p(o,c)}}for(n=np,np=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var p=i.create;i.destroy=p()}catch(c){if(null===o)throw Error(a(330));$p(o,c)}}for(p=e.current.firstEffect;null!==p;)e=p.nextEffect,p.nextEffect=null,8&p.flags&&(p.sibling=null,p.stateNode=null),p=e;return Rs=t,Ki(),!0}function zp(e,t,n){uo(e,t=ds(0,t=cs(n,t),1)),t=dp(),null!==(e=mp(e,1))&&(Ut(e,1,t),yp(e,t))}function $p(e,t){if(3===e.tag)zp(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zp(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=fs(n,e=cs(t,e),1);if(uo(n,i),i=dp(),null!==(n=mp(n,1)))Ut(n,1,i),yp(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Fp(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dp(),e.pingedLanes|=e.suspendedLanes&n,Ms===e&&(Ns&n)===n&&(4===Is||3===Is&&(62914560&Ns)===Ns&&500>Ui()-Hs?_p(e,0):Us|=n),yp(e,t)}function qp(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===pp&&(pp=$s),0===(t=Ft(62914560&~pp))&&(t=4194304))),n=dp(),null!==(e=mp(e,t))&&(Ut(e,t,n),yp(e,n))}function Up(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vp(e,t,n,r){return new Up(e,t,n,r)}function Hp(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wp(e,t){var n=e.alternate;return null===n?((n=Vp(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gp(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hp(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Kp(n.children,i,o,t);case B:s=8,i|=16;break;case P:s=8,i|=1;break;case j:return(e=Vp(12,n,t,8|i)).elementType=j,e.type=j,e.lanes=o,e;case C:return(e=Vp(13,n,t,i)).type=C,e.elementType=C,e.lanes=o,e;case T:return(e=Vp(19,n,t,i)).elementType=T,e.lanes=o,e;case L:return Yp(n,i,o,t);case I:return(e=Vp(24,n,t,i)).elementType=I,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case k:s=9;break e;case A:s=11;break e;case R:s=14;break e;case M:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vp(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Kp(e,t,n,r){return(e=Vp(7,e,r,t)).lanes=n,e}function Yp(e,t,n,r){return(e=Vp(23,e,r,t)).elementType=L,e.lanes=n,e}function Xp(e,t,n){return(e=Vp(6,e,null,t)).lanes=n,e}function Qp(e,t,n){return(t=Vp(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jp(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zp(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=dp(),s=fp(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var p=n;do{switch(p.tag){case 3:p=p.stateNode.context;break t;case 1:if(vi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break t}}p=p.return}while(null!==p);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=xi(n,c,p);break e}}n=p}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),hp(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jp(e,t,null!=n&&!0===n.hydrate),t=Vp(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,po(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var p=i;i=function(){var e=tc(a);p.call(e)}}wp((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zp(e,t,null,n)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)La=!0;else{if(0===(n&r)){switch(La=!1,t.tag){case 3:Ga(t),Ko();break;case 5:Bo(t);break;case 1:vi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(ui(Io,1&Io.current),null!==(t=os(e,t,n))?t.sibling:null);ui(Io,1&Io.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Io,Io.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return os(e,t,n)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,fi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,po(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Ia(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hp(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=za(null,t,i,e,n);break e;case 14:t=$a(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Kr(t.stateNode.containerInfo.firstChild),$o=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ia(e,t,r,n),Ko();t=t.child}return t;case 5:return Bo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ua(e,t),Ia(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Ja(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var p=t.type._context;if(ui(Ji,p._currentValue),p._currentValue=o,null!==s)if(p=s.value,0===(o=lr(p,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(p,o):1073741823))){if(s.children===i.children&&!hi.current){t=os(e,t,n);break e}}else for(null!==(p=t.child)&&(p.return=t);null!==p;){var c=p.dependencies;if(null!==c){s=p.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===p.tag&&((l=lo(-1,n&-n)).tag=2,uo(p,l)),p.lanes|=n,null!==(l=p.alternate)&&(l.lanes|=n),io(p.return,n),c.lanes|=n;break}l=l.next}}else s=10===p.tag&&p.type===t.type?null:p.child;if(null!==s)s.return=p;else for(s=p;null!==s;){if(s===t){s=null;break}if(null!==(p=s.sibling)){p.return=s.return,s=p;break}s=s.return}p=s}Ia(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),$a(e,t,i,o=Qi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,wi(t)):e=!1,oo(t,n),xo(t,r,i),Eo(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(hp(e,4,dp()),rc(e,4))},nt=function(e){13===e.tag&&(hp(e,67108864,dp()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=dp(),n=fp(e);hp(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Me=xp,De=function(e,t,n,r,i){var o=Rs;Rs|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=o)&&(Gs(),Ki())}},Ne=function(){0===(49&Rs)&&(function(){if(null!==ip){var e=ip;ip=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yp(e,Ui())}))}Ki()}(),Np())},Be=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Ki())}};var pc={Events:[ri,ii,oi,Te,Re,Np,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Oi=uc.inject(lc),_i=uc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Rs=n,Ki()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wp((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xp,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(46),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,p=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var u=Symbol.for;i=u("react.element"),o=u("react.portal"),t.Fragment=u("react.fragment"),t.StrictMode=u("react.strict_mode"),t.Profiler=u("react.profiler"),a=u("react.provider"),s=u("react.context"),p=u("react.forward_ref"),t.Suspense=u("react.suspense"),c=u("react.memo"),l=u("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=g.prototype=new v;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var p=arguments.length-2;if(1===p)o.children=n;else if(1<p){for(var c=Array(p),l=0;l<p;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in p=e.defaultProps)void 0===o[r]&&(o[r]=p[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var P=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var p=!1;if(null===e)p=!0;else switch(s){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case i:case o:p=!0}}if(p)return a=a(p=e),e=""===r?"."+j(p,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),S(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||p&&p.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(p=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+j(s=e[c],c);p+=S(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)p+=S(s=s.value,t,n,l=r+j(s,c++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return p}function k(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function T(){var e=C.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(f(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,p=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,p=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:p}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(83)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var p=Date,c=p.now();t.unstable_now=function(){return p.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,v=null,g=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();x=e+b;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(n){throw E.postMessage(null),n}}else y=!1},r=function(e){v=e,y||(y=!0,E.postMessage(null))},i=function(e,n){g=f((function(){e(t.unstable_now())}),n)},o=function(){h(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<j(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,p=e[s];if(void 0!==a&&0>j(a,n))void 0!==p&&0>j(p,a)?(e[r]=p,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==p&&0>j(p,n)))break e;e[r]=p,e[s]=n,r=s}}}return t}return null}function j(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],k=[],A=1,C=null,T=3,R=!1,M=!1,D=!1;function N(e){for(var t=_(k);null!==t;){if(null===t.callback)P(k);else{if(!(t.startTime<=e))break;P(k),t.sortIndex=t.expirationTime,O(S,t)}t=_(k)}}function B(e){if(D=!1,N(e),!M)if(null!==_(S))M=!0,r(L);else{var t=_(k);null!==t&&i(B,t.startTime-e)}}function L(e,n){M=!1,D&&(D=!1,o()),R=!0;var r=T;try{for(N(n),C=_(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,T=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===_(S)&&P(S),N(n)}else P(S);C=_(S)}if(null!==C)var p=!0;else{var c=_(k);null!==c&&i(B,c.startTime-n),p=!1}return p}finally{C=null,T=r,R=!1}}var I=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||R||(M=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return e={id:A++,callback:n,priorityLevel:e,startTime:a,expirationTime:p=a+p,sortIndex:-1},a>s?(e.sortIndex=a,O(k,e),null===_(S)&&e===_(k)&&(D?o():D=!0,i(B,a-s))):(e.sortIndex=p,O(S,e),M||R||(M=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},function(e,t,n){var r=n(39).default,i=n(47).default,o=n(48).default,a=n(92),s={0:"off",1:"warn",2:"error"};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.config,n=e.resolver;if("undefined"===typeof n)throw new Error("must provide <options.resolver>");this.config=t,this.resolver=n,this.cachedRules={},this.cachedConfigs={}}function c(e){return"bpmnlint"===e?"bpmnlint":e.startsWith("bpmnlint-plugin-")?e:"bpmnlint-plugin-".concat(e)}e.exports=p,p.prototype.applyRule=function(e,t){var n=t.config,r=t.rule,i=t.category,s=t.name;try{return a({moddleRoot:e,rule:r,config:n}).map((function(e){return o(o({},e),{},{category:i})}))}catch(p){return console.error("rule <"+s+"> failed with error: ",p),[{message:"Rule error: "+p.message,category:"error"}]}},p.prototype.resolveRule=function(e,t){var n=this,r=this.parseRuleName(e),i=r.pkg,o=r.ruleName,a="".concat(i,"-").concat(o),s=this.cachedRules[a];return s?Promise.resolve(s):Promise.resolve(this.resolver.resolveRule(i,o)).then((function(r){if(!r)throw new Error("unknown rule <".concat(e,">"));return n.cachedRules[a]=r(t)}))},p.prototype.resolveConfig=function(e){var t=this,n=this.parseConfigName(e),r=n.pkg,i=n.configName,o="".concat(r,"-").concat(i),a=this.cachedConfigs[o];return a?Promise.resolve(a):Promise.resolve(this.resolver.resolveConfig(r,i)).then((function(n){if(!n)throw new Error("unknown config <".concat(e,">"));return t.cachedConfigs[o]=t.normalizeConfig(n,r)}))},p.prototype.resolveRules=function(e){var t=this;return this.resolveConfiguredRules(e).then((function(e){var n=Object.entries(e).map((function(e){var n=i(e,2),r=n[0],o=n[1],a=t.parseRuleValue(o);return{name:r,category:a.category,config:a.config}})).filter((function(e){return"off"!==e.category})).map((function(e){var n=e.name,r=e.config;return t.resolveRule(n,r).then((function(t){return o(o({},e),{},{rule:t})}))}));return Promise.all(n)}))},p.prototype.resolveConfiguredRules=function(e){var t=this,n=e.extends;return"string"===typeof n&&(n=[n]),"undefined"===typeof n&&(n=[]),Promise.all(n.map((function(e){return t.resolveConfig(e).then((function(e){return t.resolveConfiguredRules(e)}))}))).then((function(n){var i=t.normalizeConfig(e,"bpmnlint").rules;return[].concat(r(n),[i]).reduce((function(e,t){return o(o({},e),t)}),{})}))},p.prototype.lint=function(e,t){var n=this;return t=t||this.config,this.resolveRules(t).then((function(t){var r={};return t.forEach((function(t){var i=t.name,o=n.applyRule(e,t);o.length&&(r[i]=o)})),r}))},p.prototype.parseRuleValue=function(e){var t,n;return Array.isArray(e)?(t=e[0],n=e[1]):(t=e,n={}),"string"===typeof t&&(t=t.toLowerCase()),{config:n,category:t=s[t]||t}},p.prototype.parseRuleName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bpmnlint",n=/^(?:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)?([^/]+)$/.exec(e);if(!n)throw new Error("unparseable rule name <".concat(e,">"));var r=i(n,4),o=(r[0],r[1]),a=r[2],s=r[3];if(!a)return{pkg:t,ruleName:s};var p="".concat(o?o+"/":"").concat(c(a));return{pkg:p,ruleName:s}},p.prototype.parseConfigName=function(e){var t=/^(?:(?:plugin:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)|bpmnlint:)([^/]+)$/.exec(e);if(!t)throw new Error("unparseable config name <".concat(e,">"));var n=i(t,4),r=(n[0],n[1]),o=n[2],a=n[3];return o?{pkg:"".concat(r?r+"/":"").concat(c(o)),configName:a}:{pkg:"bpmnlint",configName:a}},p.prototype.getSimplePackageName=function(e){var t=/^(?:(@[^/]+)\/)?([^/]+)$/.exec(e);if(!t)throw new Error("unparseable package name <".concat(e,">"));var n=i(t,3),r=(n[0],n[1]),o=n[2];return"".concat(r?r+"/":"").concat(function(e){if(e.startsWith("bpmnlint-plugin-"))return e.substring("bpmnlint-plugin-".length);return e}(o))},p.prototype.normalizeConfig=function(e,t){var n=this,r=e.rules||{},i=Object.keys(r).reduce((function(e,i){var o=r[i],a=n.parseRuleName(i,t),s=a.pkg,p=a.ruleName;return e["bpmnlint"===s?p:"".concat(n.getSimplePackageName(s),"/").concat(p)]=o,e}),{});return o(o({},e),{},{rules:i})}},function(e,t,n){var r=n(53);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(p){s=!0,i=p}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(48).default,i=n(93).default,o=n(94).default,a=n(95),s=n(13),p=s.isArray,c=s.isObject,l=function(){"use strict";function e(t){var n=t.moddleRoot,r=t.rule;i(this,e),this.rule=r,this.moddleRoot=n,this.messages=[],this.report=this.report.bind(this)}return o(e,[{key:"report",value:function(e,t,n){var i={id:e,message:t};n&&p(n)&&(i=r(r({},i),{},{path:n})),n&&c(n)&&(i=r(r({},i),n)),this.messages.push(i)}}]),e}();e.exports=function(e){var t=e.moddleRoot,n=e.rule,r=new l({rule:n,moddleRoot:t}),i=n.check,o=i&&i.enter||i,s=i&&i.leave;if(!o&&!s)throw new Error("no check implemented");return a(t,{enter:o?function(e){return o(e,r)}:null,leave:s?function(e){return s(e,r)}:null}),r.messages}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function e(t,n){var r=n.enter||null,i=n.leave||null,o=r&&r(t),a=t.$descriptor;!1===o||a.isGeneric||a.properties.filter((function(e){return!e.isAttr&&!e.isReference&&"String"!==e.type})).forEach((function(r){if(r.name in t){var i=t[r.name];r.isMany?i.forEach((function(t){e(t,n)})):e(i,n)}}));i&&i(t)}},,function(e,t,n){var r=n(98);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(0).isFunction,i=n(0).isObject,o=n(0).some,a=["zeebe:TaskDefinition","zeebe:Subscription","zeebe:TaskHeaders","zeebe:LoopCharacteristics","zeebe:Input"];function s(e){var t=this;e.on("moddleCopy.canCopyProperty",(function(e){var n=e.property,r=e.parent;return t.canCopyProperty(n,r)}))}function p(e,t){return e&&r(e.$instanceOf)&&e.$instanceOf(t)}function c(e,t){return t?p(e,t)?e:e.$parent?c(e.$parent,t):void 0:e.$parent}s.$inject=["eventBus"],s.prototype.canCopyProperty=function(e,t){return!(i(e)&&!function(e,t){var n=e.$type&&e.$model.getTypeDescriptor(e.$type),r=n&&n.meta&&n.meta.allowedIn;if(!r||function(e){return-1!==e.indexOf("*")}(r))return!0;return o(r,(function(e){return c(t,e)}))}(e,t))&&(!!this.canHostServiceTaskLikeProperties(e,t)&&void 0)},s.prototype.canHostServiceTaskLikeProperties=function(e,t){if(function(e){return a.some((function(t){return p(e,t)}))}(e)){var n=c(t,"bpmn:IntermediateThrowEvent")||c(t,"bpmn:EndEvent");if(n)return n.get("eventDefinitions").some((function(e){return p(e,"bpmn:MessageEventDefinition")}))}return!0},e.exports=s},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n(46);var r=n(26),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!p.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";var r=n(63);function i(e,t,n){var i=r.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:i}),i.length&&i.forEach((function(r){e.set(r,t.inverse,n)}))}function o(e,t){if(!(this instanceof o))return new o(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}o.prototype.bind=function(e,t){if("string"===typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?i(this,t,e):function(e,t,n){var r=t.inverse,i=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return i},set:function(t){if(t!==i){var o=i;i=null,o&&e.unset(o,r,n),i=t,e.set(i,r,n)}}})}(this,t,e)},o.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return r.isExtended(n)||i(this,t,e),n},o.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},o.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},o.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";n.r(t),n.d(t,"Reader",(function(){return z})),n.d(t,"Writer",(function(){return ne}));var r=n(13),i=String.fromCharCode,o=Object.prototype.hasOwnProperty,a=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,s={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function p(e,t,n,r){return r?o.call(s,r)?s[r]:"&"+r+";":i(t||parseInt(n,16))}function c(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(a,p):e}Object.keys(s).forEach((function(e){s[e.toUpperCase()]=s[e]}));var l="xsi:type",u="non-whitespace outside of root node";function d(e){return new Error(e)}function f(e){return"missing namespace for prefix <"+e+">"}function h(e){return{get:e,enumerable:!0}}function m(e){var t,n={};for(t in e)n[t]=e[t];return n}function y(e){return e+"$uri"}function v(){return{line:0,column:0}}function g(e){throw e}function b(e){if(!this)return new b(e);var t,n,r,i,o,a,s,p,x,w=e&&e.proxy,E=g,O=v,_=!1,P=!1,j=null,S=!1;function k(e){e instanceof Error||(e=d(e)),j=e,E(e,O)}function A(e){o&&(e instanceof Error||(e=d(e)),o(e,O))}this.on=function(e,c){if("function"!==typeof c)throw d("required args <name, cb>");switch(e){case"openTag":n=c;break;case"text":t=c;break;case"closeTag":r=c;break;case"error":E=c;break;case"warn":o=c;break;case"cdata":i=c;break;case"attention":p=c;break;case"question":s=c;break;case"comment":a=c;break;default:throw d("unsupported event: "+e)}return this},this.ns=function(e){if("undefined"===typeof e&&(e={}),"object"!==typeof e)throw d("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",P=!0,x=n,this},this.parse=function(e){if("string"!==typeof e)throw d("required args <xml=string>");return j=null,function(e){var o,d,v,g,b,E,j,C,T,R,M,D=P?[]:null,N=P?function(e){var t,n,r={};for(t in e)r[n=e[t]]=n,r[y(n)]=t;return r}(x):null,B=[],L=0,I=!1,z=!1,$=0,F=0,q="",U=0;function V(){if(null!==M)return M;var e,t,n,r,i,o,a,s,p,u,d,h=P&&N.xmlns,v=P&&_?[]:null,g=U,b=q,w=b.length,E={},O={};e:for(;g<w;g++)if(p=!1,!(32===(u=b.charCodeAt(g))||u<14&&u>8)){for((u<65||u>122||u>90&&u<97)&&95!==u&&58!==u&&(A("illegal first char attribute name"),p=!0),d=g+1;d<w;d++)if(!((u=b.charCodeAt(d))>96&&u<123||u>64&&u<91||u>47&&u<59||46===u||45===u||95===u)){if(32===u||u<14&&u>8){A("missing attribute value"),g=d;continue e}if(61===u)break;A("illegal attribute name char"),p=!0}if("xmlns:xmlns"===(s=b.substring(g,d))&&(A("illegal declaration of xmlns"),p=!0),34===(u=b.charCodeAt(d+1)))-1===(d=b.indexOf('"',g=d+2))&&-1!==(d=b.indexOf("'",g))&&(A("attribute value quote missmatch"),p=!0);else if(39===u)-1===(d=b.indexOf("'",g=d+2))&&-1!==(d=b.indexOf('"',g))&&(A("attribute value quote missmatch"),p=!0);else for(A("missing attribute value quotes"),p=!0,d+=1;d<w&&!(32===(u=b.charCodeAt(d+1))||u<14&&u>8);d++);for(-1===d&&(A("missing closing quotes"),d=w,p=!0),p||(o=b.substring(g,d)),g=d;d+1<w&&!(32===(u=b.charCodeAt(d+1))||u<14&&u>8);d++)g===d&&(A("illegal character after attribute end"),p=!0);if(g=d+1,!p)if(s in O)A("attribute <"+s+"> already defined");else if(O[s]=!0,P)if(_){if(null!==(i="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=c(o),t=y(i),!(a=x[e])){if("xmlns"===i||t in N&&N[t]!==e)do{a="ns"+L++}while("undefined"!==typeof N[a]);else a=i;x[e]=a}N[i]!==a&&(r||(N=m(N),r=!0),N[i]=a,"xmlns"===i&&(N[y(a)]=e,h=a),N[t]=e),E[s]=o;continue}v.push(s,o)}else-1!==(u=s.indexOf(":"))?(n=N[s.substring(0,u)])?((s=h===n?s.substr(u+1):n+s.substr(u))===l&&(-1!==(u=o.indexOf(":"))?(n=o.substring(0,u),o=(n=N[n]||n)+o.substring(u)):o=h+":"+o),E[s]=o):A(f(s.substring(0,u))):E[s]=o;else E[s]=o}if(_)for(g=0,w=v.length;g<w;g++){if(s=v[g++],o=v[g],-1!==(u=s.indexOf(":"))){if(!(n=N[s.substring(0,u)])){A(f(s.substring(0,u)));continue}(s=h===n?s.substr(u+1):n+s.substr(u))===l&&(-1!==(u=o.indexOf(":"))?(n=o.substring(0,u),o=(n=N[n]||n)+o.substring(u)):o=h+":"+o)}E[s]=o}return M=E}function H(){for(var t,n,r=/(\r\n|\r|\n)/g,i=0,o=0,a=0,s=F;$>=a&&(t=r.exec(e))&&!((s=t[0].length+t.index)>$);)i+=1,a=s;return-1==$?(o=s,n=e.substring(F)):0===F?n=e.substring(F,$):(o=$-a,n=-1==F?e.substring($):e.substring($,F+1)),{data:n,line:i,column:o}}O=H,w&&(R=Object.create({},{name:h((function(){return C})),originalName:h((function(){return T})),attrs:h(V),ns:h((function(){return N}))}));for(;-1!==F;){if(-1===($=60===e.charCodeAt(F)?F:e.indexOf("<",F)))return B.length?k("unexpected end of file"):0===F?k("missing start tag"):void(F<e.length&&e.substring(F).trim()&&A(u));if(F!==$)if(B.length){if(t&&(t(e.substring(F,$),c,O),S))return}else if(e.substring(F,$).trim()&&(A(u),S))return;if(33===(b=e.charCodeAt($+1))){if(91===(g=e.charCodeAt($+2))&&"CDATA["===e.substr($+3,6)){if(-1===(F=e.indexOf("]]>",$)))return k("unclosed cdata");if(i&&(i(e.substring($+9,F),O),S))return;F+=3;continue}if(45===g&&45===e.charCodeAt($+3)){if(-1===(F=e.indexOf("--\x3e",$)))return k("unclosed comment");if(a&&(a(e.substring($+4,F),c,O),S))return;F+=3;continue}}if(63!==b){for(d=$+1;;d++){if(E=e.charCodeAt(d),isNaN(E))return F=-1,k("unclosed tag");if(34===E)d=-1!==(g=e.indexOf('"',d+1))?g:d;else if(39===E)d=-1!==(g=e.indexOf("'",d+1))?g:d;else if(62===E){F=d;break}}if(33!==b){if(M={},47===b){if(I=!1,z=!0,!B.length)return k("missing open tag");if(d=C=B.pop(),g=$+2+d.length,e.substring($+2,g)!==d)return k("closing tag mismatch");for(;g<F;g++)if(!(32===(b=e.charCodeAt(g))||b>8&&b<14))return k("close tag")}else{if(47===e.charCodeAt(F-1)?(d=C=e.substring($+1,F-1),I=!0,z=!0):(d=C=e.substring($+1,F),I=!0,z=!1),!(b>96&&b<123||b>64&&b<91||95===b||58===b))return k("illegal first char nodeName");for(g=1,v=d.length;g<v;g++)if(!((b=d.charCodeAt(g))>96&&b<123||b>64&&b<91||b>47&&b<59||45===b||95===b||46==b)){if(32===b||b<14&&b>8){C=d.substring(0,g),M=null;break}return k("invalid nodeName")}z||B.push(C)}if(P){if(o=N,I&&(z||D.push(o),null===M&&(_=-1!==d.indexOf("xmlns",g))&&(U=g,q=d,V(),_=!1)),T=C,-1!==(b=C.indexOf(":"))){if(!(j=N[C.substring(0,b)]))return k("missing namespace on <"+T+">");C=C.substr(b+1)}else j=N.xmlns;j&&(C=j+":"+C)}if(I&&(U=g,q=d,n&&(w?n(R,c,z,O):n(C,V,c,z,O),S)))return;if(z){if(r&&(r(w?R:C,c,I,O),S))return;P&&(N=I?o:D.pop())}F+=1}else{if(p&&(p(e.substring($,F+1),c,O),S))return;F+=1}}else{if(-1===(F=e.indexOf("?>",$)))return k("unclosed question");if(s&&(s(e.substring($,F+2),O),S))return;F+=2}}}(e),O=v,S=!1,j},this.stop=function(){S=!0}}var x=n(22);function w(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var E={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},O="xsi:type";function _(e){return e.xml&&e.xml.serialize}function P(e){return _(e)===O}function j(e,t){return w(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function S(e){return new Error(e)}function k(e){return e.$descriptor}function A(e){Object(r.assign)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw S("expected element");var t,n=this.elementsById,r=k(e).idProperty;if(r&&(t=e.get(r.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw S("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function C(){}function T(){}function R(){}function M(e,t){this.property=e,this.context=t}function D(e,t){this.element=t,this.propertyDesc=e}function N(){}function B(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function L(e,t,n){B.call(this,e,t,n)}function I(e,t,n){this.model=e,this.context=n}function z(e){e instanceof x.Moddle&&(e={model:e}),Object(r.assign)(this,{lax:!1},e)}C.prototype.handleEnd=function(){},C.prototype.handleText=function(){},C.prototype.handleNode=function(){},T.prototype=Object.create(C.prototype),T.prototype.handleNode=function(){return this},R.prototype=Object.create(C.prototype),R.prototype.handleText=function(e){this.body=(this.body||"")+e},M.prototype=Object.create(R.prototype),M.prototype.handleNode=function(e){if(this.element)throw S("expected no sub nodes");return this.element=this.createReference(e),this},M.prototype.handleEnd=function(){this.element.id=this.body},M.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},D.prototype=Object.create(R.prototype),D.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=Object(x.coerceType)(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},N.prototype=Object.create(R.prototype),N.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},B.prototype=Object.create(N.prototype),B.prototype.addReference=function(e){this.context.addReference(e)},B.prototype.handleText=function(e){if(!k(this.element).bodyProperty)throw S("unexpected body text <"+e+">");R.prototype.handleText.call(this,e)},B.prototype.handleEnd=function(){var e=this.body,t=this.element,n=k(t).bodyProperty;n&&void 0!==e&&(e=Object(x.coerceType)(n.type,e),t.set(n.name,e))},B.prototype.createElement=function(e){var t,n=e.attributes,i=this.type,o=k(i),a=this.context,s=new i({}),p=this.model;return Object(r.forEach)(n,(function(e,n){var i,c=o.propertiesByName[n];c&&c.isReference?c.isMany?(i=e.split(" "),Object(r.forEach)(i,(function(e){a.addReference({element:s,property:c.ns.name,id:e})}))):a.addReference({element:s,property:c.ns.name,id:e}):(c?e=Object(x.coerceType)(c.type,e):"xmlns"!==n&&(t=Object(x.parseNameNS)(n,o.ns.prefix),p.getPackage(t.prefix)&&a.addWarning({message:"unknown attribute <"+n+">",element:s,property:n,value:e})),s.set(n,e))})),s},B.prototype.getPropertyForNode=function(e){var t,n,i=e.name,o=Object(x.parseNameNS)(i),a=this.type,s=this.model,p=k(a),c=o.name,l=p.propertiesByName[c];if(l&&!l.isAttr)return P(l)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=Object(x.parseNameNS)(e);return function(e,t){var n=e.name,r=e.localName,i=t.xml&&t.xml.typePrefix;return i&&0===r.indexOf(i)?e.prefix+":"+r.slice(i.length):n}(n,t.getPackage(n.prefix))}(t,s),n=s.getType(t),Object(r.assign)({},l,{effectiveType:k(n).name})):l;var u=s.getPackage(o.prefix);if(u){if(t=j(o,u),n=s.getType(t),l=Object(r.find)(p.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return Object(r.assign)({},l,{effectiveType:k(n).name})}else if(l=Object(r.find)(p.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return l;throw S("unrecognized element <"+o.name+">")},B.prototype.toString=function(){return"ElementDescriptor["+k(this.type).name+"]"},B.prototype.valueHandler=function(e,t){return new D(e,t)},B.prototype.referenceHandler=function(e){return new M(e,this.context)},B.prototype.handler=function(e){return"Element"===e?new I(this.model,e,this.context):new B(this.model,e,this.context)},B.prototype.handleChild=function(e){var t,n,i,o;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,Object(x.isSimpleType)(n))return this.valueHandler(t,i);var a=(o=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==a&&(t.isMany?i.get(t.name).push(a):i.set(t.name,a),t.isReference?(Object(r.assign)(a,{element:i}),this.context.addReference(a)):a.$parent=i),o},L.prototype=Object.create(B.prototype),L.prototype.createElement=function(e){var t=e.name,n=Object(x.parseNameNS)(t),r=this.model,i=this.type,o=r.getPackage(n.prefix),a=o&&j(n,o)||t;if(!i.hasType(a))throw S("unexpected element <"+e.originalName+">");return B.prototype.createElement.call(this,e)},I.prototype=Object.create(N.prototype),I.prototype.createElement=function(e){var t=e.name,n=Object(x.parseNameNS)(t).prefix,r=e.ns[n+"$uri"],i=e.attributes;return this.model.createAny(t,r,i)},I.prototype.handleChild=function(e){var t=new I(this.model,"Element",this.context).handleNode(e),n=this.element,r=t.element;return void 0!==r&&((n.$children=n.$children||[]).push(r),r.$parent=n),t},I.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},z.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof B?(i=t,t={}):"string"===typeof t?(i=this.handler(t),t={}):"string"===typeof i&&(i=this.handler(i));var o=this.model,a=this.lax,s=new A(Object(r.assign)({},t,{rootHandler:i})),p=new b({proxy:!0}),c=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function l(e,t,n){var r=t(),i=r.line,o=r.column,a=r.data;"<"===a.charAt(0)&&-1!==a.indexOf(" ")&&(a=a.slice(0,a.indexOf(" "))+">");var p="unparsable content "+(a?a+" ":"")+"detected\n\tline: "+i+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return s.addWarning({message:p,error:e}),!0;throw S(p)}function u(e,t){return l(e,t,!0)}i.context=s,c.push(i);var d=/^<\?xml /i,f=/ encoding="([^"]+)"/i,h=/^utf-8$/i;function m(e,t){try{c.peek().handleText(e)}catch(n){u(n,t)}}var y=o.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return p.ns(y).on("openTag",(function(e,t,n,r){var i=e.attrs||{},o=Object.keys(i).reduce((function(e,n){var r=t(i[n]);return e[n]=r,e}),{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(r){l(r,t,a)&&c.push(new T)}}({name:e.name,originalName:e.originalName,attributes:o,ns:e.ns},r)})).on("question",(function(e){if(d.test(e)){var t=f.exec(e),n=t&&t[1];n&&!h.test(n)&&s.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){c.pop().handleEnd()})).on("cdata",m).on("text",(function(e,t,n){!function(e,t){e.trim()&&m(e,t)}(t(e),n)})).on("error",l).on("warn",u),new Promise((function(t,n){var r;try{p.parse(e),function(){var e,t,n=s.elementsById,r=s.references;for(e=0;t=r[e];e++){var i=t.element,o=n[t.id],a=k(i).propertiesByName[t.property];if(o||s.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),a.isMany){var p=i.get(a.name),c=p.indexOf(t);-1===c&&(c=p.length),o?p[c]=o:p.splice(c,1)}else i.set(a.name,o)}}()}catch(u){r=u}var o=i.element;r||o||(r=S("failed to parse document as <"+i.type.$descriptor.name+">"));var a=s.warnings,c=s.references,l=s.elementsById;return r?(r.warnings=a,n(r)):t({rootElement:o,elementsById:l,references:c,warnings:a})}))},z.prototype.handler=function(e){return new L(this.model,e)};var $=/<|>|'|"|&|\n\r|\n/g,F=/<|>|&/g;function q(e){var t={},n={},r={},i=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?i.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,i=this.getNSKey(t);r[i]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(i,o).filter((function(e){var n=t.getNSKey(e);return r[n]}))}}function U(e,t){return w(t)?(n=e).charAt(0).toLowerCase()+n.slice(1):e;var n}function V(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function H(e){return Object(r.isString)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var W={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},G={"<":"lt",">":"gt","&":"amp"};function K(e,t,n){return(e=Object(r.isString)(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function Y(e){this.tagName=e}function X(){}function Q(e){this.tagName=e}function J(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function Z(e,t){J.call(this,e,t)}function ee(){this.value="",this.write=function(e){this.value+=e}}function te(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function ne(e){return e=Object(r.assign)({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var r=n||new ee,i=new te(r,e.format);if(e.preamble&&i.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new J).build(t).serializeTo(i),!n)return r.value}}}Y.prototype.build=function(e){return this.element=e,this},Y.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},X.prototype.serializeValue=X.prototype.serializeTo=function(e){e.append(this.escape?K(this.value,F,G):this.value)},X.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(F)&&(this.escape=!0),this},V(Q,X),Q.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},J.prototype.build=function(e){this.element=e;var t,n,i,o=e.$descriptor,a=this.propertyDescriptor,s=o.isGeneric;return t=s?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=a?this.nsPropertyTagName(a):this.nsTagName(o),this.tagName=this.addTagName(this.ns),s||(n=function(e){var t=e.$descriptor;return Object(r.filter)(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!Object(r.has)(e,n))return!1;var i=e[n];return i!==t.default&&null!==i&&(!t.isMany||i.length)}))}(e),this.parseAttributes((i=n,Object(r.filter)(i,(function(e){return e.isAttr})))),this.parseContainments(function(e){return Object(r.filter)(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},J.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?Object(r.assign)({localName:t.ns.localName},e):Object(r.assign)({localName:U(t.ns.localName,t.$pkg)},e)}(this.logNamespaceUsed(e.ns),e)},J.prototype.nsPropertyTagName=function(e){return function(e,t){return Object(r.assign)({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},J.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},J.prototype.nsAttributeName=function(e){var t;if(t=Object(r.isString)(e)?Object(x.parseNameNS)(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:Object(r.assign)({localName:t.localName},n)},J.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return Object(r.forEach)(e,(function(o,a){"$body"===a?n.push((new X).build({type:"String"},o)):"$children"===a?Object(r.forEach)(o,(function(e){n.push(new J(t).build(e))})):0!==a.indexOf("$")&&t.parseNsAttribute(e,a,o)&&i.push({name:a,value:o})})),i},J.prototype.parseNsAttribute=function(e,t,n){var r,i=e.$model,o=Object(x.parseNameNS)(t);if("xmlns"===o.prefix&&(r={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(r={uri:n}),!r)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(r,!0,!0);else{var a=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(a)}},J.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,o=[];return Object(r.forEach)(i,(function(t,r){var i=n.parseNsAttribute(e,r,t);i&&o.push(i)})),o},J.prototype.parseGenericAttributes=function(e,t){var n=this;Object(r.forEach)(t,(function(t){if(t.name!==O)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(r){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,r)}}))},J.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;Object(r.forEach)(e,(function(e){var o=i.get(e.name),a=e.isReference;if(e.isMany||(o=[o]),e.isBody)n.push((new X).build(e,o[0]));else if(Object(x.isSimpleType)(e.type))Object(r.forEach)(o,(function(r){n.push(new Q(t.addTagName(t.nsPropertyTagName(e))).build(e,r))}));else if(a)Object(r.forEach)(o,(function(r){n.push(new Y(t.addTagName(t.nsPropertyTagName(e))).build(r))}));else{var s=P(e),p=function(e){return"property"===_(e)}(e);Object(r.forEach)(o,(function(r){var i;i=s?new Z(t,e):p?new J(t,e):new J(t),n.push(i.build(r))}))}}))},J.prototype.getNamespaces=function(e){var t,n=this.namespaces,r=this.parent;return n||(t=r&&r.getNamespaces(),e||!t?this.namespaces=n=new q(t):n=t),n},J.prototype.logNamespace=function(e,t,n){var r=this.getNamespaces(n),i=e.uri,o=e.prefix;return r.byUri(i)&&!n||r.add(e,t),r.mapPrefix(o,i),e},J.prototype.logNamespaceUsed=function(e,t){var n,r,i,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,p=e.uri;if(!s&&!p)return{localName:e.localName};if(i=E[s]||o&&(o.getPackage(s)||{}).uri,!(p=p||i||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(p))){for(n=s,r=1;a.uriByPrefix(n);)n=s+"_"+r++;e=this.logNamespace({prefix:n,uri:p},i===p)}return s&&a.mapPrefix(s,p),e},J.prototype.parseAttributes=function(e){var t=this,n=this.element;Object(r.forEach)(e,(function(e){var i=n.get(e.name);if(e.isReference)if(e.isMany){var o=[];Object(r.forEach)(i,(function(e){o.push(e.id)})),i=o.join(" ")}else i=i.id;t.addAttribute(t.nsAttributeName(e),i)}))},J.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),H(e)},J.prototype.addAttribute=function(e,t){var n=this.attrs;Object(r.isString)(t)&&(t=K(t,$,W)),n.push({name:e,value:t})},J.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return e.getUsed().filter((function(e){return"xml"!==e.prefix})).map((function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),Object(r.forEach)(t,(function(t){e.append(" ").append(H(t.name)).append('="').append(t.value).append('"')}))},J.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==X;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),Object(r.forEach)(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},V(Z,J),Z.prototype.parseNsAttributes=function(e){var t=J.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(O),(r.prefix?r.prefix+":":"")+o+n.ns.localName),t},Z.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri}}]]);
//# sourceMappingURL=2.3f2a712d.chunk.js.map